const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-CWJwigaH-Dn1kB1rT-DC_LFbLk.js","assets/progress-D8Mly-oi-3Ij_j_WH-Cj7a_al8.js","assets/InstallPrompt-DgpoMmSN-7-1KwCIk-DbIVIKDj.js","assets/download-D48Ya7JV-BCGP1QsL-Cyxdz05A.js","assets/Home-CyglPuDJ-D9CUbwlO-Dn0JEjKr.js","assets/flame-ByI7R4Rc-BbLUZ-TU-EBlXwzii.js","assets/AppTrialPromo-3kaWkndE-BUzGMVIJ-CI0rBIlc.js","assets/zap-w4f_OL2g-BKWEZluV-BRBCNtj7.js","assets/external-link-BZwlM77U-BVaGwVZ--DhInU3m1.js","assets/trending-up-Bw7UHNpS-DrWngiVT-DdV0ZwgI.js","assets/target-CKjL3a7Z-CNfUoT2L-BFcD-nDp.js","assets/book-open-ChO3lU0J-BkdXvgrc-D-2K2eBZ.js","assets/plus-BTrUTde5-BsVl2K3z-CvCU6UVn.js","assets/minus-Dt83-KDs-D9F3lV9Z-BDHZu3mA.js","assets/credit-card-6uWoetCu-Drjw4SxZ-C4TAGbnZ.js","assets/lock-C1-5gGAl-B47CgZWV-D6DQBFTb.js","assets/circle-alert-BiIT3tKc-CrsIGr-p-Dg4J1ZQm.js","assets/award-DsC9STJ2-D9jCxi3D-CzTl10qc.js","assets/palette-DxTrdA_5-Gsry3mCk-nyyptmWA.js","assets/Game-Car3f5Hl-Cd-6q65H-DycnM-eA.js","assets/useMutation-BBbn5Ibo-BJFBDAw4-Dv4aGJVX.js","assets/CelebrationAnimation-5xmelkAl-MsLmzNGW-DQLTHAl3.js","assets/TextToSpeech-jPFv8Mzs-9YNY52v7-7DUXlPgf.js","assets/coins-C3lSgozT-BPAlcUrl-iLAVQAYw.js","assets/rotate-ccw-BY_oOohm-Dv5j0UO6-ChJLhnxT.js","assets/trending-down-DyY_-Dls-DCTF-sbq-Bkw8f1qh.js","assets/triangle-alert-Dd6OicLx-I3IE0NwH-CK_H4sCV.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DOt-wJcj-CYCxA8pw-VcdfFfA8.js","assets/arrow-left-B1UHrOU7-W_GQWmbU-B_okVX8Y.js","assets/Avatar-D3Vaufpw-BPf8_-ke-_cfin1pE.js","assets/label-BaWOfaZ4-D2bnlHOe-C3ZiZWl7.js","assets/tabs-CHDP_n8y-n--N7dEs-DHG4L-Nj.js","assets/AvatarDisplay-Bq8KvINC-Bkjcf5GX-CYSbrbbG.js","assets/index-BwFEnwcg-BH8kZdV1-7yxjqrzn.js","assets/save-_1Dbls43-gPqzGvW6-BzKl92VA.js","assets/DailyChallenge-B_TmHe71-9_GzLfER-CsxzqZM3.js","assets/medal-Co574HnZ-BrwNViFy-sMcS5xR1.js","assets/ParentPortal-uD_6EQCB-BlSm9-Pl-CqRX-Mqx.js","assets/textarea-CfSFlC7Y-B1_HOiLG-pWb3N6sq.js","assets/LineChart-0kDBnRpG-iX5USs7J-BJ6MuG4s.js","assets/select-D2ka9gIq-C0DnmY5i-BWzDVN5C.js","assets/index-DZTJ2JNZ-WUehWf7O-DIREPI33.js","assets/trash-2-BVBrMuhg-D5aZdlx9-Dv72TkUa.js","assets/info-DJ4PsQna-CO-tw7TM-YieTzC9S.js","assets/mail-DSHElOAU-Dxc-4tqR-C0HLJ1Zz.js","assets/startOfMonth-Wd0pZm1a-DWY8TbZA-B0MXGfsi.js","assets/Shop-Dpi3jNOM-DBLOEYJG-BF_sU9CL.js","assets/Leaderboards-CYLEtOqi-D_0nKBrZ-8wsJcEna.js","assets/user-plus-BnLNyW7y-BT90OHfh-Bbe3Z968.js","assets/TeamChallenges-2GLMQU7M-DGgliDx1-BiEgICqP.js","assets/Subscription-BwkMZCw3-CEKs35DZ-Ca0AxS_j.js","assets/GenerateIcons-B2dbw11g-DbI9Llo8-DSH_4hZW.js","assets/loader-circle-D_xhh0c4-CLUvB6LZ-DPJOnd_j.js","assets/TestIconGeneration-CQ_anw_c-DHgdrWEA-CQ8b8X2E.js","assets/Messages-Ro3POV2v-CReMRa01-C3gv55fU.js","assets/ColorByNumbers-C-wguKtm-Bn3BlVF7-BLo1ZjK5.js","assets/paint-bucket-Dhf5qwFX-BnQ0KpQY-R5JPzhI_.js","assets/Settings-8809jpiZ-B7_Y2-Lf-Ob_cgABU.js","assets/PrivacyPolicy-BVigO746-wx1walw0-DZa-2oPw.js","assets/AITutor-pphYUSPx-B8CYTmba-CJp6NfrQ.js","assets/AdminTestAccount-vgF3JIMZ-DLwBWfuV-B6y8j50m.js","assets/Subscribe-CBrYcDKc-BQQoBtfw-x_C8Mm2o.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Ej="modulepreload",Tj=function(t){return"/"+t},RT={},zt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(n.map(d=>{if(d=Tj(d),d in RT)return;RT[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Ej,m||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),m)return new Promise((E,_)=>{v.addEventListener("load",E),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},$t=(t,e=$t,n=e.f||(e.f=["assets/PetDisplay-CWJwigaH-Dn1kB1rT.js","assets/progress-D8Mly-oi-3Ij_j_WH.js","assets/InstallPrompt-DgpoMmSN-7-1KwCIk.js","assets/download-D48Ya7JV-BCGP1QsL.js","assets/Home-CyglPuDJ-D9CUbwlO.js","assets/flame-ByI7R4Rc-BbLUZ-TU.js","assets/AppTrialPromo-3kaWkndE-BUzGMVIJ.js","assets/zap-w4f_OL2g-BKWEZluV.js","assets/external-link-BZwlM77U-BVaGwVZ-.js","assets/trending-up-Bw7UHNpS-DrWngiVT.js","assets/target-CKjL3a7Z-CNfUoT2L.js","assets/book-open-ChO3lU0J-BkdXvgrc.js","assets/plus-BTrUTde5-BsVl2K3z.js","assets/minus-Dt83-KDs-D9F3lV9Z.js","assets/credit-card-6uWoetCu-Drjw4SxZ.js","assets/lock-C1-5gGAl-B47CgZWV.js","assets/circle-alert-BiIT3tKc-CrsIGr-p.js","assets/award-DsC9STJ2-D9jCxi3D.js","assets/palette-DxTrdA_5-Gsry3mCk.js","assets/Game-Car3f5Hl-Cd-6q65H.js","assets/useMutation-BBbn5Ibo-BJFBDAw4.js","assets/CelebrationAnimation-5xmelkAl-MsLmzNGW.js","assets/TextToSpeech-jPFv8Mzs-9YNY52v7.js","assets/coins-C3lSgozT-BPAlcUrl.js","assets/rotate-ccw-BY_oOohm-Dv5j0UO6.js","assets/trending-down-DyY_-Dls-DCTF-sbq.js","assets/triangle-alert-Dd6OicLx-I3IE0NwH.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DOt-wJcj-CYCxA8pw.js","assets/arrow-left-B1UHrOU7-W_GQWmbU.js","assets/Avatar-D3Vaufpw-BPf8_-ke.js","assets/label-BaWOfaZ4-D2bnlHOe.js","assets/tabs-CHDP_n8y-n--N7dEs.js","assets/AvatarDisplay-Bq8KvINC-Bkjcf5GX.js","assets/index-BwFEnwcg-BH8kZdV1.js","assets/save-_1Dbls43-gPqzGvW6.js","assets/DailyChallenge-B_TmHe71-9_GzLfER.js","assets/medal-Co574HnZ-BrwNViFy.js","assets/ParentPortal-uD_6EQCB-BlSm9-Pl.js","assets/textarea-CfSFlC7Y-B1_HOiLG.js","assets/LineChart-0kDBnRpG-iX5USs7J.js","assets/select-D2ka9gIq-C0DnmY5i.js","assets/index-DZTJ2JNZ-WUehWf7O.js","assets/trash-2-BVBrMuhg-D5aZdlx9.js","assets/info-DJ4PsQna-CO-tw7TM.js","assets/mail-DSHElOAU-Dxc-4tqR.js","assets/startOfMonth-Wd0pZm1a-DWY8TbZA.js","assets/Shop-Dpi3jNOM-DBLOEYJG.js","assets/Leaderboards-CYLEtOqi-D_0nKBrZ.js","assets/user-plus-BnLNyW7y-BT90OHfh.js","assets/TeamChallenges-2GLMQU7M-DGgliDx1.js","assets/Subscription-BwkMZCw3-CEKs35DZ.js","assets/GenerateIcons-B2dbw11g-DbI9Llo8.js","assets/loader-circle-D_xhh0c4-CLUvB6LZ.js","assets/TestIconGeneration-CQ_anw_c-DHgdrWEA.js","assets/Messages-Ro3POV2v-CReMRa01.js","assets/ColorByNumbers-C-wguKtm-Bn3BlVF7.js","assets/paint-bucket-Dhf5qwFX-BnQ0KpQY.js","assets/Settings-8809jpiZ-B7_Y2-Lf.js","assets/PrivacyPolicy-BVigO746-wx1walw0.js","assets/AITutor-pphYUSPx-B8CYTmba.js","assets/AdminTestAccount-vgF3JIMZ-DLwBWfuV.js","assets/Subscribe-CBrYcDKc-BQQoBtfw.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const kj="modulepreload",_j=function(t){return"/"+t},NT={},qt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(h=>{if(h=_j(h),h in NT)return;NT[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":kj,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Gt=(t,e=Gt,n=e.f||(e.f=["assets/PetDisplay-CWJwigaH.js","assets/progress-D8Mly-oi.js","assets/InstallPrompt-DgpoMmSN.js","assets/download-D48Ya7JV.js","assets/Home-CyglPuDJ.js","assets/flame-ByI7R4Rc.js","assets/AppTrialPromo-3kaWkndE.js","assets/zap-w4f_OL2g.js","assets/external-link-BZwlM77U.js","assets/trending-up-Bw7UHNpS.js","assets/target-CKjL3a7Z.js","assets/book-open-ChO3lU0J.js","assets/plus-BTrUTde5.js","assets/minus-Dt83-KDs.js","assets/credit-card-6uWoetCu.js","assets/lock-C1-5gGAl.js","assets/circle-alert-BiIT3tKc.js","assets/award-DsC9STJ2.js","assets/palette-DxTrdA_5.js","assets/Game-Car3f5Hl.js","assets/useMutation-BBbn5Ibo.js","assets/CelebrationAnimation-5xmelkAl.js","assets/TextToSpeech-jPFv8Mzs.js","assets/coins-C3lSgozT.js","assets/rotate-ccw-BY_oOohm.js","assets/trending-down-DyY_-Dls.js","assets/triangle-alert-Dd6OicLx.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DOt-wJcj.js","assets/arrow-left-B1UHrOU7.js","assets/Avatar-D3Vaufpw.js","assets/label-BaWOfaZ4.js","assets/tabs-CHDP_n8y.js","assets/AvatarDisplay-Bq8KvINC.js","assets/index-BwFEnwcg.js","assets/save-_1Dbls43.js","assets/DailyChallenge-B_TmHe71.js","assets/medal-Co574HnZ.js","assets/ParentPortal-uD_6EQCB.js","assets/textarea-CfSFlC7Y.js","assets/LineChart-0kDBnRpG.js","assets/select-D2ka9gIq.js","assets/index-DZTJ2JNZ.js","assets/trash-2-BVBrMuhg.js","assets/info-DJ4PsQna.js","assets/mail-DSHElOAU.js","assets/startOfMonth-Wd0pZm1a.js","assets/Shop-Dpi3jNOM.js","assets/Leaderboards-CYLEtOqi.js","assets/user-plus-BnLNyW7y.js","assets/TeamChallenges-2GLMQU7M.js","assets/Subscription-BwkMZCw3.js","assets/GenerateIcons-B2dbw11g.js","assets/loader-circle-D_xhh0c4.js","assets/TestIconGeneration-CQ_anw_c.js","assets/Messages-Ro3POV2v.js","assets/ColorByNumbers-C-wguKtm.js","assets/paint-bucket-Dhf5qwFX.js","assets/Settings-8809jpiZ.js","assets/PrivacyPolicy-BVigO746.js","assets/AITutor-pphYUSPx.js","assets/AdminTestAccount-vgF3JIMZ.js","assets/Subscribe-CBrYcDKc.js"]))=>t.map(r=>n[r]);var Ij=Object.defineProperty,j2=t=>{throw TypeError(t)},Cj=(t,e,n)=>e in t?Ij(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DT=(t,e,n)=>Cj(t,typeof e!="symbol"?e+"":e,n),Yb=(t,e,n)=>e.has(t)||j2("Cannot "+n),q=(t,e,n)=>(Yb(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?j2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(Yb(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(Yb(t,e,"access private method"),n),Ew=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function Aj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var ene=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OT={exports:{}},Nh={},MT={exports:{}},He={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var LT;function Pj(){if(LT)return He;LT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function I(H,re,pe){this.props=H,this.context=re,this.refs=k,this.updater=pe||E}I.prototype.isReactComponent={},I.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},I.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function P(){}P.prototype=I.prototype;function R(H,re,pe){this.props=H,this.context=re,this.refs=k,this.updater=pe||E}var M=R.prototype=new P;M.constructor=R,_(M,I.prototype),M.isPureReactComponent=!0;var V=Array.isArray,z=Object.prototype.hasOwnProperty,K={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(H,re,pe){var me,De={},Be=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(Be=""+re.key),re)z.call(re,me)&&!D.hasOwnProperty(me)&&(De[me]=re[me]);var $e=arguments.length-2;if($e===1)De.children=pe;else if(1<$e){for(var Ve=Array($e),dt=0;dt<$e;dt++)Ve[dt]=arguments[dt+2];De.children=Ve}if(H&&H.defaultProps)for(me in $e=H.defaultProps,$e)De[me]===void 0&&(De[me]=$e[me]);return{$$typeof:t,type:H,key:Be,ref:Ce,props:De,_owner:K.current}}function N(H,re){return{$$typeof:t,type:H.type,key:re,ref:H.ref,props:H.props,_owner:H._owner}}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function U(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function L(H,re){return typeof H=="object"&&H!==null&&H.key!=null?U(""+H.key):re.toString(36)}function be(H,re,pe,me,De){var Be=typeof H;(Be==="undefined"||Be==="boolean")&&(H=null);var Ce=!1;if(H===null)Ce=!0;else switch(Be){case"string":case"number":Ce=!0;break;case"object":switch(H.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=H,De=De(Ce),H=me===""?"."+L(Ce,0):me,V(De)?(pe="",H!=null&&(pe=H.replace($,"$&/")+"/"),be(De,re,pe,"",function(dt){return dt})):De!=null&&(j(De)&&(De=N(De,pe+(!De.key||Ce&&Ce.key===De.key?"":(""+De.key).replace($,"$&/")+"/")+H)),re.push(De)),1;if(Ce=0,me=me===""?".":me+":",V(H))for(var $e=0;$e<H.length;$e++){Be=H[$e];var Ve=me+L(Be,$e);Ce+=be(Be,re,pe,Ve,De)}else if(Ve=v(H),typeof Ve=="function")for(H=Ve.call(H),$e=0;!(Be=H.next()).done;)Be=Be.value,Ve=me+L(Be,$e++),Ce+=be(Be,re,pe,Ve,De);else if(Be==="object")throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Ne(H,re,pe){if(H==null)return H;var me=[],De=0;return be(H,me,"","",function(Be){return re.call(pe,Be,De++)}),me}function ye(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(pe){(H._status===0||H._status===-1)&&(H._status=1,H._result=pe)},function(pe){(H._status===0||H._status===-1)&&(H._status=2,H._result=pe)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var ve={current:null},W={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function oe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Ne,forEach:function(H,re,pe){Ne(H,function(){re.apply(this,arguments)},pe)},count:function(H){var re=0;return Ne(H,function(){re++}),re},toArray:function(H){return Ne(H,function(re){return re})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},He.Component=I,He.Fragment=n,He.Profiler=s,He.PureComponent=R,He.StrictMode=r,He.Suspense=h,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=oe,He.cloneElement=function(H,re,pe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var me=_({},H.props),De=H.key,Be=H.ref,Ce=H._owner;if(re!=null){if(re.ref!==void 0&&(Be=re.ref,Ce=K.current),re.key!==void 0&&(De=""+re.key),H.type&&H.type.defaultProps)var $e=H.type.defaultProps;for(Ve in re)z.call(re,Ve)&&!D.hasOwnProperty(Ve)&&(me[Ve]=re[Ve]===void 0&&$e!==void 0?$e[Ve]:re[Ve])}var Ve=arguments.length-2;if(Ve===1)me.children=pe;else if(1<Ve){$e=Array(Ve);for(var dt=0;dt<Ve;dt++)$e[dt]=arguments[dt+2];me.children=$e}return{$$typeof:t,type:H.type,key:De,ref:Be,props:me,_owner:Ce}},He.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},He.createElement=C,He.createFactory=function(H){var re=C.bind(null,H);return re.type=H,re},He.createRef=function(){return{current:null}},He.forwardRef=function(H){return{$$typeof:u,render:H}},He.isValidElement=j,He.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:ye}},He.memo=function(H,re){return{$$typeof:d,type:H,compare:re===void 0?null:re}},He.startTransition=function(H){var re=W.transition;W.transition={};try{H()}finally{W.transition=re}},He.unstable_act=oe,He.useCallback=function(H,re){return ve.current.useCallback(H,re)},He.useContext=function(H){return ve.current.useContext(H)},He.useDebugValue=function(){},He.useDeferredValue=function(H){return ve.current.useDeferredValue(H)},He.useEffect=function(H,re){return ve.current.useEffect(H,re)},He.useId=function(){return ve.current.useId()},He.useImperativeHandle=function(H,re,pe){return ve.current.useImperativeHandle(H,re,pe)},He.useInsertionEffect=function(H,re){return ve.current.useInsertionEffect(H,re)},He.useLayoutEffect=function(H,re){return ve.current.useLayoutEffect(H,re)},He.useMemo=function(H,re){return ve.current.useMemo(H,re)},He.useReducer=function(H,re,pe){return ve.current.useReducer(H,re,pe)},He.useRef=function(H){return ve.current.useRef(H)},He.useState=function(H){return ve.current.useState(H)},He.useSyncExternalStore=function(H,re,pe){return ve.current.useSyncExternalStore(H,re,pe)},He.useTransition=function(){return ve.current.useTransition()},He.version="18.3.1",He}var jT;function Jb(){return jT||(jT=1,MT.exports=Pj()),MT.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var FT;function Rj(){if(FT)return Nh;FT=1;var t=Jb(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(u,h,d){var m,g={},v=null,E=null;d!==void 0&&(v=""+d),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(E=h.ref);for(m in h)r.call(h,m)&&!i.hasOwnProperty(m)&&(g[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:u,key:v,ref:E,props:g,_owner:s.current}}return Nh.Fragment=n,Nh.jsx=a,Nh.jsxs=a,Nh}var UT;function Nj(){return UT||(UT=1,OT.exports=Rj()),OT.exports}var x=Nj(),S=Jb();const vn=Xb(S),Zb=Aj({__proto__:null,default:vn},[S]);var Qp={},g0={exports:{}},Qn={},VT={exports:{}},BT={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var zT;function Dj(){return zT||(zT=1,(function(t){function e(W,ne){var oe=W.length;W.push(ne);e:for(;0<oe;){var H=oe-1>>>1,re=W[H];if(0<s(re,ne))W[H]=ne,W[oe]=re,oe=H;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ne=W[0],oe=W.pop();if(oe!==ne){W[0]=oe;e:for(var H=0,re=W.length,pe=re>>>1;H<pe;){var me=2*(H+1)-1,De=W[me],Be=me+1,Ce=W[Be];if(0>s(De,oe))Be<re&&0>s(Ce,De)?(W[H]=Ce,W[Be]=oe,H=Be):(W[H]=De,W[me]=oe,H=me);else if(Be<re&&0>s(Ce,oe))W[H]=Ce,W[Be]=oe,H=Be;else break e}}return ne}function s(W,ne){var oe=W.sortIndex-ne.sortIndex;return oe!==0?oe:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],d=[],m=1,g=null,v=3,E=!1,_=!1,k=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(W){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=W)r(d),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=n(d)}}function V(W){if(k=!1,M(W),!_)if(n(h)!==null)_=!0,ye(z);else{var ne=n(d);ne!==null&&ve(V,ne.startTime-W)}}function z(W,ne){_=!1,k&&(k=!1,P(C),C=-1),E=!0;var oe=v;try{for(M(ne),g=n(h);g!==null&&(!(g.expirationTime>ne)||W&&!U());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var re=H(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(h)&&r(h),M(ne)}else r(h);g=n(h)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(V,me.startTime-ne),pe=!1}return pe}finally{g=null,v=oe,E=!1}}var K=!1,D=null,C=-1,N=5,j=-1;function U(){return!(t.unstable_now()-j<N)}function $(){if(D!==null){var W=t.unstable_now();j=W;var ne=!0;try{ne=D(!0,W)}finally{ne?L():(K=!1,D=null)}}else K=!1}var L;if(typeof R=="function")L=function(){R($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ne=be.port2;be.port1.onmessage=$,L=function(){Ne.postMessage(null)}}else L=function(){I($,0)};function ye(W){D=W,K||(K=!0,L())}function ve(W,ne){C=I(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){_||E||(_=!0,ye(z))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var oe=v;v=ne;try{return W()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=v;v=W;try{return ne()}finally{v=oe}},t.unstable_scheduleCallback=function(W,ne,oe){var H=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?H+oe:H):oe=H,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=oe+re,W={id:m++,callback:ne,priorityLevel:W,startTime:oe,expirationTime:re,sortIndex:-1},oe>H?(W.sortIndex=oe,e(d,W),n(h)===null&&W===n(d)&&(k?(P(C),C=-1):k=!0,ve(V,oe-H))):(W.sortIndex=re,e(h,W),_||E||(_=!0,ye(z))),W},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(W){var ne=v;return function(){var oe=v;v=ne;try{return W.apply(this,arguments)}finally{v=oe}}}})(BT)),BT}var $T;function Oj(){return $T||($T=1,VT.exports=Dj()),VT.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var qT;function Mj(){if(qT)return Qn;qT=1;var t=Jb(),e=Oj();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return h.call(g,o)?!0:h.call(m,o)?!1:d.test(o)?g[o]=!0:(m[o]=!0,!1)}function E(o,l,c,p){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,l,c,p){if(l===null||typeof l>"u"||E(o,l,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(o,l,c,p,y,w,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=l,this.sanitizeURL=w,this.removeEmptyString=A}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){I[o]=new k(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];I[l]=new k(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){I[o]=new k(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){I[o]=new k(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){I[o]=new k(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){I[o]=new k(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){I[o]=new k(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){I[o]=new k(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){I[o]=new k(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function R(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(P,R);I[l]=new k(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(P,R);I[l]=new k(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(P,R);I[l]=new k(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){I[o]=new k(o,1,!1,o.toLowerCase(),null,!1,!1)}),I.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){I[o]=new k(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,c,p){var y=I.hasOwnProperty(l)?I[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(_(l,c,y,p)&&(c=null),p||y===null?v(l)&&(c===null?o.removeAttribute(l):o.setAttribute(l,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(l=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(l):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,l,c):o.setAttribute(l,c))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,H;function re(o){if(H===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+o}var pe=!1;function me(o,l){if(!o||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var p=Z}Reflect.construct(o,[],l)}else{try{l.call()}catch(Z){p=Z}o.call(l.prototype)}else{try{throw Error()}catch(Z){p=Z}o()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),A=y.length-1,F=w.length-1;1<=A&&0<=F&&y[A]!==w[F];)F--;for(;1<=A&&0<=F;A--,F--)if(y[A]!==w[F]){if(A!==1||F!==1)do if(A--,F--,0>F||y[A]!==w[F]){var B=`
`+y[A].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=A&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?re(o):""}function De(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=me(o.type,!1),o;case 11:return o=me(o.type.render,!1),o;case 1:return o=me(o.type,!0),o;default:return""}}function Be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case K:return"Portal";case N:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case be:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case U:return(o.displayName||"Context")+".Consumer";case j:return(o._context.displayName||"Context")+".Provider";case $:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ne:return l=o.displayName||null,l!==null?l:Be(o.type)||"Memo";case ye:l=o._payload,o=o._init;try{return Be(o(l))}catch{}}return null}function Ce(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ve(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function dt(o){var l=Ve(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,w.call(this,A)}}),Object.defineProperty(o,l,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function br(o){o._valueTracker||(o._valueTracker=dt(o))}function xr(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return o&&(p=Ve(o)?o.checked?"true":"false":o.value),o=p,o!==c?(l.setValue(o),!0):!1}function $n(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Gi(o,l){var c=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Fl(o,l){var c=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;c=$e(l.value!=null?l.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Hi(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function ei(o,l){Hi(o,l);var c=$e(l.value),p=l.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ft(o,l.type,c):l.hasOwnProperty("defaultValue")&&ft(o,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function la(o,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,c||l===o.value||(o.value=l),o.defaultValue=l}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function ft(o,l,c){(l!=="number"||$n(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Ot=Array.isArray;function Br(o,l,c,p){if(o=o.options,l){l={};for(var y=0;y<c.length;y++)l["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=l.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+$e(c),l=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}l!==null||o[y].disabled||(l=o[y])}l!==null&&(l.selected=!0)}}function Vc(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Bc(o,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(n(92));if(Ot(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),c=l}o._wrapperState={initialValue:$e(c)}}function Mf(o,l){var c=$e(l.value),p=$e(l.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),l.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function Ki(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function zc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ul(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?zc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Wi,Lf=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(l,c,p,y)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Wi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ua(o,l){if(l){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=l;return}}o.textContent=l}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(o){jf.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Qi[l]=Qi[o]})});function Yi(o,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Qi.hasOwnProperty(o)&&Qi[o]?(""+l).trim():l+"px"}function Vl(o,l){o=o.style;for(var c in l)if(l.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Yi(c,l[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var $c=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(o,l){if(l){if($c[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Bl(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function zl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ti=null,ni=null,At=null;function qc(o){if(o=yh(o)){if(typeof ti!="function")throw Error(n(280));var l=o.stateNode;l&&(l=cp(l),ti(o.stateNode,o.type,l))}}function Ji(o){ni?At?At.push(o):At=[o]:ni=o}function Zi(){if(ni){var o=ni,l=At;if(At=ni=null,qc(o),l)for(o=0;o<l.length;o++)qc(l[o])}}function Ff(o,l){return o(l)}function Uf(){}var cs=!1;function Vf(o,l,c){if(cs)return o(l,c);cs=!0;try{return Ff(o,l,c)}finally{cs=!1,(ni!==null||At!==null)&&(Uf(),Zi())}}function ca(o,l){var c=o.stateNode;if(c===null)return null;var p=cp(c);if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,l,typeof c));return c}var eo=!1;if(u)try{var to={};Object.defineProperty(to,"passive",{get:function(){eo=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{eo=!1}function Bf(o,l,c,p,y,w,A,F,B){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(c,Z)}catch(ie){this.onError(ie)}}var ri=!1,hs=null,$l=!1,Sr=null,zf={onError:function(o){ri=!0,hs=o}};function $f(o,l,c,p,y,w,A,F,B){ri=!1,hs=null,Bf.apply(zf,arguments)}function Gc(o,l,c,p,y,w,A,F,B){if($f.apply(this,arguments),ri){if(ri){var Z=hs;ri=!1,hs=null}else throw Error(n(198));$l||($l=!0,Sr=Z)}}function $r(o){var l=o,c=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(c=l.return),o=l.return;while(o)}return l.tag===3?c:null}function Hc(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function qf(o){if($r(o)!==o)throw Error(n(188))}function Gf(o){var l=o.alternate;if(!l){if(l=$r(o),l===null)throw Error(n(188));return l!==o?null:o}for(var c=o,p=l;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return qf(y),o;if(w===p)return qf(y),l;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=y,p=w;else{for(var A=!1,F=y.child;F;){if(F===c){A=!0,c=y,p=w;break}if(F===p){A=!0,p=y,c=w;break}F=F.sibling}if(!A){for(F=w.child;F;){if(F===c){A=!0,c=w,p=y;break}if(F===p){A=!0,p=w,c=y;break}F=F.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:l}function Hf(o){return o=Gf(o),o!==null?ha(o):null}function ha(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=ha(o);if(l!==null)return l;o=o.sibling}return null}var Kc=e.unstable_scheduleCallback,ql=e.unstable_cancelCallback,da=e.unstable_shouldYield,si=e.unstable_requestPaint,pt=e.unstable_now,Wy=e.unstable_getCurrentPriorityLevel,Gl=e.unstable_ImmediatePriority,Wc=e.unstable_UserBlockingPriority,fa=e.unstable_NormalPriority,Qc=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,pa=null,rr=null;function Kf(o){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(pa,o,void 0,(o.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:ma,ds=Math.log,Er=Math.LN2;function ma(o){return o>>>=0,o===0?32:31-(ds(o)/Er|0)|0}var fs=64,no=4194304;function rt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ii(o,l){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,A=c&268435455;if(A!==0){var F=A&~y;F!==0?p=rt(F):(w&=A,w!==0&&(p=rt(w)))}else A=c&~y,A!==0?p=rt(A):w!==0&&(p=rt(w));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((p&4)!==0&&(p|=c&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=p;0<l;)c=31-sr(l),y=1<<c,p|=o[c],l&=~y;return p}function ga(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(o,l){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var A=31-sr(w),F=1<<A,B=y[A];B===-1?((F&c)===0||(F&p)!==0)&&(y[A]=ga(F,l)):B<=l&&(o.expiredLanes|=F),w&=~F}}function Yc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Xc(){var o=fs;return fs<<=1,(fs&4194240)===0&&(fs=64),o}function Jc(o){for(var l=[],c=0;31>c;c++)l.push(o);return l}function va(o,l,c){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-sr(l),o[l]=c}function Qy(o,l){var c=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-sr(c),w=1<<y;l[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Zc(o,l){var c=o.entangledLanes|=l;for(o=o.entanglements;c;){var p=31-sr(c),y=1<<p;y&l|o[p]&l&&(o[p]|=l),c&=~y}}var Ye=0;function ps(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var eh,Kl,th,nh,rh,ms=!1,Wl=[],gs=null,ys=null,cn=null,wa=new Map,oi=new Map,ir=[],Wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ro(o,l){switch(o){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":wa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(l.pointerId)}}function qr(o,l,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},l!==null&&(l=yh(l),l!==null&&Kl(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),o)}function Qf(o,l,c,p,y){switch(l){case"focusin":return gs=qr(gs,o,l,c,p,y),!0;case"dragenter":return ys=qr(ys,o,l,c,p,y),!0;case"mouseover":return cn=qr(cn,o,l,c,p,y),!0;case"pointerover":var w=y.pointerId;return wa.set(w,qr(wa.get(w)||null,o,l,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,oi.set(w,qr(oi.get(w)||null,o,l,c,p,y)),!0}return!1}function Ql(o){var l=Ea(o.target);if(l!==null){var c=$r(l);if(c!==null){if(l=c.tag,l===13){if(l=Hc(c),l!==null){o.blockedOn=l,rh(o.priority,function(){th(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ut(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var c=Yl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);Xi=p,c.target.dispatchEvent(p),Xi=null}else return l=yh(c),l!==null&&Kl(l),o.blockedOn=c,!1;l.shift()}return!0}function Yf(o,l,c){ut(o)&&c.delete(l)}function Yy(){ms=!1,gs!==null&&ut(gs)&&(gs=null),ys!==null&&ut(ys)&&(ys=null),cn!==null&&ut(cn)&&(cn=null),wa.forEach(Yf),oi.forEach(Yf)}function so(o,l){o.blockedOn===l&&(o.blockedOn=null,ms||(ms=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yy)))}function io(o){function l(y){return so(y,o)}if(0<Wl.length){so(Wl[0],o);for(var c=1;c<Wl.length;c++){var p=Wl[c];p.blockedOn===o&&(p.blockedOn=null)}}for(gs!==null&&so(gs,o),ys!==null&&so(ys,o),cn!==null&&so(cn,o),wa.forEach(l),oi.forEach(l),c=0;c<ir.length;c++)p=ir[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<ir.length&&(c=ir[0],c.blockedOn===null);)Ql(c),c.blockedOn===null&&ir.shift()}var ai=V.ReactCurrentBatchConfig,li=!0;function vs(o,l,c,p){var y=Ye,w=ai.transition;ai.transition=null;try{Ye=1,sh(o,l,c,p)}finally{Ye=y,ai.transition=w}}function Xf(o,l,c,p){var y=Ye,w=ai.transition;ai.transition=null;try{Ye=4,sh(o,l,c,p)}finally{Ye=y,ai.transition=w}}function sh(o,l,c,p){if(li){var y=Yl(o,l,c,p);if(y===null)av(o,l,p,ws,c),ro(o,p);else if(Qf(y,o,l,c,p))p.stopPropagation();else if(ro(o,p),l&4&&-1<Wf.indexOf(o)){for(;y!==null;){var w=yh(y);if(w!==null&&eh(w),w=Yl(o,l,c,p),w===null&&av(o,l,p,ws,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else av(o,l,p,null,c)}}var ws=null;function Yl(o,l,c,p){if(ws=null,o=zl(p),o=Ea(o),o!==null)if(l=$r(o),l===null)o=null;else if(c=l.tag,c===13){if(o=Hc(l),o!==null)return o;o=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ws=o,null}function Xl(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wy()){case Gl:return 1;case Wc:return 4;case fa:case Qc:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var or=null,Jl=null,ui=null;function Jf(){if(ui)return ui;var o,l=Jl,c=l.length,p,y="value"in or?or.value:or.textContent,w=y.length;for(o=0;o<c&&l[o]===y[o];o++);var A=c-o;for(p=1;p<=A&&l[c-p]===y[w-p];p++);return ui=y.slice(o,1<p?1-p:void 0)}function ba(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function bs(){return!0}function ih(){return!1}function xn(o){function l(c,p,y,w,A){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(c=o[F],this[F]=c?c(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?bs:ih,this.isPropagationStopped=ih,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),l}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=xn(xs),oo=oe({},xs,{view:0,detail:0}),Zl=xn(oo),eu,tu,ar,Sa=oe({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ze,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ar&&(ar&&o.type==="mousemove"?(eu=o.screenX-ar.screenX,tu=o.screenY-ar.screenY):tu=eu=0,ar=o),eu)},movementY:function(o){return"movementY"in o?o.movementY:tu}}),oh=xn(Sa),Zf=oe({},Sa,{dataTransfer:0}),ep=xn(Zf),nu=oe({},oo,{relatedTarget:0}),hn=xn(nu),tp=oe({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),np=xn(tp),ao=oe({},xs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),f=xn(ao),b=oe({},xs,{data:0}),T=xn(b),O={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=ee[o])?!!l[o]:!1}function ze(){return he}var Mt=oe({},oo,{key:function(o){if(o.key){var l=O[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ba(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?X[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ze,charCode:function(o){return o.type==="keypress"?ba(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ba(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ct=xn(Mt),Kt=oe({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=xn(Kt),lo=oe({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ze}),Ss=xn(lo),Es=oe({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=xn(Es),ah=oe({},Sa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),y4=xn(ah),v4=[9,13,27,32],Xy=u&&"CompositionEvent"in window,lh=null;u&&"documentMode"in document&&(lh=document.documentMode);var w4=u&&"TextEvent"in window&&!lh,SS=u&&(!Xy||lh&&8<lh&&11>=lh),ES=" ",TS=!1;function kS(o,l){switch(o){case"keyup":return v4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var su=!1;function b4(o,l){switch(o){case"compositionend":return _S(l);case"keypress":return l.which!==32?null:(TS=!0,ES);case"textInput":return o=l.data,o===ES&&TS?null:o;default:return null}}function x4(o,l){if(su)return o==="compositionend"||!Xy&&kS(o,l)?(o=Jf(),ui=Jl=or=null,su=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return SS&&l.locale!=="ko"?null:l.data;default:return null}}var S4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!S4[o.type]:l==="textarea"}function CS(o,l,c,p){Ji(p),l=ap(l,"onChange"),0<l.length&&(c=new xa("onChange","change",null,c,p),o.push({event:c,listeners:l}))}var uh=null,ch=null;function E4(o){HS(o,0)}function rp(o){var l=uu(o);if(xr(l))return o}function T4(o,l){if(o==="change")return l}var AS=!1;if(u){var Jy;if(u){var Zy="oninput"in document;if(!Zy){var PS=document.createElement("div");PS.setAttribute("oninput","return;"),Zy=typeof PS.oninput=="function"}Jy=Zy}else Jy=!1;AS=Jy&&(!document.documentMode||9<document.documentMode)}function RS(){uh&&(uh.detachEvent("onpropertychange",NS),ch=uh=null)}function NS(o){if(o.propertyName==="value"&&rp(ch)){var l=[];CS(l,ch,o,zl(o)),Vf(E4,l)}}function k4(o,l,c){o==="focusin"?(RS(),uh=l,ch=c,uh.attachEvent("onpropertychange",NS)):o==="focusout"&&RS()}function _4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return rp(ch)}function I4(o,l){if(o==="click")return rp(l)}function C4(o,l){if(o==="input"||o==="change")return rp(l)}function A4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Gr=typeof Object.is=="function"?Object.is:A4;function hh(o,l){if(Gr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var c=Object.keys(o),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!h.call(l,y)||!Gr(o[y],l[y]))return!1}return!0}function DS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function OS(o,l){var c=DS(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=l&&p>=l)return{node:c,offset:l-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=DS(c)}}function MS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?MS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function LS(){for(var o=window,l=$n();l instanceof o.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)o=l.contentWindow;else break;l=$n(o.document)}return l}function ev(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function P4(o){var l=LS(),c=o.focusedElem,p=o.selectionRange;if(l!==c&&c&&c.ownerDocument&&MS(c.ownerDocument.documentElement,c)){if(p!==null&&ev(c)){if(l=p.start,o=p.end,o===void 0&&(o=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(o,c.value.length);else if(o=(l=c.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=OS(c,w);var A=OS(c,p);y&&A&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==A.node||o.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(l),o.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),o.addRange(l)))}}for(l=[],o=c;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)o=l[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var R4=u&&"documentMode"in document&&11>=document.documentMode,iu=null,tv=null,dh=null,nv=!1;function jS(o,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;nv||iu==null||iu!==$n(p)||(p=iu,"selectionStart"in p&&ev(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),dh&&hh(dh,p)||(dh=p,p=ap(tv,"onSelect"),0<p.length&&(l=new xa("onSelect","select",null,l,c),o.push({event:l,listeners:p}),l.target=iu)))}function sp(o,l){var c={};return c[o.toLowerCase()]=l.toLowerCase(),c["Webkit"+o]="webkit"+l,c["Moz"+o]="moz"+l,c}var ou={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},rv={},FS={};u&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function ip(o){if(rv[o])return rv[o];if(!ou[o])return o;var l=ou[o],c;for(c in l)if(l.hasOwnProperty(c)&&c in FS)return rv[o]=l[c];return o}var US=ip("animationend"),VS=ip("animationiteration"),BS=ip("animationstart"),zS=ip("transitionend"),$S=new Map,qS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(o,l){$S.set(o,l),i(l,[o])}for(var sv=0;sv<qS.length;sv++){var iv=qS[sv],N4=iv.toLowerCase(),D4=iv[0].toUpperCase()+iv.slice(1);uo(N4,"on"+D4)}uo(US,"onAnimationEnd"),uo(VS,"onAnimationIteration"),uo(BS,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(zS,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O4=new Set("cancel close invalid load scroll toggle".split(" ").concat(fh));function GS(o,l,c){var p=o.type||"unknown-event";o.currentTarget=c,Gc(p,l,void 0,o),o.currentTarget=null}function HS(o,l){l=(l&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var A=p.length-1;0<=A;A--){var F=p[A],B=F.instance,Z=F.currentTarget;if(F=F.listener,B!==w&&y.isPropagationStopped())break e;GS(y,F,Z),w=B}else for(A=0;A<p.length;A++){if(F=p[A],B=F.instance,Z=F.currentTarget,F=F.listener,B!==w&&y.isPropagationStopped())break e;GS(y,F,Z),w=B}}}if($l)throw o=Sr,$l=!1,Sr=null,o}function mt(o,l){var c=l[fv];c===void 0&&(c=l[fv]=new Set);var p=o+"__bubble";c.has(p)||(KS(l,o,2,!1),c.add(p))}function ov(o,l,c){var p=0;l&&(p|=4),KS(c,o,p,l)}var op="_reactListening"+Math.random().toString(36).slice(2);function ph(o){if(!o[op]){o[op]=!0,r.forEach(function(c){c!=="selectionchange"&&(O4.has(c)||ov(c,!1,o),ov(c,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[op]||(l[op]=!0,ov("selectionchange",!1,l))}}function KS(o,l,c,p){switch(Xl(l)){case 1:var y=vs;break;case 4:y=Xf;break;default:y=sh}c=y.bind(null,l,c,o),y=void 0,!eo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(l,c,{capture:!0,passive:y}):o.addEventListener(l,c,!0):y!==void 0?o.addEventListener(l,c,{passive:y}):o.addEventListener(l,c,!1)}function av(o,l,c,p,y){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var B=A.tag;if((B===3||B===4)&&(B=A.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;A=A.return}for(;F!==null;){if(A=Ea(F),A===null)return;if(B=A.tag,B===5||B===6){p=w=A;continue e}F=F.parentNode}}p=p.return}Vf(function(){var Z=w,ie=zl(c),ae=[];e:{var se=$S.get(o);if(se!==void 0){var fe=xa,xe=o;switch(o){case"keypress":if(ba(c)===0)break e;case"keydown":case"keyup":fe=ct;break;case"focusin":xe="focus",fe=hn;break;case"focusout":xe="blur",fe=hn;break;case"beforeblur":case"afterblur":fe=hn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Ss;break;case US:case VS:case BS:fe=np;break;case zS:fe=ru;break;case"scroll":fe=Zl;break;case"wheel":fe=y4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=lr}var ke=(l&4)!==0,Lt=!ke&&o==="scroll",Y=ke?se!==null?se+"Capture":null:se;ke=[];for(var G=Z,J;G!==null;){J=G;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,Y!==null&&(ue=ca(G,Y),ue!=null&&ke.push(mh(G,ue,J)))),Lt)break;G=G.return}0<ke.length&&(se=new fe(se,xe,null,c,ie),ae.push({event:se,listeners:ke}))}}if((l&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",fe=o==="mouseout"||o==="pointerout",se&&c!==Xi&&(xe=c.relatedTarget||c.fromElement)&&(Ea(xe)||xe[ci]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(xe=c.relatedTarget||c.toElement,fe=Z,xe=xe?Ea(xe):null,xe!==null&&(Lt=$r(xe),xe!==Lt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=Z),fe!==xe)){if(ke=oh,ue="onMouseLeave",Y="onMouseEnter",G="mouse",(o==="pointerout"||o==="pointerover")&&(ke=lr,ue="onPointerLeave",Y="onPointerEnter",G="pointer"),Lt=fe==null?se:uu(fe),J=xe==null?se:uu(xe),se=new ke(ue,G+"leave",fe,c,ie),se.target=Lt,se.relatedTarget=J,ue=null,Ea(ie)===Z&&(ke=new ke(Y,G+"enter",xe,c,ie),ke.target=J,ke.relatedTarget=Lt,ue=ke),Lt=ue,fe&&xe)t:{for(ke=fe,Y=xe,G=0,J=ke;J;J=au(J))G++;for(J=0,ue=Y;ue;ue=au(ue))J++;for(;0<G-J;)ke=au(ke),G--;for(;0<J-G;)Y=au(Y),J--;for(;G--;){if(ke===Y||Y!==null&&ke===Y.alternate)break t;ke=au(ke),Y=au(Y)}ke=null}else ke=null;fe!==null&&WS(ae,se,fe,ke,!1),xe!==null&&Lt!==null&&WS(ae,Lt,xe,ke,!0)}}e:{if(se=Z?uu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=T4;else if(IS(se))if(AS)_e=C4;else{_e=_4;var Pe=k4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=I4);if(_e&&(_e=_e(o,Z))){CS(ae,_e,c,ie);break e}Pe&&Pe(o,se,Z),o==="focusout"&&(Pe=se._wrapperState)&&Pe.controlled&&se.type==="number"&&ft(se,"number",se.value)}switch(Pe=Z?uu(Z):window,o){case"focusin":(IS(Pe)||Pe.contentEditable==="true")&&(iu=Pe,tv=Z,dh=null);break;case"focusout":dh=tv=iu=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,jS(ae,c,ie);break;case"selectionchange":if(R4)break;case"keydown":case"keyup":jS(ae,c,ie)}var Re;if(Xy)e:{switch(o){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else su?kS(o,c)&&(je="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(SS&&c.locale!=="ko"&&(su||je!=="onCompositionStart"?je==="onCompositionEnd"&&su&&(Re=Jf()):(or=ie,Jl="value"in or?or.value:or.textContent,su=!0)),Pe=ap(Z,je),0<Pe.length&&(je=new T(je,o,null,c,ie),ae.push({event:je,listeners:Pe}),Re?je.data=Re:(Re=_S(c),Re!==null&&(je.data=Re)))),(Re=w4?b4(o,c):x4(o,c))&&(Z=ap(Z,"onBeforeInput"),0<Z.length&&(ie=new T("onBeforeInput","beforeinput",null,c,ie),ae.push({event:ie,listeners:Z}),ie.data=Re))}HS(ae,l)})}function mh(o,l,c){return{instance:o,listener:l,currentTarget:c}}function ap(o,l){for(var c=l+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=ca(o,c),w!=null&&p.unshift(mh(o,w,y)),w=ca(o,l),w!=null&&p.push(mh(o,w,y))),o=o.return}return p}function au(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function WS(o,l,c,p,y){for(var w=l._reactName,A=[];c!==null&&c!==p;){var F=c,B=F.alternate,Z=F.stateNode;if(B!==null&&B===p)break;F.tag===5&&Z!==null&&(F=Z,y?(B=ca(c,w),B!=null&&A.unshift(mh(c,B,F))):y||(B=ca(c,w),B!=null&&A.push(mh(c,B,F)))),c=c.return}A.length!==0&&o.push({event:l,listeners:A})}var M4=/\r\n?/g,L4=/\u0000|\uFFFD/g;function QS(o){return(typeof o=="string"?o:""+o).replace(M4,`
`).replace(L4,"")}function lp(o,l,c){if(l=QS(l),QS(o)!==l&&c)throw Error(n(425))}function up(){}var lv=null,uv=null;function cv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hv=typeof setTimeout=="function"?setTimeout:void 0,j4=typeof clearTimeout=="function"?clearTimeout:void 0,YS=typeof Promise=="function"?Promise:void 0,F4=typeof queueMicrotask=="function"?queueMicrotask:typeof YS<"u"?function(o){return YS.resolve(null).then(o).catch(U4)}:hv;function U4(o){setTimeout(function(){throw o})}function dv(o,l){var c=l,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),io(l);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);io(l)}function co(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function XS(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return o;l--}else c==="/$"&&l++}o=o.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Ts="__reactFiber$"+lu,gh="__reactProps$"+lu,ci="__reactContainer$"+lu,fv="__reactEvents$"+lu,V4="__reactListeners$"+lu,B4="__reactHandles$"+lu;function Ea(o){var l=o[Ts];if(l)return l;for(var c=o.parentNode;c;){if(l=c[ci]||c[Ts]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(o=XS(o);o!==null;){if(c=o[Ts])return c;o=XS(o)}return l}o=c,c=o.parentNode}return null}function yh(o){return o=o[Ts]||o[ci],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function uu(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function cp(o){return o[gh]||null}var pv=[],cu=-1;function ho(o){return{current:o}}function gt(o){0>cu||(o.current=pv[cu],pv[cu]=null,cu--)}function ht(o,l){cu++,pv[cu]=o.current,o.current=l}var fo={},Sn=ho(fo),qn=ho(!1),Ta=fo;function hu(o,l){var c=o.type.contextTypes;if(!c)return fo;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=l[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=y),y}function Gn(o){return o=o.childContextTypes,o!=null}function hp(){gt(qn),gt(Sn)}function JS(o,l,c){if(Sn.current!==fo)throw Error(n(168));ht(Sn,l),ht(qn,c)}function ZS(o,l,c){var p=o.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Ce(o)||"Unknown",y));return oe({},c,p)}function dp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||fo,Ta=Sn.current,ht(Sn,o),ht(qn,qn.current),!0}function eE(o,l,c){var p=o.stateNode;if(!p)throw Error(n(169));c?(o=ZS(o,l,Ta),p.__reactInternalMemoizedMergedChildContext=o,gt(qn),gt(Sn),ht(Sn,o)):gt(qn),ht(qn,c)}var hi=null,fp=!1,mv=!1;function tE(o){hi===null?hi=[o]:hi.push(o)}function z4(o){fp=!0,tE(o)}function po(){if(!mv&&hi!==null){mv=!0;var o=0,l=Ye;try{var c=hi;for(Ye=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}hi=null,fp=!1}catch(y){throw hi!==null&&(hi=hi.slice(o+1)),Kc(Gl,po),y}finally{Ye=l,mv=!1}}return null}var du=[],fu=0,pp=null,mp=0,Tr=[],kr=0,ka=null,di=1,fi="";function _a(o,l){du[fu++]=mp,du[fu++]=pp,pp=o,mp=l}function nE(o,l,c){Tr[kr++]=di,Tr[kr++]=fi,Tr[kr++]=ka,ka=o;var p=di;o=fi;var y=32-sr(p)-1;p&=~(1<<y),c+=1;var w=32-sr(l)+y;if(30<w){var A=y-y%5;w=(p&(1<<A)-1).toString(32),p>>=A,y-=A,di=1<<32-sr(l)+y|c<<y|p,fi=w+o}else di=1<<w|c<<y|p,fi=o}function gv(o){o.return!==null&&(_a(o,1),nE(o,1,0))}function yv(o){for(;o===pp;)pp=du[--fu],du[fu]=null,mp=du[--fu],du[fu]=null;for(;o===ka;)ka=Tr[--kr],Tr[kr]=null,fi=Tr[--kr],Tr[kr]=null,di=Tr[--kr],Tr[kr]=null}var ur=null,cr=null,wt=!1,Hr=null;function rE(o,l){var c=Ar(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=o,l=o.deletions,l===null?(o.deletions=[c],o.flags|=16):l.push(c)}function sE(o,l){switch(o.tag){case 5:var c=o.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ur=o,cr=co(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ur=o,cr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=ka!==null?{id:di,overflow:fi}:null,o.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=Ar(18,null,null,0),c.stateNode=l,c.return=o,o.child=c,ur=o,cr=null,!0):!1;default:return!1}}function vv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function wv(o){if(wt){var l=cr;if(l){var c=l;if(!sE(o,l)){if(vv(o))throw Error(n(418));l=co(c.nextSibling);var p=ur;l&&sE(o,l)?rE(p,c):(o.flags=o.flags&-4097|2,wt=!1,ur=o)}}else{if(vv(o))throw Error(n(418));o.flags=o.flags&-4097|2,wt=!1,ur=o}}}function iE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ur=o}function gp(o){if(o!==ur)return!1;if(!wt)return iE(o),wt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!cv(o.type,o.memoizedProps)),l&&(l=cr)){if(vv(o))throw oE(),Error(n(418));for(;l;)rE(o,l),l=co(l.nextSibling)}if(iE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(l===0){cr=co(o.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}o=o.nextSibling}cr=null}}else cr=ur?co(o.stateNode.nextSibling):null;return!0}function oE(){for(var o=cr;o;)o=co(o.nextSibling)}function pu(){cr=ur=null,wt=!1}function bv(o){Hr===null?Hr=[o]:Hr.push(o)}var $4=V.ReactCurrentBatchConfig;function vh(o,l,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,o));var y=p,w=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(A){var F=y.refs;A===null?delete F[w]:F[w]=A},l._stringRef=w,l)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function yp(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function aE(o){var l=o._init;return l(o._payload)}function lE(o){function l(Y,G){if(o){var J=Y.deletions;J===null?(Y.deletions=[G],Y.flags|=16):J.push(G)}}function c(Y,G){if(!o)return null;for(;G!==null;)l(Y,G),G=G.sibling;return null}function p(Y,G){for(Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function y(Y,G){return Y=So(Y,G),Y.index=0,Y.sibling=null,Y}function w(Y,G,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<G?(Y.flags|=2,G):J):(Y.flags|=2,G)):(Y.flags|=1048576,G)}function A(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function F(Y,G,J,ue){return G===null||G.tag!==6?(G=c0(J,Y.mode,ue),G.return=Y,G):(G=y(G,J),G.return=Y,G)}function B(Y,G,J,ue){var _e=J.type;return _e===D?ie(Y,G,J.props.children,ue,J.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&aE(_e)===G.type)?(ue=y(G,J.props),ue.ref=vh(Y,G,J),ue.return=Y,ue):(ue=Bp(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=vh(Y,G,J),ue.return=Y,ue)}function Z(Y,G,J,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=h0(J,Y.mode,ue),G.return=Y,G):(G=y(G,J.children||[]),G.return=Y,G)}function ie(Y,G,J,ue,_e){return G===null||G.tag!==7?(G=Oa(J,Y.mode,ue,_e),G.return=Y,G):(G=y(G,J),G.return=Y,G)}function ae(Y,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return G=c0(""+G,Y.mode,J),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return J=Bp(G.type,G.key,G.props,null,Y.mode,J),J.ref=vh(Y,null,G),J.return=Y,J;case K:return G=h0(G,Y.mode,J),G.return=Y,G;case ye:var ue=G._init;return ae(Y,ue(G._payload),J)}if(Ot(G)||ne(G))return G=Oa(G,Y.mode,J,null),G.return=Y,G;yp(Y,G)}return null}function se(Y,G,J,ue){var _e=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:F(Y,G,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return J.key===_e?B(Y,G,J,ue):null;case K:return J.key===_e?Z(Y,G,J,ue):null;case ye:return _e=J._init,se(Y,G,_e(J._payload),ue)}if(Ot(J)||ne(J))return _e!==null?null:ie(Y,G,J,ue,null);yp(Y,J)}return null}function fe(Y,G,J,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Y=Y.get(J)||null,F(G,Y,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case z:return Y=Y.get(ue.key===null?J:ue.key)||null,B(G,Y,ue,_e);case K:return Y=Y.get(ue.key===null?J:ue.key)||null,Z(G,Y,ue,_e);case ye:var Pe=ue._init;return fe(Y,G,J,Pe(ue._payload),_e)}if(Ot(ue)||ne(ue))return Y=Y.get(J)||null,ie(G,Y,ue,_e,null);yp(G,ue)}return null}function xe(Y,G,J,ue){for(var _e=null,Pe=null,Re=G,je=G=0,an=null;Re!==null&&je<J.length;je++){Re.index>je?(an=Re,Re=null):an=Re.sibling;var nt=se(Y,Re,J[je],ue);if(nt===null){Re===null&&(Re=an);break}o&&Re&&nt.alternate===null&&l(Y,Re),G=w(nt,G,je),Pe===null?_e=nt:Pe.sibling=nt,Pe=nt,Re=an}if(je===J.length)return c(Y,Re),wt&&_a(Y,je),_e;if(Re===null){for(;je<J.length;je++)Re=ae(Y,J[je],ue),Re!==null&&(G=w(Re,G,je),Pe===null?_e=Re:Pe.sibling=Re,Pe=Re);return wt&&_a(Y,je),_e}for(Re=p(Y,Re);je<J.length;je++)an=fe(Re,Y,je,J[je],ue),an!==null&&(o&&an.alternate!==null&&Re.delete(an.key===null?je:an.key),G=w(an,G,je),Pe===null?_e=an:Pe.sibling=an,Pe=an);return o&&Re.forEach(function(Eo){return l(Y,Eo)}),wt&&_a(Y,je),_e}function ke(Y,G,J,ue){var _e=ne(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var Pe=_e=null,Re=G,je=G=0,an=null,nt=J.next();Re!==null&&!nt.done;je++,nt=J.next()){Re.index>je?(an=Re,Re=null):an=Re.sibling;var Eo=se(Y,Re,nt.value,ue);if(Eo===null){Re===null&&(Re=an);break}o&&Re&&Eo.alternate===null&&l(Y,Re),G=w(Eo,G,je),Pe===null?_e=Eo:Pe.sibling=Eo,Pe=Eo,Re=an}if(nt.done)return c(Y,Re),wt&&_a(Y,je),_e;if(Re===null){for(;!nt.done;je++,nt=J.next())nt=ae(Y,nt.value,ue),nt!==null&&(G=w(nt,G,je),Pe===null?_e=nt:Pe.sibling=nt,Pe=nt);return wt&&_a(Y,je),_e}for(Re=p(Y,Re);!nt.done;je++,nt=J.next())nt=fe(Re,Y,je,nt.value,ue),nt!==null&&(o&&nt.alternate!==null&&Re.delete(nt.key===null?je:nt.key),G=w(nt,G,je),Pe===null?_e=nt:Pe.sibling=nt,Pe=nt);return o&&Re.forEach(function(Sj){return l(Y,Sj)}),wt&&_a(Y,je),_e}function Lt(Y,G,J,ue){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case z:e:{for(var _e=J.key,Pe=G;Pe!==null;){if(Pe.key===_e){if(_e=J.type,_e===D){if(Pe.tag===7){c(Y,Pe.sibling),G=y(Pe,J.props.children),G.return=Y,Y=G;break e}}else if(Pe.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&aE(_e)===Pe.type){c(Y,Pe.sibling),G=y(Pe,J.props),G.ref=vh(Y,Pe,J),G.return=Y,Y=G;break e}c(Y,Pe);break}else l(Y,Pe);Pe=Pe.sibling}J.type===D?(G=Oa(J.props.children,Y.mode,ue,J.key),G.return=Y,Y=G):(ue=Bp(J.type,J.key,J.props,null,Y.mode,ue),ue.ref=vh(Y,G,J),ue.return=Y,Y=ue)}return A(Y);case K:e:{for(Pe=J.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){c(Y,G.sibling),G=y(G,J.children||[]),G.return=Y,Y=G;break e}else{c(Y,G);break}else l(Y,G);G=G.sibling}G=h0(J,Y.mode,ue),G.return=Y,Y=G}return A(Y);case ye:return Pe=J._init,Lt(Y,G,Pe(J._payload),ue)}if(Ot(J))return xe(Y,G,J,ue);if(ne(J))return ke(Y,G,J,ue);yp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,G!==null&&G.tag===6?(c(Y,G.sibling),G=y(G,J),G.return=Y,Y=G):(c(Y,G),G=c0(J,Y.mode,ue),G.return=Y,Y=G),A(Y)):c(Y,G)}return Lt}var mu=lE(!0),uE=lE(!1),vp=ho(null),wp=null,gu=null,xv=null;function Sv(){xv=gu=wp=null}function Ev(o){var l=vp.current;gt(vp),o._currentValue=l}function Tv(o,l,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===c)break;o=o.return}}function yu(o,l){wp=o,xv=gu=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Hn=!0),o.firstContext=null)}function _r(o){var l=o._currentValue;if(xv!==o)if(o={context:o,memoizedValue:l,next:null},gu===null){if(wp===null)throw Error(n(308));gu=o,wp.dependencies={lanes:0,firstContext:o}}else gu=gu.next=o;return l}var Ia=null;function kv(o){Ia===null?Ia=[o]:Ia.push(o)}function cE(o,l,c,p){var y=l.interleaved;return y===null?(c.next=c,kv(l)):(c.next=y.next,y.next=c),l.interleaved=c,pi(o,p)}function pi(o,l){o.lanes|=l;var c=o.alternate;for(c!==null&&(c.lanes|=l),c=o,o=o.return;o!==null;)o.childLanes|=l,c=o.alternate,c!==null&&(c.childLanes|=l),c=o,o=o.return;return c.tag===3?c.stateNode:null}var mo=!1;function _v(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function go(o,l,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(tt&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,pi(o,c)}return y=p.interleaved,y===null?(l.next=l,kv(p)):(l.next=y.next,y.next=l),p.interleaved=l,pi(o,c)}function bp(o,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var p=l.lanes;p&=o.pendingLanes,c|=p,l.lanes=c,Zc(o,c)}}function dE(o,l){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=A:w=w.next=A,c=c.next}while(c!==null);w===null?y=w=l:w=w.next=l}else y=w=l;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=l}function xp(o,l,c,p){var y=o.updateQueue;mo=!1;var w=y.firstBaseUpdate,A=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var B=F,Z=B.next;B.next=null,A===null?w=Z:A.next=Z,A=B;var ie=o.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==A&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=B))}if(w!==null){var ae=y.baseState;A=0,ie=Z=B=null,F=w;do{var se=F.lane,fe=F.eventTime;if((p&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var xe=o,ke=F;switch(se=l,fe=c,ke.tag){case 1:if(xe=ke.payload,typeof xe=="function"){ae=xe.call(fe,ae,se);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ke.payload,se=typeof xe=="function"?xe.call(fe,ae,se):xe,se==null)break e;ae=oe({},ae,se);break e;case 2:mo=!0}}F.callback!==null&&F.lane!==0&&(o.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,B=ae):ie=ie.next=fe,A|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Pa|=A,o.lanes=A,o.memoizedState=ae}}function fE(o,l,c){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var p=o[l],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var wh={},ks=ho(wh),bh=ho(wh),xh=ho(wh);function Ca(o){if(o===wh)throw Error(n(174));return o}function Iv(o,l){switch(ht(xh,l),ht(bh,o),ht(ks,wh),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ul(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Ul(l,o)}gt(ks),ht(ks,l)}function vu(){gt(ks),gt(bh),gt(xh)}function pE(o){Ca(xh.current);var l=Ca(ks.current),c=Ul(l,o.type);l!==c&&(ht(bh,o),ht(ks,c))}function Cv(o){bh.current===o&&(gt(ks),gt(bh))}var Et=ho(0);function Sp(o){for(var l=o;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Av=[];function Pv(){for(var o=0;o<Av.length;o++)Av[o]._workInProgressVersionPrimary=null;Av.length=0}var Ep=V.ReactCurrentDispatcher,Rv=V.ReactCurrentBatchConfig,Aa=0,Tt=null,Zt=null,sn=null,Tp=!1,Sh=!1,Eh=0,q4=0;function En(){throw Error(n(321))}function Nv(o,l){if(l===null)return!1;for(var c=0;c<l.length&&c<o.length;c++)if(!Gr(o[c],l[c]))return!1;return!0}function Dv(o,l,c,p,y,w){if(Aa=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ep.current=o===null||o.memoizedState===null?W4:Q4,o=c(p,y),Sh){w=0;do{if(Sh=!1,Eh=0,25<=w)throw Error(n(301));w+=1,sn=Zt=null,l.updateQueue=null,Ep.current=Y4,o=c(p,y)}while(Sh)}if(Ep.current=Ip,l=Zt!==null&&Zt.next!==null,Aa=0,sn=Zt=Tt=null,Tp=!1,l)throw Error(n(300));return o}function Ov(){var o=Eh!==0;return Eh=0,o}function _s(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Tt.memoizedState=sn=o:sn=sn.next=o,sn}function Ir(){if(Zt===null){var o=Tt.alternate;o=o!==null?o.memoizedState:null}else o=Zt.next;var l=sn===null?Tt.memoizedState:sn.next;if(l!==null)sn=l,Zt=o;else{if(o===null)throw Error(n(310));Zt=o,o={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sn===null?Tt.memoizedState=sn=o:sn=sn.next=o}return sn}function Th(o,l){return typeof l=="function"?l(o):l}function Mv(o){var l=Ir(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var p=Zt,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var A=y.next;y.next=w.next,w.next=A}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=A=null,B=null,Z=w;do{var ie=Z.lane;if((Aa&ie)===ie)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:o(p,Z.action);else{var ae={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(F=B=ae,A=p):B=B.next=ae,Tt.lanes|=ie,Pa|=ie}Z=Z.next}while(Z!==null&&Z!==w);B===null?A=p:B.next=F,Gr(p,l.memoizedState)||(Hn=!0),l.memoizedState=p,l.baseState=A,l.baseQueue=B,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,Tt.lanes|=w,Pa|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function Lv(o){var l=Ir(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=l.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do w=o(w,A.action),A=A.next;while(A!==y);Gr(w,l.memoizedState)||(Hn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),c.lastRenderedState=w}return[w,p]}function mE(){}function gE(o,l){var c=Tt,p=Ir(),y=l(),w=!Gr(p.memoizedState,y);if(w&&(p.memoizedState=y,Hn=!0),p=p.queue,jv(wE.bind(null,c,p,o),[o]),p.getSnapshot!==l||w||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,kh(9,vE.bind(null,c,p,y,l),void 0,null),on===null)throw Error(n(349));(Aa&30)!==0||yE(c,l,y)}return y}function yE(o,l,c){o.flags|=16384,o={getSnapshot:l,value:c},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[o]):(c=l.stores,c===null?l.stores=[o]:c.push(o))}function vE(o,l,c,p){l.value=c,l.getSnapshot=p,bE(l)&&xE(o)}function wE(o,l,c){return c(function(){bE(l)&&xE(o)})}function bE(o){var l=o.getSnapshot;o=o.value;try{var c=l();return!Gr(o,c)}catch{return!0}}function xE(o){var l=pi(o,1);l!==null&&Yr(l,o,1,-1)}function SE(o){var l=_s();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Th,lastRenderedState:o},l.queue=o,o=o.dispatch=K4.bind(null,Tt,o),[l.memoizedState,o]}function kh(o,l,c,p){return o={tag:o,create:l,destroy:c,deps:p,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=o.next=o):(c=l.lastEffect,c===null?l.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,l.lastEffect=o)),o}function EE(){return Ir().memoizedState}function kp(o,l,c,p){var y=_s();Tt.flags|=o,y.memoizedState=kh(1|l,c,void 0,p===void 0?null:p)}function _p(o,l,c,p){var y=Ir();p=p===void 0?null:p;var w=void 0;if(Zt!==null){var A=Zt.memoizedState;if(w=A.destroy,p!==null&&Nv(p,A.deps)){y.memoizedState=kh(l,c,w,p);return}}Tt.flags|=o,y.memoizedState=kh(1|l,c,w,p)}function TE(o,l){return kp(8390656,8,o,l)}function jv(o,l){return _p(2048,8,o,l)}function kE(o,l){return _p(4,2,o,l)}function _E(o,l){return _p(4,4,o,l)}function IE(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function CE(o,l,c){return c=c!=null?c.concat([o]):null,_p(4,4,IE.bind(null,l,o),c)}function Fv(){}function AE(o,l){var c=Ir();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Nv(l,p[1])?p[0]:(c.memoizedState=[o,l],o)}function PE(o,l){var c=Ir();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Nv(l,p[1])?p[0]:(o=o(),c.memoizedState=[o,l],o)}function RE(o,l,c){return(Aa&21)===0?(o.baseState&&(o.baseState=!1,Hn=!0),o.memoizedState=c):(Gr(c,l)||(c=Xc(),Tt.lanes|=c,Pa|=c,o.baseState=!0),l)}function G4(o,l){var c=Ye;Ye=c!==0&&4>c?c:4,o(!0);var p=Rv.transition;Rv.transition={};try{o(!1),l()}finally{Ye=c,Rv.transition=p}}function NE(){return Ir().memoizedState}function H4(o,l,c){var p=bo(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},DE(o))OE(l,c);else if(c=cE(o,l,c,p),c!==null){var y=Dn();Yr(c,o,p,y),ME(c,l,p)}}function K4(o,l,c){var p=bo(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(DE(o))OE(l,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var A=l.lastRenderedState,F=w(A,c);if(y.hasEagerState=!0,y.eagerState=F,Gr(F,A)){var B=l.interleaved;B===null?(y.next=y,kv(l)):(y.next=B.next,B.next=y),l.interleaved=y;return}}catch{}finally{}c=cE(o,l,y,p),c!==null&&(y=Dn(),Yr(c,o,p,y),ME(c,l,p))}}function DE(o){var l=o.alternate;return o===Tt||l!==null&&l===Tt}function OE(o,l){Sh=Tp=!0;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}function ME(o,l,c){if((c&4194240)!==0){var p=l.lanes;p&=o.pendingLanes,c|=p,l.lanes=c,Zc(o,c)}}var Ip={readContext:_r,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},W4={readContext:_r,useCallback:function(o,l){return _s().memoizedState=[o,l===void 0?null:l],o},useContext:_r,useEffect:TE,useImperativeHandle:function(o,l,c){return c=c!=null?c.concat([o]):null,kp(4194308,4,IE.bind(null,l,o),c)},useLayoutEffect:function(o,l){return kp(4194308,4,o,l)},useInsertionEffect:function(o,l){return kp(4,2,o,l)},useMemo:function(o,l){var c=_s();return l=l===void 0?null:l,o=o(),c.memoizedState=[o,l],o},useReducer:function(o,l,c){var p=_s();return l=c!==void 0?c(l):l,p.memoizedState=p.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},p.queue=o,o=o.dispatch=H4.bind(null,Tt,o),[p.memoizedState,o]},useRef:function(o){var l=_s();return o={current:o},l.memoizedState=o},useState:SE,useDebugValue:Fv,useDeferredValue:function(o){return _s().memoizedState=o},useTransition:function(){var o=SE(!1),l=o[0];return o=G4.bind(null,o[1]),_s().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,c){var p=Tt,y=_s();if(wt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=l(),on===null)throw Error(n(349));(Aa&30)!==0||yE(p,l,c)}y.memoizedState=c;var w={value:c,getSnapshot:l};return y.queue=w,TE(wE.bind(null,p,w,o),[o]),p.flags|=2048,kh(9,vE.bind(null,p,w,c,l),void 0,null),c},useId:function(){var o=_s(),l=on.identifierPrefix;if(wt){var c=fi,p=di;c=(p&~(1<<32-sr(p)-1)).toString(32)+c,l=":"+l+"R"+c,c=Eh++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=q4++,l=":"+l+"r"+c.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Q4={readContext:_r,useCallback:AE,useContext:_r,useEffect:jv,useImperativeHandle:CE,useInsertionEffect:kE,useLayoutEffect:_E,useMemo:PE,useReducer:Mv,useRef:EE,useState:function(){return Mv(Th)},useDebugValue:Fv,useDeferredValue:function(o){var l=Ir();return RE(l,Zt.memoizedState,o)},useTransition:function(){var o=Mv(Th)[0],l=Ir().memoizedState;return[o,l]},useMutableSource:mE,useSyncExternalStore:gE,useId:NE,unstable_isNewReconciler:!1},Y4={readContext:_r,useCallback:AE,useContext:_r,useEffect:jv,useImperativeHandle:CE,useInsertionEffect:kE,useLayoutEffect:_E,useMemo:PE,useReducer:Lv,useRef:EE,useState:function(){return Lv(Th)},useDebugValue:Fv,useDeferredValue:function(o){var l=Ir();return Zt===null?l.memoizedState=o:RE(l,Zt.memoizedState,o)},useTransition:function(){var o=Lv(Th)[0],l=Ir().memoizedState;return[o,l]},useMutableSource:mE,useSyncExternalStore:gE,useId:NE,unstable_isNewReconciler:!1};function Kr(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var c in o)l[c]===void 0&&(l[c]=o[c]);return l}return l}function Uv(o,l,c,p){l=o.memoizedState,c=c(p,l),c=c==null?l:oe({},l,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Cp={isMounted:function(o){return(o=o._reactInternals)?$r(o)===o:!1},enqueueSetState:function(o,l,c){o=o._reactInternals;var p=Dn(),y=bo(o),w=mi(p,y);w.payload=l,c!=null&&(w.callback=c),l=go(o,w,y),l!==null&&(Yr(l,o,y,p),bp(l,o,y))},enqueueReplaceState:function(o,l,c){o=o._reactInternals;var p=Dn(),y=bo(o),w=mi(p,y);w.tag=1,w.payload=l,c!=null&&(w.callback=c),l=go(o,w,y),l!==null&&(Yr(l,o,y,p),bp(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var c=Dn(),p=bo(o),y=mi(c,p);y.tag=2,l!=null&&(y.callback=l),l=go(o,y,p),l!==null&&(Yr(l,o,p,c),bp(l,o,p))}};function LE(o,l,c,p,y,w,A){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,A):l.prototype&&l.prototype.isPureReactComponent?!hh(c,p)||!hh(y,w):!0}function jE(o,l,c){var p=!1,y=fo,w=l.contextType;return typeof w=="object"&&w!==null?w=_r(w):(y=Gn(l)?Ta:Sn.current,p=l.contextTypes,w=(p=p!=null)?hu(o,y):fo),l=new l(c,w),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cp,o.stateNode=l,l._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),l}function FE(o,l,c,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==o&&Cp.enqueueReplaceState(l,l.state,null)}function Vv(o,l,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},_v(o);var w=l.contextType;typeof w=="object"&&w!==null?y.context=_r(w):(w=Gn(l)?Ta:Sn.current,y.context=hu(o,w)),y.state=o.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Uv(o,l,w,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Cp.enqueueReplaceState(y,y.state,null),xp(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function wu(o,l){try{var c="",p=l;do c+=De(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:l,stack:y,digest:null}}function Bv(o,l,c){return{value:o,source:null,stack:c??null,digest:l??null}}function zv(o,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var X4=typeof WeakMap=="function"?WeakMap:Map;function UE(o,l,c){c=mi(-1,c),c.tag=3,c.payload={element:null};var p=l.value;return c.callback=function(){Mp||(Mp=!0,n0=p),zv(o,l)},c}function VE(o,l,c){c=mi(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;c.payload=function(){return p(y)},c.callback=function(){zv(o,l)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){zv(o,l),typeof p!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),c}function BE(o,l,c){var p=o.pingCache;if(p===null){p=o.pingCache=new X4;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(c)||(y.add(c),o=hj.bind(null,o,l,c),l.then(o,o))}function zE(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function $E(o,l,c,p,y){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=mi(-1,1),l.tag=2,go(c,l,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var J4=V.ReactCurrentOwner,Hn=!1;function Nn(o,l,c,p){l.child=o===null?uE(l,null,c,p):mu(l,o.child,c,p)}function qE(o,l,c,p,y){c=c.render;var w=l.ref;return yu(l,y),p=Dv(o,l,c,p,w,y),c=Ov(),o!==null&&!Hn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,gi(o,l,y)):(wt&&c&&gv(l),l.flags|=1,Nn(o,l,p,y),l.child)}function GE(o,l,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!u0(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=w,HE(o,l,w,p,y)):(o=Bp(c.type,null,p,l,l.mode,y),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,(o.lanes&y)===0){var A=w.memoizedProps;if(c=c.compare,c=c!==null?c:hh,c(A,p)&&o.ref===l.ref)return gi(o,l,y)}return l.flags|=1,o=So(w,p),o.ref=l.ref,o.return=l,l.child=o}function HE(o,l,c,p,y){if(o!==null){var w=o.memoizedProps;if(hh(w,p)&&o.ref===l.ref)if(Hn=!1,l.pendingProps=p=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Hn=!0);else return l.lanes=o.lanes,gi(o,l,y)}return $v(o,l,c,p,y)}function KE(o,l,c){var p=l.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(xu,hr),hr|=c;else{if((c&1073741824)===0)return o=w!==null?w.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,ht(xu,hr),hr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ht(xu,hr),hr|=p}else w!==null?(p=w.baseLanes|c,l.memoizedState=null):p=c,ht(xu,hr),hr|=p;return Nn(o,l,y,c),l.child}function WE(o,l){var c=l.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function $v(o,l,c,p,y){var w=Gn(c)?Ta:Sn.current;return w=hu(l,w),yu(l,y),c=Dv(o,l,c,p,w,y),p=Ov(),o!==null&&!Hn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~y,gi(o,l,y)):(wt&&p&&gv(l),l.flags|=1,Nn(o,l,c,y),l.child)}function QE(o,l,c,p,y){if(Gn(c)){var w=!0;dp(l)}else w=!1;if(yu(l,y),l.stateNode===null)Pp(o,l),jE(l,c,p),Vv(l,c,p,y),p=!0;else if(o===null){var A=l.stateNode,F=l.memoizedProps;A.props=F;var B=A.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=_r(Z):(Z=Gn(c)?Ta:Sn.current,Z=hu(l,Z));var ie=c.getDerivedStateFromProps,ae=typeof ie=="function"||typeof A.getSnapshotBeforeUpdate=="function";ae||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==p||B!==Z)&&FE(l,A,p,Z),mo=!1;var se=l.memoizedState;A.state=se,xp(l,p,A,y),B=l.memoizedState,F!==p||se!==B||qn.current||mo?(typeof ie=="function"&&(Uv(l,c,ie,p),B=l.memoizedState),(F=mo||LE(l,c,F,p,se,B,Z))?(ae||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=B),A.props=p,A.state=B,A.context=Z,p=F):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,hE(o,l),F=l.memoizedProps,Z=l.type===l.elementType?F:Kr(l.type,F),A.props=Z,ae=l.pendingProps,se=A.context,B=c.contextType,typeof B=="object"&&B!==null?B=_r(B):(B=Gn(c)?Ta:Sn.current,B=hu(l,B));var fe=c.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F!==ae||se!==B)&&FE(l,A,p,B),mo=!1,se=l.memoizedState,A.state=se,xp(l,p,A,y);var xe=l.memoizedState;F!==ae||se!==xe||qn.current||mo?(typeof fe=="function"&&(Uv(l,c,fe,p),xe=l.memoizedState),(Z=mo||LE(l,c,Z,p,se,xe,B)||!1)?(ie||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,xe,B),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,xe,B)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=xe),A.props=p,A.state=xe,A.context=B,p=Z):(typeof A.componentDidUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&se===o.memoizedState||(l.flags|=1024),p=!1)}return qv(o,l,c,p,w,y)}function qv(o,l,c,p,y,w){WE(o,l);var A=(l.flags&128)!==0;if(!p&&!A)return y&&eE(l,c,!1),gi(o,l,w);p=l.stateNode,J4.current=l;var F=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,o!==null&&A?(l.child=mu(l,o.child,null,w),l.child=mu(l,null,F,w)):Nn(o,l,F,w),l.memoizedState=p.state,y&&eE(l,c,!0),l.child}function YE(o){var l=o.stateNode;l.pendingContext?JS(o,l.pendingContext,l.pendingContext!==l.context):l.context&&JS(o,l.context,!1),Iv(o,l.containerInfo)}function XE(o,l,c,p,y){return pu(),bv(y),l.flags|=256,Nn(o,l,c,p),l.child}var Gv={dehydrated:null,treeContext:null,retryLane:0};function Hv(o){return{baseLanes:o,cachePool:null,transitions:null}}function JE(o,l,c){var p=l.pendingProps,y=Et.current,w=!1,A=(l.flags&128)!==0,F;if((F=A)||(F=o!==null&&o.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ht(Et,y&1),o===null)return wv(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=p.children,o=p.fallback,w?(p=l.mode,w=l.child,A={mode:"hidden",children:A},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=A):w=zp(A,p,0,null),o=Oa(o,p,c,null),w.return=l,o.return=l,w.sibling=o,l.child=w,l.child.memoizedState=Hv(c),l.memoizedState=Gv,o):Kv(l,A));if(y=o.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return Z4(o,l,A,p,F,y,c);if(w){w=p.fallback,A=l.mode,y=o.child,F=y.sibling;var B={mode:"hidden",children:p.children};return(A&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=B,l.deletions=null):(p=So(y,B),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=So(F,w):(w=Oa(w,A,c,null),w.flags|=2),w.return=l,p.return=l,p.sibling=w,l.child=p,p=w,w=l.child,A=o.child.memoizedState,A=A===null?Hv(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},w.memoizedState=A,w.childLanes=o.childLanes&~c,l.memoizedState=Gv,p}return w=o.child,o=w.sibling,p=So(w,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=c),p.return=l,p.sibling=null,o!==null&&(c=l.deletions,c===null?(l.deletions=[o],l.flags|=16):c.push(o)),l.child=p,l.memoizedState=null,p}function Kv(o,l){return l=zp({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Ap(o,l,c,p){return p!==null&&bv(p),mu(l,o.child,null,c),o=Kv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Z4(o,l,c,p,y,w,A){if(c)return l.flags&256?(l.flags&=-257,p=Bv(Error(n(422))),Ap(o,l,A,p)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(w=p.fallback,y=l.mode,p=zp({mode:"visible",children:p.children},y,0,null),w=Oa(w,y,A,null),w.flags|=2,p.return=l,w.return=l,p.sibling=w,l.child=p,(l.mode&1)!==0&&mu(l,o.child,null,A),l.child.memoizedState=Hv(A),l.memoizedState=Gv,w);if((l.mode&1)===0)return Ap(o,l,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(n(419)),p=Bv(w,p,void 0),Ap(o,l,A,p)}if(F=(A&o.childLanes)!==0,Hn||F){if(p=on,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|A))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,pi(o,y),Yr(p,o,y,-1))}return l0(),p=Bv(Error(n(421))),Ap(o,l,A,p)}return y.data==="$?"?(l.flags|=128,l.child=o.child,l=dj.bind(null,o),y._reactRetry=l,null):(o=w.treeContext,cr=co(y.nextSibling),ur=l,wt=!0,Hr=null,o!==null&&(Tr[kr++]=di,Tr[kr++]=fi,Tr[kr++]=ka,di=o.id,fi=o.overflow,ka=l),l=Kv(l,p.children),l.flags|=4096,l)}function ZE(o,l,c){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Tv(o.return,l,c)}function Wv(o,l,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function eT(o,l,c){var p=l.pendingProps,y=p.revealOrder,w=p.tail;if(Nn(o,l,p.children,c),p=Et.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ZE(o,c,l);else if(o.tag===19)ZE(o,c,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(ht(Et,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(c=l.child,y=null;c!==null;)o=c.alternate,o!==null&&Sp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=l.child,l.child=null):(y=c.sibling,c.sibling=null),Wv(l,!1,y,c,w);break;case"backwards":for(c=null,y=l.child,l.child=null;y!==null;){if(o=y.alternate,o!==null&&Sp(o)===null){l.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}Wv(l,!0,c,null,w);break;case"together":Wv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Pp(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function gi(o,l,c){if(o!==null&&(l.dependencies=o.dependencies),Pa|=l.lanes,(c&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,c=So(o,o.pendingProps),l.child=c,c.return=l;o.sibling!==null;)o=o.sibling,c=c.sibling=So(o,o.pendingProps),c.return=l;c.sibling=null}return l.child}function ej(o,l,c){switch(l.tag){case 3:YE(l),pu();break;case 5:pE(l);break;case 1:Gn(l.type)&&dp(l);break;case 4:Iv(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ht(vp,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ht(Et,Et.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?JE(o,l,c):(ht(Et,Et.current&1),o=gi(o,l,c),o!==null?o.sibling:null);ht(Et,Et.current&1);break;case 19:if(p=(c&l.childLanes)!==0,(o.flags&128)!==0){if(p)return eT(o,l,c);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ht(Et,Et.current),p)break;return null;case 22:case 23:return l.lanes=0,KE(o,l,c)}return gi(o,l,c)}var tT,Qv,nT,rT;tT=function(o,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Qv=function(){},nT=function(o,l,c,p){var y=o.memoizedProps;if(y!==p){o=l.stateNode,Ca(ks.current);var w=null;switch(c){case"input":y=Gi(o,y),p=Gi(o,p),w=[];break;case"select":y=oe({},y,{value:void 0}),p=oe({},p,{value:void 0}),w=[];break;case"textarea":y=Vc(o,y),p=Vc(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=up)}zr(c,p);var A;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(A in F)F.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var B=p[Z];if(F=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&B!==F&&(B!=null||F!=null))if(Z==="style")if(F){for(A in F)!F.hasOwnProperty(A)||B&&B.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in B)B.hasOwnProperty(A)&&F[A]!==B[A]&&(c||(c={}),c[A]=B[A])}else c||(w||(w=[]),w.push(Z,c)),c=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,F=F?F.__html:void 0,B!=null&&F!==B&&(w=w||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&mt("scroll",o),w||F===B||(w=[])):(w=w||[]).push(Z,B))}c&&(w=w||[]).push("style",c);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},rT=function(o,l,c,p){c!==p&&(l.flags|=4)};function _h(o,l){if(!wt)switch(o.tailMode){case"hidden":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Tn(o){var l=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(l)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,l}function tj(o,l,c){var p=l.pendingProps;switch(yv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(l),null;case 1:return Gn(l.type)&&hp(),Tn(l),null;case 3:return p=l.stateNode,vu(),gt(qn),gt(Sn),Pv(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(gp(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hr!==null&&(i0(Hr),Hr=null))),Qv(o,l),Tn(l),null;case 5:Cv(l);var y=Ca(xh.current);if(c=l.type,o!==null&&l.stateNode!=null)nT(o,l,c,p,y),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Tn(l),null}if(o=Ca(ks.current),gp(l)){p=l.stateNode,c=l.type;var w=l.memoizedProps;switch(p[Ts]=l,p[gh]=w,o=(l.mode&1)!==0,c){case"dialog":mt("cancel",p),mt("close",p);break;case"iframe":case"object":case"embed":mt("load",p);break;case"video":case"audio":for(y=0;y<fh.length;y++)mt(fh[y],p);break;case"source":mt("error",p);break;case"img":case"image":case"link":mt("error",p),mt("load",p);break;case"details":mt("toggle",p);break;case"input":Fl(p,w),mt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},mt("invalid",p);break;case"textarea":Bc(p,w),mt("invalid",p)}zr(c,w),y=null;for(var A in w)if(w.hasOwnProperty(A)){var F=w[A];A==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&lp(p.textContent,F,o),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&lp(p.textContent,F,o),y=["children",""+F]):s.hasOwnProperty(A)&&F!=null&&A==="onScroll"&&mt("scroll",p)}switch(c){case"input":br(p),la(p,w,!0);break;case"textarea":br(p),Ki(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=up)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=zc(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=A.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=A.createElement(c,{is:p.is}):(o=A.createElement(c),c==="select"&&(A=o,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):o=A.createElementNS(o,c),o[Ts]=l,o[gh]=p,tT(o,l,!1,!1),l.stateNode=o;e:{switch(A=Bl(c,p),c){case"dialog":mt("cancel",o),mt("close",o),y=p;break;case"iframe":case"object":case"embed":mt("load",o),y=p;break;case"video":case"audio":for(y=0;y<fh.length;y++)mt(fh[y],o);y=p;break;case"source":mt("error",o),y=p;break;case"img":case"image":case"link":mt("error",o),mt("load",o),y=p;break;case"details":mt("toggle",o),y=p;break;case"input":Fl(o,p),y=Gi(o,p),mt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=oe({},p,{value:void 0}),mt("invalid",o);break;case"textarea":Bc(o,p),y=Vc(o,p),mt("invalid",o);break;default:y=p}zr(c,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var B=F[w];w==="style"?Vl(o,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Lf(o,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&ua(o,B):typeof B=="number"&&ua(o,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?B!=null&&w==="onScroll"&&mt("scroll",o):B!=null&&M(o,w,B,A))}switch(c){case"input":br(o),la(o,p,!1);break;case"textarea":br(o),Ki(o);break;case"option":p.value!=null&&o.setAttribute("value",""+$e(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?Br(o,!!p.multiple,w,!1):p.defaultValue!=null&&Br(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=up)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Tn(l),null;case 6:if(o&&l.stateNode!=null)rT(o,l,o.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(c=Ca(xh.current),Ca(ks.current),gp(l)){if(p=l.stateNode,c=l.memoizedProps,p[Ts]=l,(w=p.nodeValue!==c)&&(o=ur,o!==null))switch(o.tag){case 3:lp(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&lp(p.nodeValue,c,(o.mode&1)!==0)}w&&(l.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ts]=l,l.stateNode=p}return Tn(l),null;case 13:if(gt(Et),p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(wt&&cr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)oE(),pu(),l.flags|=98560,w=!1;else if(w=gp(l),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ts]=l}else pu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tn(l),w=!1}else Hr!==null&&(i0(Hr),Hr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Et.current&1)!==0?en===0&&(en=3):l0())),l.updateQueue!==null&&(l.flags|=4),Tn(l),null);case 4:return vu(),Qv(o,l),o===null&&ph(l.stateNode.containerInfo),Tn(l),null;case 10:return Ev(l.type._context),Tn(l),null;case 17:return Gn(l.type)&&hp(),Tn(l),null;case 19:if(gt(Et),w=l.memoizedState,w===null)return Tn(l),null;if(p=(l.flags&128)!==0,A=w.rendering,A===null)if(p)_h(w,!1);else{if(en!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(A=Sp(o),A!==null){for(l.flags|=128,_h(w,!1),p=A.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=c,c=l.child;c!==null;)w=c,o=p,w.flags&=14680066,A=w.alternate,A===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,w.type=A.type,o=A.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return ht(Et,Et.current&1|2),l.child}o=o.sibling}w.tail!==null&&pt()>Su&&(l.flags|=128,p=!0,_h(w,!1),l.lanes=4194304)}else{if(!p)if(o=Sp(A),o!==null){if(l.flags|=128,p=!0,c=o.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),_h(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!wt)return Tn(l),null}else 2*pt()-w.renderingStartTime>Su&&c!==1073741824&&(l.flags|=128,p=!0,_h(w,!1),l.lanes=4194304);w.isBackwards?(A.sibling=l.child,l.child=A):(c=w.last,c!==null?c.sibling=A:l.child=A,w.last=A)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=pt(),l.sibling=null,c=Et.current,ht(Et,p?c&1|2:c&1),l):(Tn(l),null);case 22:case 23:return a0(),p=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(hr&1073741824)!==0&&(Tn(l),l.subtreeFlags&6&&(l.flags|=8192)):Tn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function nj(o,l){switch(yv(l),l.tag){case 1:return Gn(l.type)&&hp(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return vu(),gt(qn),gt(Sn),Pv(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Cv(l),null;case 13:if(gt(Et),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));pu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return gt(Et),null;case 4:return vu(),null;case 10:return Ev(l.type._context),null;case 22:case 23:return a0(),null;case 24:return null;default:return null}}var Rp=!1,kn=!1,rj=typeof WeakSet=="function"?WeakSet:Set,we=null;function bu(o,l){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Pt(o,l,p)}else c.current=null}function sT(o,l,c){try{c()}catch(p){Pt(o,l,p)}}var iT=!1;function sj(o,l){if(lv=li,o=LS(),ev(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var A=0,F=-1,B=-1,Z=0,ie=0,ae=o,se=null;t:for(;;){for(var fe;ae!==c||y!==0&&ae.nodeType!==3||(F=A+y),ae!==w||p!==0&&ae.nodeType!==3||(B=A+p),ae.nodeType===3&&(A+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)se=ae,ae=fe;for(;;){if(ae===o)break t;if(se===c&&++Z===y&&(F=A),se===w&&++ie===p&&(B=A),(fe=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=fe}c=F===-1||B===-1?null:{start:F,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(uv={focusedElem:o,selectionRange:c},li=!1,we=l;we!==null;)if(l=we,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,we=o;else for(;we!==null;){l=we;try{var xe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var ke=xe.memoizedProps,Lt=xe.memoizedState,Y=l.stateNode,G=Y.getSnapshotBeforeUpdate(l.elementType===l.type?ke:Kr(l.type,ke),Lt);Y.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Pt(l,l.return,ue)}if(o=l.sibling,o!==null){o.return=l.return,we=o;break}we=l.return}return xe=iT,iT=!1,xe}function Ih(o,l,c){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&sT(l,c,w)}y=y.next}while(y!==p)}}function Np(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==l)}}function Yv(o){var l=o.ref;if(l!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof l=="function"?l(o):l.current=o}}function oT(o){var l=o.alternate;l!==null&&(o.alternate=null,oT(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Ts],delete l[gh],delete l[fv],delete l[V4],delete l[B4])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function aT(o){return o.tag===5||o.tag===3||o.tag===4}function lT(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||aT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Xv(o,l,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(o,l):c.insertBefore(o,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(o,c)):(l=c,l.appendChild(o)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=up));else if(p!==4&&(o=o.child,o!==null))for(Xv(o,l,c),o=o.sibling;o!==null;)Xv(o,l,c),o=o.sibling}function Jv(o,l,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?c.insertBefore(o,l):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(Jv(o,l,c),o=o.sibling;o!==null;)Jv(o,l,c),o=o.sibling}var dn=null,Wr=!1;function yo(o,l,c){for(c=c.child;c!==null;)uT(o,l,c),c=c.sibling}function uT(o,l,c){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(pa,c)}catch{}switch(c.tag){case 5:kn||bu(c,l);case 6:var p=dn,y=Wr;dn=null,yo(o,l,c),dn=p,Wr=y,dn!==null&&(Wr?(o=dn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):dn.removeChild(c.stateNode));break;case 18:dn!==null&&(Wr?(o=dn,c=c.stateNode,o.nodeType===8?dv(o.parentNode,c):o.nodeType===1&&dv(o,c),io(o)):dv(dn,c.stateNode));break;case 4:p=dn,y=Wr,dn=c.stateNode.containerInfo,Wr=!0,yo(o,l,c),dn=p,Wr=y;break;case 0:case 11:case 14:case 15:if(!kn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,A=w.destroy;w=w.tag,A!==void 0&&((w&2)!==0||(w&4)!==0)&&sT(c,l,A),y=y.next}while(y!==p)}yo(o,l,c);break;case 1:if(!kn&&(bu(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(F){Pt(c,l,F)}yo(o,l,c);break;case 21:yo(o,l,c);break;case 22:c.mode&1?(kn=(p=kn)||c.memoizedState!==null,yo(o,l,c),kn=p):yo(o,l,c);break;default:yo(o,l,c)}}function cT(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new rj),l.forEach(function(p){var y=fj.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function Qr(o,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,A=l,F=A;e:for(;F!==null;){switch(F.tag){case 5:dn=F.stateNode,Wr=!1;break e;case 3:dn=F.stateNode.containerInfo,Wr=!0;break e;case 4:dn=F.stateNode.containerInfo,Wr=!0;break e}F=F.return}if(dn===null)throw Error(n(160));uT(w,A,y),dn=null,Wr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Z){Pt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)hT(l,o),l=l.sibling}function hT(o,l){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Qr(l,o),Is(o),p&4){try{Ih(3,o,o.return),Np(3,o)}catch(ke){Pt(o,o.return,ke)}try{Ih(5,o,o.return)}catch(ke){Pt(o,o.return,ke)}}break;case 1:Qr(l,o),Is(o),p&512&&c!==null&&bu(c,c.return);break;case 5:if(Qr(l,o),Is(o),p&512&&c!==null&&bu(c,c.return),o.flags&32){var y=o.stateNode;try{ua(y,"")}catch(ke){Pt(o,o.return,ke)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,A=c!==null?c.memoizedProps:w,F=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Hi(y,w),Bl(F,A);var Z=Bl(F,w);for(A=0;A<B.length;A+=2){var ie=B[A],ae=B[A+1];ie==="style"?Vl(y,ae):ie==="dangerouslySetInnerHTML"?Lf(y,ae):ie==="children"?ua(y,ae):M(y,ie,ae,Z)}switch(F){case"input":ei(y,w);break;case"textarea":Mf(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Br(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Br(y,!!w.multiple,w.defaultValue,!0):Br(y,!!w.multiple,w.multiple?[]:"",!1))}y[gh]=w}catch(ke){Pt(o,o.return,ke)}}break;case 6:if(Qr(l,o),Is(o),p&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(ke){Pt(o,o.return,ke)}}break;case 3:if(Qr(l,o),Is(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{io(l.containerInfo)}catch(ke){Pt(o,o.return,ke)}break;case 4:Qr(l,o),Is(o);break;case 13:Qr(l,o),Is(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(t0=pt())),p&4&&cT(o);break;case 22:if(ie=c!==null&&c.memoizedState!==null,o.mode&1?(kn=(Z=kn)||ie,Qr(l,o),kn=Z):Qr(l,o),Is(o),p&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ie&&(o.mode&1)!==0)for(we=o,ie=o.child;ie!==null;){for(ae=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Ih(4,se,se.return);break;case 1:bu(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){p=se,c=se.return;try{l=p,xe.props=l.memoizedProps,xe.state=l.memoizedState,xe.componentWillUnmount()}catch(ke){Pt(p,c,ke)}}break;case 5:bu(se,se.return);break;case 22:if(se.memoizedState!==null){pT(ae);continue}}fe!==null?(fe.return=se,we=fe):pT(ae)}ie=ie.sibling}e:for(ie=null,ae=o;;){if(ae.tag===5){if(ie===null){ie=ae;try{y=ae.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ae.stateNode,B=ae.memoizedProps.style,A=B!=null&&B.hasOwnProperty("display")?B.display:null,F.style.display=Yi("display",A))}catch(ke){Pt(o,o.return,ke)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(ke){Pt(o,o.return,ke)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===o)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===o)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===o)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Qr(l,o),Is(o),p&4&&cT(o);break;case 21:break;default:Qr(l,o),Is(o)}}function Is(o){var l=o.flags;if(l&2){try{e:{for(var c=o.return;c!==null;){if(aT(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(ua(y,""),p.flags&=-33);var w=lT(o);Jv(o,w,y);break;case 3:case 4:var A=p.stateNode.containerInfo,F=lT(o);Xv(o,F,A);break;default:throw Error(n(161))}}catch(B){Pt(o,o.return,B)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function ij(o,l,c){we=o,dT(o)}function dT(o,l,c){for(var p=(o.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||Rp;if(!A){var F=y.alternate,B=F!==null&&F.memoizedState!==null||kn;F=Rp;var Z=kn;if(Rp=A,(kn=B)&&!Z)for(we=y;we!==null;)A=we,B=A.child,A.tag===22&&A.memoizedState!==null?mT(y):B!==null?(B.return=A,we=B):mT(y);for(;w!==null;)we=w,dT(w),w=w.sibling;we=y,Rp=F,kn=Z}fT(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):fT(o)}}function fT(o){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:kn||Np(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!kn)if(c===null)p.componentDidMount();else{var y=l.elementType===l.type?c.memoizedProps:Kr(l.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&fE(l,w,p);break;case 3:var A=l.updateQueue;if(A!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}fE(l,A,c)}break;case 5:var F=l.stateNode;if(c===null&&l.flags&4){c=F;var B=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&io(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kn||l.flags&512&&Yv(l)}catch(se){Pt(l,l.return,se)}}if(l===o){we=null;break}if(c=l.sibling,c!==null){c.return=l.return,we=c;break}we=l.return}}function pT(o){for(;we!==null;){var l=we;if(l===o){we=null;break}var c=l.sibling;if(c!==null){c.return=l.return,we=c;break}we=l.return}}function mT(o){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Np(4,l)}catch(B){Pt(l,c,B)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(B){Pt(l,y,B)}}var w=l.return;try{Yv(l)}catch(B){Pt(l,w,B)}break;case 5:var A=l.return;try{Yv(l)}catch(B){Pt(l,A,B)}}}catch(B){Pt(l,l.return,B)}if(l===o){we=null;break}var F=l.sibling;if(F!==null){F.return=l.return,we=F;break}we=l.return}}var oj=Math.ceil,Dp=V.ReactCurrentDispatcher,Zv=V.ReactCurrentOwner,Cr=V.ReactCurrentBatchConfig,tt=0,on=null,Wt=null,fn=0,hr=0,xu=ho(0),en=0,Ch=null,Pa=0,Op=0,e0=0,Ah=null,Kn=null,t0=0,Su=1/0,yi=null,Mp=!1,n0=null,vo=null,Lp=!1,wo=null,jp=0,Ph=0,r0=null,Fp=-1,Up=0;function Dn(){return(tt&6)!==0?pt():Fp!==-1?Fp:Fp=pt()}function bo(o){return(o.mode&1)===0?1:(tt&2)!==0&&fn!==0?fn&-fn:$4.transition!==null?(Up===0&&(Up=Xc()),Up):(o=Ye,o!==0||(o=window.event,o=o===void 0?16:Xl(o.type)),o)}function Yr(o,l,c,p){if(50<Ph)throw Ph=0,r0=null,Error(n(185));va(o,c,p),((tt&2)===0||o!==on)&&(o===on&&((tt&2)===0&&(Op|=c),en===4&&xo(o,fn)),Wn(o,p),c===1&&tt===0&&(l.mode&1)===0&&(Su=pt()+500,fp&&po()))}function Wn(o,l){var c=o.callbackNode;ya(o,l);var p=ii(o,o===on?fn:0);if(p===0)c!==null&&ql(c),o.callbackNode=null,o.callbackPriority=0;else if(l=p&-p,o.callbackPriority!==l){if(c!=null&&ql(c),l===1)o.tag===0?z4(yT.bind(null,o)):tE(yT.bind(null,o)),F4(function(){(tt&6)===0&&po()}),c=null;else{switch(ps(p)){case 1:c=Gl;break;case 4:c=Wc;break;case 16:c=fa;break;case 536870912:c=Hl;break;default:c=fa}c=kT(c,gT.bind(null,o))}o.callbackPriority=l,o.callbackNode=c}}function gT(o,l){if(Fp=-1,Up=0,(tt&6)!==0)throw Error(n(327));var c=o.callbackNode;if(Eu()&&o.callbackNode!==c)return null;var p=ii(o,o===on?fn:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||l)l=Vp(o,p);else{l=p;var y=tt;tt|=2;var w=wT();(on!==o||fn!==l)&&(yi=null,Su=pt()+500,Na(o,l));do try{uj();break}catch(F){vT(o,F)}while(!0);Sv(),Dp.current=w,tt=y,Wt!==null?l=0:(on=null,fn=0,l=en)}if(l!==0){if(l===2&&(y=Yc(o),y!==0&&(p=y,l=s0(o,y))),l===1)throw c=Ch,Na(o,0),xo(o,p),Wn(o,pt()),c;if(l===6)xo(o,p);else{if(y=o.current.alternate,(p&30)===0&&!aj(y)&&(l=Vp(o,p),l===2&&(w=Yc(o),w!==0&&(p=w,l=s0(o,w))),l===1))throw c=Ch,Na(o,0),xo(o,p),Wn(o,pt()),c;switch(o.finishedWork=y,o.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Da(o,Kn,yi);break;case 3:if(xo(o,p),(p&130023424)===p&&(l=t0+500-pt(),10<l)){if(ii(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Dn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=hv(Da.bind(null,o,Kn,yi),l);break}Da(o,Kn,yi);break;case 4:if(xo(o,p),(p&4194240)===p)break;for(l=o.eventTimes,y=-1;0<p;){var A=31-sr(p);w=1<<A,A=l[A],A>y&&(y=A),p&=~w}if(p=y,p=pt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*oj(p/1960))-p,10<p){o.timeoutHandle=hv(Da.bind(null,o,Kn,yi),p);break}Da(o,Kn,yi);break;case 5:Da(o,Kn,yi);break;default:throw Error(n(329))}}}return Wn(o,pt()),o.callbackNode===c?gT.bind(null,o):null}function s0(o,l){var c=Ah;return o.current.memoizedState.isDehydrated&&(Na(o,l).flags|=256),o=Vp(o,l),o!==2&&(l=Kn,Kn=c,l!==null&&i0(l)),o}function i0(o){Kn===null?Kn=o:Kn.push.apply(Kn,o)}function aj(o){for(var l=o;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!Gr(w(),y))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xo(o,l){for(l&=~e0,l&=~Op,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var c=31-sr(l),p=1<<c;o[c]=-1,l&=~p}}function yT(o){if((tt&6)!==0)throw Error(n(327));Eu();var l=ii(o,0);if((l&1)===0)return Wn(o,pt()),null;var c=Vp(o,l);if(o.tag!==0&&c===2){var p=Yc(o);p!==0&&(l=p,c=s0(o,p))}if(c===1)throw c=Ch,Na(o,0),xo(o,l),Wn(o,pt()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Da(o,Kn,yi),Wn(o,pt()),null}function o0(o,l){var c=tt;tt|=1;try{return o(l)}finally{tt=c,tt===0&&(Su=pt()+500,fp&&po())}}function Ra(o){wo!==null&&wo.tag===0&&(tt&6)===0&&Eu();var l=tt;tt|=1;var c=Cr.transition,p=Ye;try{if(Cr.transition=null,Ye=1,o)return o()}finally{Ye=p,Cr.transition=c,tt=l,(tt&6)===0&&po()}}function a0(){hr=xu.current,gt(xu)}function Na(o,l){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,j4(c)),Wt!==null)for(c=Wt.return;c!==null;){var p=c;switch(yv(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&hp();break;case 3:vu(),gt(qn),gt(Sn),Pv();break;case 5:Cv(p);break;case 4:vu();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:Ev(p.type._context);break;case 22:case 23:a0()}c=c.return}if(on=o,Wt=o=So(o.current,null),fn=hr=l,en=0,Ch=null,e0=Op=Pa=0,Kn=Ah=null,Ia!==null){for(l=0;l<Ia.length;l++)if(c=Ia[l],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var A=w.next;w.next=y,p.next=A}c.pending=p}Ia=null}return o}function vT(o,l){do{var c=Wt;try{if(Sv(),Ep.current=Ip,Tp){for(var p=Tt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Tp=!1}if(Aa=0,sn=Zt=Tt=null,Sh=!1,Eh=0,Zv.current=null,c===null||c.return===null){en=1,Ch=l,Wt=null;break}e:{var w=o,A=c.return,F=c,B=l;if(l=fn,F.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ie=F,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=zE(A);if(fe!==null){fe.flags&=-257,$E(fe,A,F,w,l),fe.mode&1&&BE(w,Z,l),l=fe,B=Z;var xe=l.updateQueue;if(xe===null){var ke=new Set;ke.add(B),l.updateQueue=ke}else xe.add(B);break e}else{if((l&1)===0){BE(w,Z,l),l0();break e}B=Error(n(426))}}else if(wt&&F.mode&1){var Lt=zE(A);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),$E(Lt,A,F,w,l),bv(wu(B,F));break e}}w=B=wu(B,F),en!==4&&(en=2),Ah===null?Ah=[w]:Ah.push(w),w=A;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var Y=UE(w,B,l);dE(w,Y);break e;case 1:F=B;var G=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(vo===null||!vo.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=VE(w,F,l);dE(w,ue);break e}}w=w.return}while(w!==null)}xT(c)}catch(_e){l=_e,Wt===c&&c!==null&&(Wt=c=c.return);continue}break}while(!0)}function wT(){var o=Dp.current;return Dp.current=Ip,o===null?Ip:o}function l0(){(en===0||en===3||en===2)&&(en=4),on===null||(Pa&268435455)===0&&(Op&268435455)===0||xo(on,fn)}function Vp(o,l){var c=tt;tt|=2;var p=wT();(on!==o||fn!==l)&&(yi=null,Na(o,l));do try{lj();break}catch(y){vT(o,y)}while(!0);if(Sv(),tt=c,Dp.current=p,Wt!==null)throw Error(n(261));return on=null,fn=0,en}function lj(){for(;Wt!==null;)bT(Wt)}function uj(){for(;Wt!==null&&!da();)bT(Wt)}function bT(o){var l=TT(o.alternate,o,hr);o.memoizedProps=o.pendingProps,l===null?xT(o):Wt=l,Zv.current=null}function xT(o){var l=o;do{var c=l.alternate;if(o=l.return,(l.flags&32768)===0){if(c=tj(c,l,hr),c!==null){Wt=c;return}}else{if(c=nj(c,l),c!==null){c.flags&=32767,Wt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{en=6,Wt=null;return}}if(l=l.sibling,l!==null){Wt=l;return}Wt=l=o}while(l!==null);en===0&&(en=5)}function Da(o,l,c){var p=Ye,y=Cr.transition;try{Cr.transition=null,Ye=1,cj(o,l,c,p)}finally{Cr.transition=y,Ye=p}return null}function cj(o,l,c,p){do Eu();while(wo!==null);if((tt&6)!==0)throw Error(n(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(Qy(o,w),o===on&&(Wt=on=null,fn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Lp||(Lp=!0,kT(fa,function(){return Eu(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Cr.transition,Cr.transition=null;var A=Ye;Ye=1;var F=tt;tt|=4,Zv.current=null,sj(o,c),hT(c,o),P4(uv),li=!!lv,uv=lv=null,o.current=c,ij(c),si(),tt=F,Ye=A,Cr.transition=w}else o.current=c;if(Lp&&(Lp=!1,wo=o,jp=y),w=o.pendingLanes,w===0&&(vo=null),Kf(c.stateNode),Wn(o,pt()),l!==null)for(p=o.onRecoverableError,c=0;c<l.length;c++)y=l[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Mp)throw Mp=!1,o=n0,n0=null,o;return(jp&1)!==0&&o.tag!==0&&Eu(),w=o.pendingLanes,(w&1)!==0?o===r0?Ph++:(Ph=0,r0=o):Ph=0,po(),null}function Eu(){if(wo!==null){var o=ps(jp),l=Cr.transition,c=Ye;try{if(Cr.transition=null,Ye=16>o?16:o,wo===null)var p=!1;else{if(o=wo,wo=null,jp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=o.current;we!==null;){var w=we,A=w.child;if((we.flags&16)!==0){var F=w.deletions;if(F!==null){for(var B=0;B<F.length;B++){var Z=F[B];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Ih(8,ie,w)}var ae=ie.child;if(ae!==null)ae.return=ie,we=ae;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(oT(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var xe=w.alternate;if(xe!==null){var ke=xe.child;if(ke!==null){xe.child=null;do{var Lt=ke.sibling;ke.sibling=null,ke=Lt}while(ke!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,we=A;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ih(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,we=Y;break e}we=w.return}}var G=o.current;for(we=G;we!==null;){A=we;var J=A.child;if((A.subtreeFlags&2064)!==0&&J!==null)J.return=A,we=J;else e:for(A=G;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:Np(9,F)}}catch(_e){Pt(F,F.return,_e)}if(F===A){we=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,we=ue;break e}we=F.return}}if(tt=y,po(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(pa,o)}catch{}p=!0}return p}finally{Ye=c,Cr.transition=l}}return!1}function ST(o,l,c){l=wu(c,l),l=UE(o,l,1),o=go(o,l,1),l=Dn(),o!==null&&(va(o,1,l),Wn(o,l))}function Pt(o,l,c){if(o.tag===3)ST(o,o,c);else for(;l!==null;){if(l.tag===3){ST(l,o,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(vo===null||!vo.has(p))){o=wu(c,o),o=VE(l,o,1),l=go(l,o,1),o=Dn(),l!==null&&(va(l,1,o),Wn(l,o));break}}l=l.return}}function hj(o,l,c){var p=o.pingCache;p!==null&&p.delete(l),l=Dn(),o.pingedLanes|=o.suspendedLanes&c,on===o&&(fn&c)===c&&(en===4||en===3&&(fn&130023424)===fn&&500>pt()-t0?Na(o,0):e0|=c),Wn(o,l)}function ET(o,l){l===0&&((o.mode&1)===0?l=1:(l=no,no<<=1,(no&130023424)===0&&(no=4194304)));var c=Dn();o=pi(o,l),o!==null&&(va(o,l,c),Wn(o,c))}function dj(o){var l=o.memoizedState,c=0;l!==null&&(c=l.retryLane),ET(o,c)}function fj(o,l){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),ET(o,c)}var TT;TT=function(o,l,c){if(o!==null)if(o.memoizedProps!==l.pendingProps||qn.current)Hn=!0;else{if((o.lanes&c)===0&&(l.flags&128)===0)return Hn=!1,ej(o,l,c);Hn=(o.flags&131072)!==0}else Hn=!1,wt&&(l.flags&1048576)!==0&&nE(l,mp,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Pp(o,l),o=l.pendingProps;var y=hu(l,Sn.current);yu(l,c),y=Dv(null,l,p,o,y,c);var w=Ov();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Gn(p)?(w=!0,dp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,_v(l),y.updater=Cp,l.stateNode=y,y._reactInternals=l,Vv(l,p,o,c),l=qv(null,l,p,!0,w,c)):(l.tag=0,wt&&w&&gv(l),Nn(null,l,y,c),l=l.child),l;case 16:p=l.elementType;e:{switch(Pp(o,l),o=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=mj(p),o=Kr(p,o),y){case 0:l=$v(null,l,p,o,c);break e;case 1:l=QE(null,l,p,o,c);break e;case 11:l=qE(null,l,p,o,c);break e;case 14:l=GE(null,l,p,Kr(p.type,o),c);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kr(p,y),$v(o,l,p,y,c);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kr(p,y),QE(o,l,p,y,c);case 3:e:{if(YE(l),o===null)throw Error(n(387));p=l.pendingProps,w=l.memoizedState,y=w.element,hE(o,l),xp(l,p,null,c);var A=l.memoizedState;if(p=A.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=wu(Error(n(423)),l),l=XE(o,l,p,c,y);break e}else if(p!==y){y=wu(Error(n(424)),l),l=XE(o,l,p,c,y);break e}else for(cr=co(l.stateNode.containerInfo.firstChild),ur=l,wt=!0,Hr=null,c=uE(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(pu(),p===y){l=gi(o,l,c);break e}Nn(o,l,p,c)}l=l.child}return l;case 5:return pE(l),o===null&&wv(l),p=l.type,y=l.pendingProps,w=o!==null?o.memoizedProps:null,A=y.children,cv(p,y)?A=null:w!==null&&cv(p,w)&&(l.flags|=32),WE(o,l),Nn(o,l,A,c),l.child;case 6:return o===null&&wv(l),null;case 13:return JE(o,l,c);case 4:return Iv(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=mu(l,null,p,c):Nn(o,l,p,c),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kr(p,y),qE(o,l,p,y,c);case 7:return Nn(o,l,l.pendingProps,c),l.child;case 8:return Nn(o,l,l.pendingProps.children,c),l.child;case 12:return Nn(o,l,l.pendingProps.children,c),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,w=l.memoizedProps,A=y.value,ht(vp,p._currentValue),p._currentValue=A,w!==null)if(Gr(w.value,A)){if(w.children===y.children&&!qn.current){l=gi(o,l,c);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){A=w.child;for(var B=F.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=mi(-1,c&-c),B.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?B.next=B:(B.next=ie.next,ie.next=B),Z.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),Tv(w.return,c,l),F.lanes|=c;break}B=B.next}}else if(w.tag===10)A=w.type===l.type?null:w.child;else if(w.tag===18){if(A=w.return,A===null)throw Error(n(341));A.lanes|=c,F=A.alternate,F!==null&&(F.lanes|=c),Tv(A,c,l),A=w.sibling}else A=w.child;if(A!==null)A.return=w;else for(A=w;A!==null;){if(A===l){A=null;break}if(w=A.sibling,w!==null){w.return=A.return,A=w;break}A=A.return}w=A}Nn(o,l,y.children,c),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,yu(l,c),y=_r(y),p=p(y),l.flags|=1,Nn(o,l,p,c),l.child;case 14:return p=l.type,y=Kr(p,l.pendingProps),y=Kr(p.type,y),GE(o,l,p,y,c);case 15:return HE(o,l,l.type,l.pendingProps,c);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Kr(p,y),Pp(o,l),l.tag=1,Gn(p)?(o=!0,dp(l)):o=!1,yu(l,c),jE(l,p,y),Vv(l,p,y,c),qv(null,l,p,!0,o,c);case 19:return eT(o,l,c);case 22:return KE(o,l,c)}throw Error(n(156,l.tag))};function kT(o,l){return Kc(o,l)}function pj(o,l,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(o,l,c,p){return new pj(o,l,c,p)}function u0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function mj(o){if(typeof o=="function")return u0(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===Ne)return 14}return 2}function So(o,l){var c=o.alternate;return c===null?(c=Ar(o.tag,l,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=l,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,l=o.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Bp(o,l,c,p,y,w){var A=2;if(p=o,typeof o=="function")u0(o)&&(A=1);else if(typeof o=="string")A=5;else e:switch(o){case D:return Oa(c.children,y,w,l);case C:A=8,y|=8;break;case N:return o=Ar(12,c,l,y|2),o.elementType=N,o.lanes=w,o;case L:return o=Ar(13,c,l,y),o.elementType=L,o.lanes=w,o;case be:return o=Ar(19,c,l,y),o.elementType=be,o.lanes=w,o;case ve:return zp(c,y,w,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case j:A=10;break e;case U:A=9;break e;case $:A=11;break e;case Ne:A=14;break e;case ye:A=16,p=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Ar(A,c,l,y),l.elementType=o,l.type=p,l.lanes=w,l}function Oa(o,l,c,p){return o=Ar(7,o,p,l),o.lanes=c,o}function zp(o,l,c,p){return o=Ar(22,o,p,l),o.elementType=ve,o.lanes=c,o.stateNode={isHidden:!1},o}function c0(o,l,c){return o=Ar(6,o,null,l),o.lanes=c,o}function h0(o,l,c){return l=Ar(4,o.children!==null?o.children:[],o.key,l),l.lanes=c,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function gj(o,l,c,p,y){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jc(0),this.expirationTimes=Jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function d0(o,l,c,p,y,w,A,F,B){return o=new gj(o,l,c,F,B),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Ar(3,null,null,l),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},_v(w),o}function yj(o,l,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:o,containerInfo:l,implementation:c}}function _T(o){if(!o)return fo;o=o._reactInternals;e:{if($r(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Gn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(Gn(c))return ZS(o,c,l)}return l}function IT(o,l,c,p,y,w,A,F,B){return o=d0(c,p,!0,o,y,w,A,F,B),o.context=_T(null),c=o.current,p=Dn(),y=bo(c),w=mi(p,y),w.callback=l??null,go(c,w,y),o.current.lanes=y,va(o,y,p),Wn(o,p),o}function $p(o,l,c,p){var y=l.current,w=Dn(),A=bo(y);return c=_T(c),l.context===null?l.context=c:l.pendingContext=c,l=mi(w,A),l.payload={element:o},p=p===void 0?null:p,p!==null&&(l.callback=p),o=go(y,l,A),o!==null&&(Yr(o,y,A,w),bp(o,y,A)),A}function qp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function CT(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<l?c:l}}function f0(o,l){CT(o,l),(o=o.alternate)&&CT(o,l)}function vj(){return null}var AT=typeof reportError=="function"?reportError:function(o){console.error(o)};function p0(o){this._internalRoot=o}Gp.prototype.render=p0.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));$p(o,l,null,null)},Gp.prototype.unmount=p0.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ra(function(){$p(null,o,null,null)}),l[ci]=null}};function Gp(o){this._internalRoot=o}Gp.prototype.unstable_scheduleHydration=function(o){if(o){var l=nh();o={blockedOn:null,target:o,priority:l};for(var c=0;c<ir.length&&l!==0&&l<ir[c].priority;c++);ir.splice(c,0,o),c===0&&Ql(o)}};function m0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Hp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function PT(){}function wj(o,l,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=qp(A);w.call(Z)}}var A=IT(l,p,o,0,null,!1,!1,"",PT);return o._reactRootContainer=A,o[ci]=A.current,ph(o.nodeType===8?o.parentNode:o),Ra(),A}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var Z=qp(B);F.call(Z)}}var B=d0(o,0,!1,null,null,!1,!1,"",PT);return o._reactRootContainer=B,o[ci]=B.current,ph(o.nodeType===8?o.parentNode:o),Ra(function(){$p(l,B,c,p)}),B}function Kp(o,l,c,p,y){var w=c._reactRootContainer;if(w){var A=w;if(typeof y=="function"){var F=y;y=function(){var B=qp(A);F.call(B)}}$p(l,A,o,y)}else A=wj(c,l,o,y,p);return qp(A)}eh=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var c=rt(l.pendingLanes);c!==0&&(Zc(l,c|1),Wn(l,pt()),(tt&6)===0&&(Su=pt()+500,po()))}break;case 13:Ra(function(){var p=pi(o,1);if(p!==null){var y=Dn();Yr(p,o,1,y)}}),f0(o,1)}},Kl=function(o){if(o.tag===13){var l=pi(o,134217728);if(l!==null){var c=Dn();Yr(l,o,134217728,c)}f0(o,134217728)}},th=function(o){if(o.tag===13){var l=bo(o),c=pi(o,l);if(c!==null){var p=Dn();Yr(c,o,l,p)}f0(o,l)}},nh=function(){return Ye},rh=function(o,l){var c=Ye;try{return Ye=o,l()}finally{Ye=c}},ti=function(o,l,c){switch(l){case"input":if(ei(o,c),l=c.name,c.type==="radio"&&l!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==o&&p.form===o.form){var y=cp(p);if(!y)throw Error(n(90));xr(p),ei(p,y)}}}break;case"textarea":Mf(o,c);break;case"select":l=c.value,l!=null&&Br(o,!!c.multiple,l,!1)}},Ff=o0,Uf=Ra;var bj={usingClientEntryPoint:!1,Events:[yh,uu,cp,Ji,Zi,o0]},Rh={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xj={bundleType:Rh.bundleType,version:Rh.version,rendererPackageName:Rh.rendererPackageName,rendererConfig:Rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Hf(o),o===null?null:o.stateNode},findFiberByHostInstance:Rh.findFiberByHostInstance||vj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{pa=Wp.inject(xj),rr=Wp}catch{}}return Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bj,Qn.createPortal=function(o,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(l))throw Error(n(200));return yj(o,l,null,c)},Qn.createRoot=function(o,l){if(!m0(o))throw Error(n(299));var c=!1,p="",y=AT;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=d0(o,1,!1,null,null,c,!1,p,y),o[ci]=l.current,ph(o.nodeType===8?o.parentNode:o),new p0(l)},Qn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Hf(l),o=o===null?null:o.stateNode,o},Qn.flushSync=function(o){return Ra(o)},Qn.hydrate=function(o,l,c){if(!Hp(l))throw Error(n(200));return Kp(null,o,l,!0,c)},Qn.hydrateRoot=function(o,l,c){if(!m0(o))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",A=AT;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),l=IT(l,null,o,1,c??null,y,!1,w,A),o[ci]=l.current,ph(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,y]:l.mutableSourceEagerHydrationData.push(c,y);return new Gp(l)},Qn.render=function(o,l,c){if(!Hp(l))throw Error(n(200));return Kp(null,o,l,!1,c)},Qn.unmountComponentAtNode=function(o){if(!Hp(o))throw Error(n(40));return o._reactRootContainer?(Ra(function(){Kp(null,null,o,!1,function(){o._reactRootContainer=null,o[ci]=null})}),!0):!1},Qn.unstable_batchedUpdates=o0,Qn.unstable_renderSubtreeIntoContainer=function(o,l,c,p){if(!Hp(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Kp(o,l,c,!1,p)},Qn.version="18.3.1-next-f1338f8080-20240426",Qn}var GT;function F2(){if(GT)return g0.exports;GT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),g0.exports=Mj(),g0.exports}var HT;function Lj(){if(HT)return Qp;HT=1;var t=F2();return Qp.createRoot=t.createRoot,Qp.hydrateRoot=t.hydrateRoot,Qp}var jj=Lj();const Fj=Xb(jj),Uj="modulepreload",Vj=function(t){return"/"+t},KT={},Ht=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(e.map(h=>{if(h=Vj(h),h in KT)return;KT[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Uj,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,E)=>{g.addEventListener("load",v),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function WT({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const Bj=()=>{};var QT={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const U2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],u=t[n++],h=((s&7)<<18|(i&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},V2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,u=a?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;h||(E=64,a||(v=64)),r.push(n[m],n[g],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(U2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new $j;const d=i<<2|a>>4;if(r.push(d),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qj=function(t){const e=U2(t);return V2.encodeByteArray(e,!0)},eg=function(t){return qj(t).replace(/\./g,"")},B2=function(t){try{return V2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Gj=()=>z2().__FIREBASE_DEFAULTS__,Hj=()=>{if(typeof process>"u"||typeof QT>"u")return;const t=QT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B2(t[1]);return e&&JSON.parse(e)},Kg=()=>{try{return Bj()||Gj()||Hj()||Kj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$2=t=>{var e,n;return(n=(e=Kg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},q2=t=>{const e=$2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G2=()=>{var t;return(t=Kg())==null?void 0:t.config},H2=t=>{var e;return(e=Kg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ex(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function K2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[eg(JSON.stringify(n)),eg(JSON.stringify(a)),""].join(".")}const hd={};function Qj(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function Yj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let YT=!1;function tx(t,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||hd[t]===e||hd[t]||YT)return;hd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Qj().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{YT=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Yj(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),_=n("learnmore"),k=document.getElementById(_)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;a(R),d(k,_);const M=h();u(P,I),R.append(P,E,k,M),document.body.appendChild(R)}s?(E.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function W2(){var t;const e=(t=Kg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e3(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q2(){return!W2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y2(){return!W2()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Wg(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function X2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const t3="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t3,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?n3(i,r):"Error",u=`${this.serviceName}: ${a} (${s}).`;return new Vr(s,u,r)}}function n3(t,e){return t.replace(r3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const r3=/\{\$([^}]+)}/g;function s3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ko(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(XT(i)&&XT(a)){if(!Ko(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XT(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function rd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function i3(t,e){const n=new o3(t,e);return n.subscribe.bind(n)}class o3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");a3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=y0),s.error===void 0&&(s.error=y0),s.complete===void 0&&(s.complete=y0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function y0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l3=1e3,u3=2,c3=14400*1e3,h3=.5;function JT(t,e=l3,n=u3){const r=e*Math.pow(n,t),s=Math.round(h3*r*(Math.random()-.5)*2);return Math.min(c3,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ct(t){return t&&t._delegate?t._delegate:t}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ha="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class d3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Wj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f3(t){return t===Ha?void 0:t}function p3(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class m3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const g3={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},y3=Ke.INFO,v3={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},w3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=v3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qg{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=w3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const b3=(t,e)=>e.some(n=>t instanceof n);let ZT,ek;function x3(){return ZT||(ZT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S3(){return ek||(ek=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J2=new WeakMap,Tw=new WeakMap,Z2=new WeakMap,v0=new WeakMap,sx=new WeakMap;function E3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Bo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&J2.set(n,t)}).catch(()=>{}),sx.set(e,t),e}function T3(t){if(Tw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Tw.set(t,e)}let kw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function k3(t){kw=t(kw)}function _3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(w0(this),e,...n);return Z2.set(r,e.sort?e.sort():[e]),Bo(r)}:S3().includes(t)?function(...e){return t.apply(w0(this),e),Bo(J2.get(this))}:function(...e){return Bo(t.apply(w0(this),e))}}function I3(t){return typeof t=="function"?_3(t):(t instanceof IDBTransaction&&T3(t),b3(t,x3())?new Proxy(t,kw):t)}function Bo(t){if(t instanceof IDBRequest)return E3(t);if(v0.has(t))return v0.get(t);const e=I3(t);return e!==t&&(v0.set(t,e),sx.set(e,t)),e}const w0=t=>sx.get(t);function eA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),u=Bo(a);return r&&a.addEventListener("upgradeneeded",h=>{r(Bo(a.result),h.oldVersion,h.newVersion,Bo(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{i&&h.addEventListener("close",()=>i()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const C3=["get","getKey","getAll","getAllKeys","count"],A3=["put","add","delete","clear"],b0=new Map;function tk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(b0.get(e))return b0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=A3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||C3.includes(n)))return;const i=async function(a,...u){const h=this.transaction(a,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&h.done]))[0]};return b0.set(e,i),i}k3(t=>({...t,get:(e,n,r)=>tk(e,n)||t.get(e,n,r),has:(e,n)=>!!tk(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class P3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(R3(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function R3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _w="@firebase/app",nk="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ai=new Qg("@firebase/app"),N3="@firebase/app-compat",D3="@firebase/analytics-compat",O3="@firebase/analytics",M3="@firebase/app-check-compat",L3="@firebase/app-check",j3="@firebase/auth",F3="@firebase/auth-compat",U3="@firebase/database",V3="@firebase/data-connect",B3="@firebase/database-compat",z3="@firebase/functions",$3="@firebase/functions-compat",q3="@firebase/installations",G3="@firebase/installations-compat",H3="@firebase/messaging",K3="@firebase/messaging-compat",W3="@firebase/performance",Q3="@firebase/performance-compat",Y3="@firebase/remote-config",X3="@firebase/remote-config-compat",J3="@firebase/storage",Z3="@firebase/storage-compat",e5="@firebase/firestore",t5="@firebase/ai",n5="@firebase/firestore-compat",r5="firebase",s5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Iw="[DEFAULT]",i5={[_w]:"fire-core",[N3]:"fire-core-compat",[O3]:"fire-analytics",[D3]:"fire-analytics-compat",[L3]:"fire-app-check",[M3]:"fire-app-check-compat",[j3]:"fire-auth",[F3]:"fire-auth-compat",[U3]:"fire-rtdb",[V3]:"fire-data-connect",[B3]:"fire-rtdb-compat",[z3]:"fire-fn",[$3]:"fire-fn-compat",[q3]:"fire-iid",[G3]:"fire-iid-compat",[H3]:"fire-fcm",[K3]:"fire-fcm-compat",[W3]:"fire-perf",[Q3]:"fire-perf-compat",[Y3]:"fire-rc",[X3]:"fire-rc-compat",[J3]:"fire-gcs",[Z3]:"fire-gcs-compat",[e5]:"fire-fst",[n5]:"fire-fst-compat",[t5]:"fire-vertex","fire-js":"fire-js",[r5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const tg=new Map,o5=new Map,Cw=new Map;function rk(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ss(t){const e=t.name;if(Cw.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;Cw.set(e,t);for(const n of tg.values())rk(n,t);for(const n of o5.values())rk(n,t);return!0}function ra(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new Pl("app","Firebase",a5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rl=s5;function tA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Iw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zo.create("bad-app-name",{appName:String(s)});if(n||(n=G2()),!n)throw zo.create("no-options");const i=tg.get(s);if(i){if(Ko(n,i.options)&&Ko(r,i.config))return i;throw zo.create("duplicate-app",{appName:s})}const a=new m3(s);for(const h of Cw.values())a.addComponent(h);const u=new l5(n,r,a);return tg.set(s,u),u}function Yg(t=Iw){const e=tg.get(t);if(!e&&t===Iw&&G2())return tA();if(!e)throw zo.create("no-app",{appName:t});return e}function tr(t,e,n){let r=i5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}ss(new Ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u5="firebase-heartbeat-database",c5=1,Id="firebase-heartbeat-store";let x0=null;function nA(){return x0||(x0=eA(u5,c5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Id)}catch(n){console.warn(n)}}}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),x0}async function h5(t){try{const e=(await nA()).transaction(Id),n=await e.objectStore(Id).get(rA(t));return await e.done,n}catch(e){if(e instanceof Vr)Ai.warn(e.message);else{const n=zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function sk(t,e){try{const n=(await nA()).transaction(Id,"readwrite");await n.objectStore(Id).put(e,rA(t)),await n.done}catch(n){if(n instanceof Vr)Ai.warn(n.message);else{const r=zo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function rA(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d5=1024,f5=30;class p5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ik();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>f5){const i=y5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ik(),{heartbeatsToSend:r,unsentEntries:s}=m5(this._heartbeatsCache.heartbeats),i=eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ai.warn(n),""}}}function ik(){return new Date().toISOString().substring(0,10)}function m5(t,e=d5){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),ok(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ok(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wg()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await h5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function ok(t){return eg(JSON.stringify({version:2,heartbeats:t})).length}function y5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function v5(t){ss(new Ur("platform-logger",e=>new P3(e),"PRIVATE")),ss(new Ur("heartbeat",e=>new p5(e),"PRIVATE")),tr(_w,nk,t),tr(_w,nk,"esm2020"),tr("fire-js","")}v5("");function sA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w5=sA,iA=new Pl("auth","Firebase",sA());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ng=new Qg("@firebase/auth");function b5(t,...e){ng.logLevel<=Ke.WARN&&ng.warn(`Auth (${Rl}): ${t}`,...e)}function km(t,...e){ng.logLevel<=Ke.ERROR&&ng.error(`Auth (${Rl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function is(t,...e){throw ix(t,...e)}function Ms(t,...e){return ix(t,...e)}function oA(t,e,n){const r={...w5(),[e]:n};return new Pl("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return oA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ix(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iA.create(t,...e)}function Me(t,e,...n){if(!t)throw ix(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw km(e),new Error(e)}function Pi(t,e){t||Ei(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Aw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function x5(){return ak()==="http:"||ak()==="https:"}function ak(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function S5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x5()||nx()||"connection"in navigator)?navigator.onLine:!0}function E5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class of{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=Xj()||Zj()}get(){return S5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ox(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_5=new of(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vi(t,e,n,r,s={}){return lA(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const u=sf({key:t.config.apiKey,...a}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:h,...i};return Jj()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Al(t.emulatorConfig.host)&&(d.credentials="include"),aA.fetch()(await uA(t,t.config.apiHost,n,u),d)})}async function lA(t,e,n){t._canInitEmulator=!1;const r={...T5,...e};try{const s=new C5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Yp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const u=i.ok?a.errorMessage:a.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yp(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw Yp(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw Yp(t,"user-disabled",a);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw oA(t,m,d);is(t,m)}}catch(s){if(s instanceof Vr)throw s;is(t,"network-request-failed",{message:String(s)})}}async function af(t,e,n,r,s={}){const i=await Vi(t,e,n,r,s);return"mfaPendingCredential"in i&&is(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?ox(t.config,s):`${t.config.apiScheme}://${s}`;return k5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function I5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class C5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),_5.get())})}}function Yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ms(t,e,r);return s.customData._tokenResponse=n,s}function lk(t){return t!==void 0&&t.enterprise!==void 0}class A5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return I5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function P5(t,e){return Vi(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function R5(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function rg(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N5(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),s=ax(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:dd(S0(s.auth_time)),issuedAtTime:dd(S0(s.iat)),expirationTime:dd(S0(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function S0(t){return Number(t)*1e3}function ax(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return km("JWT malformed, contained fewer than 3 sections"),null;try{const s=B2(n);return s?JSON.parse(s):(km("Failed to decode base64 JWT payload"),null)}catch(s){return km("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uk(t){const e=ax(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Cd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&D5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function D5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function sg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Cd(t,rg(n,{idToken:r}));Me(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=(e=i.providerUserInfo)!=null&&e.length?cA(i.providerUserInfo):[],u=L5(t.providerData,a),h=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Pw(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function M5(t){const e=Ct(t);await sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L5(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function cA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function j5(t,e){const n=await lA(t,{},async()=>{const r=sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await uA(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Al(t.emulatorConfig.host)&&(h.credentials="include"),aA.fetch()(a,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F5(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=uk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await j5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new tc;return r&&(Me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function To(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new O5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Pw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cd(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N5(this,e)}reload(){return M5(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mr(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Cd(this,R5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,d=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:E,providerData:_,stsTokenManager:k}=n;Me(g&&k,e,"internal-error");const I=tc.fromJSON(this.name,k);Me(typeof g=="string",e,"internal-error"),To(r,e.name),To(s,e.name),Me(typeof v=="boolean",e,"internal-error"),Me(typeof E=="boolean",e,"internal-error"),To(i,e.name),To(a,e.name),To(u,e.name),To(h,e.name),To(d,e.name),To(m,e.name);const P=new es({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:E,photoURL:a,phoneNumber:i,tenantId:u,stsTokenManager:I,createdAt:d,lastLoginAt:m});return _&&Array.isArray(_)&&(P.providerData=_.map(R=>({...R}))),h&&(P._redirectEventId=h),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new tc;s.updateFromServerResponse(n);const i=new es({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new tc;u.updateFromIdToken(r);const h=new es({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(h,d),h}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ck=new Map;function Ti(t){Pi(t instanceof Function,"Expected a class definition");let e=ck.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ck.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class hA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hA.type="NONE";const hk=hA;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _m(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_m(this.userKey,s.apiKey,i),this.fullPersistenceKey=_m("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rg(this.auth,{idToken:e}).catch(()=>{});return n?es._fromGetAccountInfoResponse(this.auth,n,e):null}return es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(Ti(hk),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ti(hk);const a=_m(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const m=await d._get(a);if(m){let g;if(typeof m=="string"){const v=await rg(e,{idToken:m}).catch(()=>{});if(!v)break;g=await es._fromGetAccountInfoResponse(e,v,m)}else g=es._fromJSON(e,m);d!==i&&(u=g),i=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!h.length?new nc(i,e,r):(i=h[0],u&&await i._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new nc(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yA(e))return"Blackberry";if(vA(e))return"Webos";if(fA(e))return"Safari";if((e.includes("chrome/")||pA(e))&&!e.includes("edge/"))return"Chrome";if(gA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dA(t=nn()){return/firefox\//i.test(t)}function fA(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pA(t=nn()){return/crios\//i.test(t)}function mA(t=nn()){return/iemobile/i.test(t)}function gA(t=nn()){return/android/i.test(t)}function yA(t=nn()){return/blackberry/i.test(t)}function vA(t=nn()){return/webos/i.test(t)}function lx(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U5(t=nn()){var e;return lx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function V5(){return e3()&&document.documentMode===10}function wA(t=nn()){return lx(t)||gA(t)||vA(t)||yA(t)||/windows phone/i.test(t)||mA(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bA(t,e=[]){let n;switch(t){case"Browser":n=dk(nn());break;case"Worker":n=`${dk(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class B5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,u)=>{try{const h=e(i);a(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function z5(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $5=6;class q5{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??$5,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class G5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fk(this),this.idTokenSubscription=new fk(this),this.beforeStateQueue=new B5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rg(this,{idToken:e}),r=await es._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h!=null&&h.user&&(s=h.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mr(this.app))return Promise.reject(Ii(this));const n=e?Ct(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mr(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mr(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z5(this),n=new q5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(u,this,"internal-error"),u.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&b5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(t){return Ct(t)}let fk=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=i3(e=>this.observer=e)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H5(t){Xg=t}function xA(t){return Xg.loadJS(t)}function K5(){return Xg.recaptchaEnterpriseScript}function W5(){return Xg.gapiScript}function Q5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Y5{constructor(){this.enterprise=new X5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const J5="recaptcha-enterprise",SA="NO_RECAPTCHA";class Z5{constructor(e){this.type=J5,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,u)=>{P5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new A5(h);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(h=>{u(h)})})}function s(i,a,u){const h=window.grecaptcha;lk(h)?h.enterprise.ready(()=>{h.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(SA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y5().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(u=>{if(!n&&lk(window.grecaptcha))s(u,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=K5();h.length!==0&&(h+=u),xA(h).then(()=>{s(u,i,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function pk(t,e,n,r=!1,s=!1){const i=new Z5(t);let a;if(s)a=SA;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ig(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await pk(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await pk(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e6(t,e){const n=ra(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ko(s,e??{}))return r;is(r,"already-initialized")}return n.initialize({options:e})}function t6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n6(t,e,n){const r=sa(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=EA(e),{host:a,port:u}=r6(e),h=u===null?"":`:${u}`,d={url:`${i}//${a}${h}/`},m=Object.freeze({host:a,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Ko(d,r.config.emulator)&&Ko(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Al(a)?(ex(`${i}//${a}${h}`),tx("Auth",!0)):s6()}function EA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r6(t){const e=EA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:mk(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:mk(a)}}}function mk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function s6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ux{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function i6(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function o6(t,e){return af(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}async function a6(t,e){return Vi(t,"POST","/v1/accounts:sendOobCode",Ui(t,e))}async function l6(t,e){return a6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function u6(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function c6(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ad extends ux{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,n,"signInWithPassword",o6);case"emailLink":return u6(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ig(e,r,"signUpPassword",i6);case"emailLink":return c6(e,{idToken:n,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function rc(t,e){return af(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const h6="http://localhost";class pl extends ux{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new pl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:h6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function d6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f6(t){const e=nd(rd(t)).link,n=e?nd(rd(e)).deep_link_id:null,r=nd(rd(t)).deep_link_id;return(r?nd(rd(r)).link:null)||r||n||e||t}class cx{constructor(e){const n=nd(rd(e)),r=n.apiKey??null,s=n.oobCode??null,i=d6(n.mode??null);Me(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=f6(e);try{return new cx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _c{constructor(){this.providerId=_c.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cx.parseLink(n);return Me(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}_c.PROVIDER_ID="password";_c.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lf extends TA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Mo extends lf{constructor(){super("facebook.com")}static credential(e){return pl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lo extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jo extends lf{constructor(){super("github.com")}static credential(e){return pl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fo extends lf{constructor(){super("twitter.com")}static credential(e,n){return pl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function p6(t,e){return af(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await es._fromIdTokenResponse(e,r,s),a=gk(r);return new ml({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gk(r);return new ml({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class og extends Vr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new og(e,n,r,s)}}function kA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(t,s,e,r):s})}async function m6(t,e,n=!1){const r=await Cd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ml._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function g6(t,e,n=!1){const{auth:r}=t;if(mr(r.app))return Promise.reject(Ii(r));const s="reauthenticate";try{const i=await Cd(t,kA(r,s,e,t),n);Me(i.idToken,r,"internal-error");const a=ax(i.idToken);Me(a,r,"internal-error");const{sub:u}=a;return Me(t.uid===u,r,"user-mismatch"),ml._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&is(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function _A(t,e,n=!1){if(mr(t.app))return Promise.reject(Ii(t));const r="signIn",s=await kA(t,r,e),i=await ml._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function y6(t,e){return _A(sa(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function IA(t){const e=sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function v6(t,e,n){const r=sa(t);await ig(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",l6)}async function w6(t,e,n){if(mr(t.app))return Promise.reject(Ii(t));const r=sa(t),s=await ig(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p6).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&IA(t),a}),i=await ml._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function b6(t,e,n){return mr(t.app)?Promise.reject(Ii(t)):y6(Ct(t),_c.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IA(t),r})}function x6(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function S6(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function E6(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function T6(t){return Ct(t).signOut()}const ag="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k6=1e3,_6=10;class AA extends CA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);V5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AA.type="LOCAL";const I6=AA;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PA extends CA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PA.type="SESSION";const RA=PA;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(a).map(async d=>d(n.origin,i)),h=await C6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jg.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function hx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class A6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((u,h)=>{const d=hx("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(m),clearTimeout(i),h(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ls(){return window}function P6(t){Ls().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function NA(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function R6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function D6(){return NA()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DA="firebaseLocalStorageDb",O6=1,lg="firebaseLocalStorage",OA="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zg(t,e){return t.transaction([lg],e?"readwrite":"readonly").objectStore(lg)}function M6(){const t=indexedDB.deleteDatabase(DA);return new uf(t).toPromise()}function Rw(){const t=indexedDB.open(DA,O6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lg,{keyPath:OA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lg)?e(r):(r.close(),await M6(),e(await Rw()))})})}async function yk(t,e,n){const r=Zg(t,!0).put({[OA]:e,value:n});return new uf(r).toPromise()}async function L6(t,e){const n=Zg(t,!1).get(e),r=await new uf(n).toPromise();return r===void 0?null:r.value}function vk(t,e){const n=Zg(t,!0).delete(e);return new uf(n).toPromise()}const j6=800,F6=3;class MA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>F6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jg._getInstance(D6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R6(),!this.activeServiceWorker)return;this.sender=new A6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rw();return await yk(e,ag,"1"),await vk(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>L6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Zg(s,!1).getAll();return new uf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MA.type="LOCAL";const U6=MA;new of(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function V6(t,e){return e?Ti(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dx extends ux{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B6(t){return _A(t.auth,new dx(t),t.bypassAuthState)}function z6(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),g6(n,new dx(t),t.bypassAuthState)}async function $6(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),m6(n,new dx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B6;case"linkViaPopup":case"linkViaRedirect":return $6;case"reauthViaPopup":case"reauthViaRedirect":return z6;default:is(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const q6=new of(2e3,1e4);class Qu extends LA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qu.currentPopupAction&&Qu.currentPopupAction.cancel(),Qu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=hx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q6.get())};e()}}Qu.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const G6="pendingRedirect",Im=new Map;class H6 extends LA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const n=await K6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K6(t,e){const n=Y6(e),r=Q6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function W6(t,e){Im.set(t._key(),e)}function Q6(t){return Ti(t._redirectPersistence)}function Y6(t){return _m(G6,t.config.apiKey,t.name)}async function X6(t,e,n=!1){if(mr(t.app))return Promise.reject(Ii(t));const r=sa(t),s=V6(r,e),i=await new H6(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const J6=600*1e3;class Z6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J6&&this.cachedEventUids.clear(),this.cachedEventUids.has(wk(e))}saveEventToCache(e){this.cachedEventUids.add(wk(e)),this.lastProcessedEventTime=Date.now()}}function wk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function tF(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rF=/^https?/;async function sF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tF(t);for(const n of e)try{if(iF(n))return}catch{}is(t,"unauthorized-domain")}function iF(t){const e=Aw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!rF.test(n))return!1;if(nF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oF=new of(3e4,6e4);function bk(){const t=Ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aF(t){return new Promise((e,n)=>{var r,s,i;function a(){bk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bk(),n(Ms(t,"network-request-failed"))},timeout:oF.get()})}if((s=(r=Ls().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=Ls().gapi)!=null&&i.load)a();else{const u=Q5("iframefcb");return Ls()[u]=()=>{gapi.load?a():n(Ms(t,"network-request-failed"))},xA(`${W5()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Cm=null,e})}let Cm=null;function lF(t){return Cm=Cm||aF(t),Cm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const uF=new of(5e3,15e3),cF="__/auth/iframe",hF="emulator/auth/iframe",dF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pF(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ox(e,hF):`https://${t.config.authDomain}/${cF}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},s=fF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${sf(r).slice(1)}`}async function mF(t){const e=await lF(t),n=Ls().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:pF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ms(t,"network-request-failed"),u=Ls().setTimeout(()=>{i(a)},uF.get());function h(){Ls().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{i(a)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yF=500,vF=600,wF="_blank",bF="http://localhost";class xk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xF(t,e,n,r=yF,s=vF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...gF,width:r.toString(),height:s.toString(),top:i,left:a},d=nn().toLowerCase();n&&(u=pA(d)?wF:n),dA(d)&&(e=e||bF,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,_])=>`${v}${E}=${_},`,"");if(U5(d)&&u!=="_self")return SF(e||"",u),new xk(null);const g=window.open(e||"",u,m);Me(g,t,"popup-blocked");try{g.focus()}catch{}return new xk(g)}function SF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EF="__/auth/handler",TF="emulator/auth/handler",kF=encodeURIComponent("fac");async function Sk(t,e,n,r,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:s};if(e instanceof TA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",s3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof lf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),d=h?`#${kF}=${encodeURIComponent(h)}`:"";return`${_F(t)}?${sf(u).slice(1)}${d}`}function _F({config:t}){return t.emulator?ox(t,TF):`https://${t.authDomain}/${EF}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const E0="webStorageSupport";class IF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RA,this._completeRedirectFn=X6,this._overrideRedirectResult=W6}async _openPopup(e,n,r,s){var i;Pi((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await Sk(e,n,r,Aw(),s);return xF(e,a,hx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Sk(e,n,r,Aw(),s);return P6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Pi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mF(e),r=new Z6(e);return n.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(E0,{type:E0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[E0];i!==void 0&&n(!!i),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wA()||fA()||lx()}}const CF=IF;var Ek="@firebase/auth",Tk="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RF(t){ss(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;Me(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bA(t)},d=new G5(r,s,i,h);return t6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ss(new Ur("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new AF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Ek,Tk,PF(t)),tr(Ek,Tk,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const NF=300,DF=H2("authIdTokenMaxAge")||NF;let kk=null;const OF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DF)return;const s=n==null?void 0:n.token;kk!==s&&(kk=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ey(t=Yg()){const e=ra(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e6(t,{popupRedirectResolver:CF,persistence:[U6,I6,RA]}),r=H2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=OF(i.toString());S6(n,a,()=>a(n.currentUser)),x6(n,u=>a(u))}}const s=$2("auth");return s&&n6(n,`http://${s}`),n}function MF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}H5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ms("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",MF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RF("Browser");var LF="firebase",jF="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/tr(LF,jF,"app");var _k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $o,FA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function N(){}N.prototype=C.prototype,D.F=C.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(j,U,$){for(var L=Array(arguments.length-2),be=2;be<arguments.length;be++)L[be-2]=arguments[be];return C.prototype[U].apply(j,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,N){N||(N=0);const j=Array(16);if(typeof C=="string")for(var U=0;U<16;++U)j[U]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(U=0;U<16;++U)j[U]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=D.g[0],N=D.g[1],U=D.g[2];let $=D.g[3],L;L=C+($^N&(U^$))+j[0]+3614090360&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(U^C&(N^U))+j[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(N^$&(C^N))+j[2]+606105819&4294967295,U=$+(L<<17&4294967295|L>>>15),L=N+(C^U&($^C))+j[3]+3250441966&4294967295,N=U+(L<<22&4294967295|L>>>10),L=C+($^N&(U^$))+j[4]+4118548399&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(U^C&(N^U))+j[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(N^$&(C^N))+j[6]+2821735955&4294967295,U=$+(L<<17&4294967295|L>>>15),L=N+(C^U&($^C))+j[7]+4249261313&4294967295,N=U+(L<<22&4294967295|L>>>10),L=C+($^N&(U^$))+j[8]+1770035416&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(U^C&(N^U))+j[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(N^$&(C^N))+j[10]+4294925233&4294967295,U=$+(L<<17&4294967295|L>>>15),L=N+(C^U&($^C))+j[11]+2304563134&4294967295,N=U+(L<<22&4294967295|L>>>10),L=C+($^N&(U^$))+j[12]+1804603682&4294967295,C=N+(L<<7&4294967295|L>>>25),L=$+(U^C&(N^U))+j[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(N^$&(C^N))+j[14]+2792965006&4294967295,U=$+(L<<17&4294967295|L>>>15),L=N+(C^U&($^C))+j[15]+1236535329&4294967295,N=U+(L<<22&4294967295|L>>>10),L=C+(U^$&(N^U))+j[1]+4129170786&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^U&(C^N))+j[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^N&($^C))+j[11]+643717713&4294967295,U=$+(L<<14&4294967295|L>>>18),L=N+($^C&(U^$))+j[0]+3921069994&4294967295,N=U+(L<<20&4294967295|L>>>12),L=C+(U^$&(N^U))+j[5]+3593408605&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^U&(C^N))+j[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^N&($^C))+j[15]+3634488961&4294967295,U=$+(L<<14&4294967295|L>>>18),L=N+($^C&(U^$))+j[4]+3889429448&4294967295,N=U+(L<<20&4294967295|L>>>12),L=C+(U^$&(N^U))+j[9]+568446438&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^U&(C^N))+j[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^N&($^C))+j[3]+4107603335&4294967295,U=$+(L<<14&4294967295|L>>>18),L=N+($^C&(U^$))+j[8]+1163531501&4294967295,N=U+(L<<20&4294967295|L>>>12),L=C+(U^$&(N^U))+j[13]+2850285829&4294967295,C=N+(L<<5&4294967295|L>>>27),L=$+(N^U&(C^N))+j[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^N&($^C))+j[7]+1735328473&4294967295,U=$+(L<<14&4294967295|L>>>18),L=N+($^C&(U^$))+j[12]+2368359562&4294967295,N=U+(L<<20&4294967295|L>>>12),L=C+(N^U^$)+j[5]+4294588738&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^U)+j[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^N)+j[11]+1839030562&4294967295,U=$+(L<<16&4294967295|L>>>16),L=N+(U^$^C)+j[14]+4259657740&4294967295,N=U+(L<<23&4294967295|L>>>9),L=C+(N^U^$)+j[1]+2763975236&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^U)+j[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^N)+j[7]+4139469664&4294967295,U=$+(L<<16&4294967295|L>>>16),L=N+(U^$^C)+j[10]+3200236656&4294967295,N=U+(L<<23&4294967295|L>>>9),L=C+(N^U^$)+j[13]+681279174&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^U)+j[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^N)+j[3]+3572445317&4294967295,U=$+(L<<16&4294967295|L>>>16),L=N+(U^$^C)+j[6]+76029189&4294967295,N=U+(L<<23&4294967295|L>>>9),L=C+(N^U^$)+j[9]+3654602809&4294967295,C=N+(L<<4&4294967295|L>>>28),L=$+(C^N^U)+j[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^N)+j[15]+530742520&4294967295,U=$+(L<<16&4294967295|L>>>16),L=N+(U^$^C)+j[2]+3299628645&4294967295,N=U+(L<<23&4294967295|L>>>9),L=C+(U^(N|~$))+j[0]+4096336452&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~U))+j[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~N))+j[14]+2878612391&4294967295,U=$+(L<<15&4294967295|L>>>17),L=N+($^(U|~C))+j[5]+4237533241&4294967295,N=U+(L<<21&4294967295|L>>>11),L=C+(U^(N|~$))+j[12]+1700485571&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~U))+j[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~N))+j[10]+4293915773&4294967295,U=$+(L<<15&4294967295|L>>>17),L=N+($^(U|~C))+j[1]+2240044497&4294967295,N=U+(L<<21&4294967295|L>>>11),L=C+(U^(N|~$))+j[8]+1873313359&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~U))+j[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~N))+j[6]+2734768916&4294967295,U=$+(L<<15&4294967295|L>>>17),L=N+($^(U|~C))+j[13]+1309151649&4294967295,N=U+(L<<21&4294967295|L>>>11),L=C+(U^(N|~$))+j[4]+4149444226&4294967295,C=N+(L<<6&4294967295|L>>>26),L=$+(N^(C|~U))+j[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~N))+j[2]+718787259&4294967295,U=$+(L<<15&4294967295|L>>>17),L=N+($^(U|~C))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+$&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const N=C-this.blockSize,j=this.C;let U=this.h,$=0;for(;$<C;){if(U==0)for(;$<=N;)s(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(j[U++]=D.charCodeAt($++),U==this.blockSize){s(this,j),U=0;break}}else for(;$<C;)if(j[U++]=D[$++],U==this.blockSize){s(this,j),U=0;break}}this.h=U,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)D[C++]=this.g[N]>>>j&255;return D};function i(D,C){var N=u;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=C(D)}function a(D,C){this.h=C;const N=[];let j=!0;for(let U=D.length-1;U>=0;U--){const $=D[U]|0;j&&$==C||(N[U]=$,j=!1)}this.g=N}var u={};function h(D){return-128<=D&&D<128?i(D,function(C){return new a([C|0],C<0?-1:0)}):new a([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return I(d(-D));const C=[];let N=1;for(let j=0;D>=N;j++)C[j]=D/N|0,N*=4294967296;return new a(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return I(m(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=d(Math.pow(C,8));let j=g;for(let $=0;$<D.length;$+=8){var U=Math.min(8,D.length-$);const L=parseInt(D.substring($,$+U),C);U<8?(U=d(Math.pow(C,U)),j=j.j(U).add(d(L))):(j=j.j(N),j=j.add(d(L)))}return j}var g=h(0),v=h(1),E=h(16777216);t=a.prototype,t.m=function(){if(k(this))return-I(this).m();let D=0,C=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);D+=(j>=0?j:4294967296+j)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(_(this))return"0";if(k(this))return"-"+I(this).toString(D);const C=d(Math.pow(D,6));var N=this;let j="";for(;;){const U=V(N,C).g;N=P(N,U.j(C));let $=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=U,_(N))return $+j;for(;$.length<6;)$="0"+$;j=$+j}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function _(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function k(D){return D.h==-1}t.l=function(D){return D=P(this,D),k(D)?-1:_(D)?0:1};function I(D){const C=D.g.length,N=[];for(let j=0;j<C;j++)N[j]=~D.g[j];return new a(N,~D.h).add(v)}t.abs=function(){return k(this)?I(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),N=[];let j=0;for(let U=0;U<=C;U++){let $=j+(this.i(U)&65535)+(D.i(U)&65535),L=($>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);j=L>>>16,$&=65535,L&=65535,N[U]=L<<16|$}return new a(N,N[N.length-1]&-2147483648?-1:0)};function P(D,C){return D.add(I(C))}t.j=function(D){if(_(this)||_(D))return g;if(k(this))return k(D)?I(this).j(I(D)):I(I(this).j(D));if(k(D))return I(this.j(I(D)));if(this.l(E)<0&&D.l(E)<0)return d(this.m()*D.m());const C=this.g.length+D.g.length,N=[];for(var j=0;j<2*C;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let U=0;U<D.g.length;U++){const $=this.i(j)>>>16,L=this.i(j)&65535,be=D.i(U)>>>16,Ne=D.i(U)&65535;N[2*j+2*U]+=L*Ne,R(N,2*j+2*U),N[2*j+2*U+1]+=$*Ne,R(N,2*j+2*U+1),N[2*j+2*U+1]+=L*be,R(N,2*j+2*U+1),N[2*j+2*U+2]+=$*be,R(N,2*j+2*U+2)}for(D=0;D<C;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=C;D<2*C;D++)N[D]=0;return new a(N,0)};function R(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function M(D,C){this.g=D,this.h=C}function V(D,C){if(_(C))throw Error("division by zero");if(_(D))return new M(g,g);if(k(D))return C=V(I(D),C),new M(I(C.g),I(C.h));if(k(C))return C=V(D,I(C)),new M(I(C.g),C.h);if(D.g.length>30){if(k(D)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var N=v,j=C;j.l(D)<=0;)N=z(N),j=z(j);var U=K(N,1),$=K(j,1);for(j=K(j,2),N=K(N,2);!_(j);){var L=$.add(j);L.l(D)<=0&&(U=U.add(N),$=L),j=K(j,1),N=K(N,1)}return C=P(D,U.j(C)),new M(U,C)}for(U=g;D.l(C)>=0;){for(N=Math.max(1,Math.floor(D.m()/C.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),$=d(N),L=$.j(C);k(L)||L.l(D)>0;)N-=j,$=d(N),L=$.j(C);_($)&&($=v),U=U.add($),D=P(D,L)}return new M(U,D)}t.B=function(D){return V(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)&D.i(j);return new a(N,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)|D.i(j);return new a(N,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),N=[];for(let j=0;j<C;j++)N[j]=this.i(j)^D.i(j);return new a(N,this.h^D.h)};function z(D){const C=D.g.length+1,N=[];for(let j=0;j<C;j++)N[j]=D.i(j)<<1|D.i(j-1)>>>31;return new a(N,D.h)}function K(D,C){const N=C>>5;C%=32;const j=D.g.length-N,U=[];for(let $=0;$<j;$++)U[$]=C>0?D.i($+N)>>>C|D.i($+N+1)<<32-C:D.i($+N);return new a(U,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FA=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=m,$o=a}).apply(typeof _k<"u"?_k:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UA,sd,VA,Am,Nw,BA,zA,$A;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var T=r;f=f.split(".");for(var O=0;O<f.length-1;O++){var X=f[O];if(!(X in T))break e;T=T[X]}f=f[f.length-1],O=T[f],b=b(O),b!=O&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var T=[],O;for(O in b)Object.prototype.hasOwnProperty.call(b,O)&&T.push([O,b[O]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function h(f,b,T){return f.call.apply(f.bind,arguments)}function d(f,b,T){return d=h,d.apply(null,arguments)}function m(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function g(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(O,X,ee){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return b.prototype[X].apply(O,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function E(f){const b=f.length;if(b>0){const T=Array(b);for(let O=0;O<b;O++)T[O]=f[O];return T}return[]}function _(f,b){for(let O=1;O<arguments.length;O++){const X=arguments[O];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=f.length||0;const ee=X.length||0;f.length=T+ee;for(let he=0;he<ee;he++)f[T+he]=X[he]}else f.push(X)}}class k{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function I(f){a.setTimeout(()=>{throw f},0)}function P(){var f=D;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class R{constructor(){this.h=this.g=null}add(b,T){const O=M.get();O.set(b,T),this.h?this.h.next=O:this.g=O,this.h=O}}var M=new k(()=>new V,f=>f.reset());class V{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let z,K=!1,D=new R,C=()=>{const f=Promise.resolve(void 0);z=()=>{f.then(N)}};function N(){for(var f;f=P();){try{f.h.call(f.g)}catch(T){I(T)}var b=M;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}K=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};a.addEventListener("test",T,b),a.removeEventListener("test",T,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function be(f,b){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(be,U),be.prototype.init=function(f,b){const T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,T,O,X){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!O,this.ha=X,this.key=++ye,this.da=this.fa=!1}function W(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,T){for(const O in f)b.call(T,f[O],O,f)}function oe(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function H(f){const b={};for(const T in f)b[T]=f[T];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let T,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(T in O)f[T]=O[T];for(let ee=0;ee<re.length;ee++)T=re[ee],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,T,O,X){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=Be(f,b,O,X);return he>-1?(b=f[he],T||(b.fa=!1)):(b=new ve(b,this.src,ee,!!O,X),b.fa=T,f.push(b)),b};function De(f,b){const T=b.type;if(T in f.g){var O=f.g[T],X=Array.prototype.indexOf.call(O,b,void 0),ee;(ee=X>=0)&&Array.prototype.splice.call(O,X,1),ee&&(W(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Be(f,b,T,O){for(let X=0;X<f.length;++X){const ee=f[X];if(!ee.da&&ee.listener==b&&ee.capture==!!T&&ee.ha==O)return X}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function Ve(f,b,T,O,X){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ve(f,b[ee],T,O,X);return null}return T=la(T),f&&f[Ne]?f.J(b,T,u(O)?!!O.capture:!1,X):dt(f,b,T,!1,O,X)}function dt(f,b,T,O,X,ee){if(!b)throw Error("Invalid event type");const he=u(X)?!!X.capture:!!X;let ze=Hi(f);if(ze||(f[Ce]=ze=new me(f)),T=ze.add(b,T,O,he,ee),T.proxy)return T;if(O=br(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)$||(X=he),X===void 0&&(X=!1),f.addEventListener(b.toString(),O,X);else if(f.attachEvent)f.attachEvent(Gi(b.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function br(){function f(T){return b.call(f.src,f.listener,T)}const b=Fl;return f}function xr(f,b,T,O,X){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)xr(f,b[ee],T,O,X);else O=u(O)?!!O.capture:!!O,T=la(T),f&&f[Ne]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],T=Be(b,T,O,X),T>-1&&(W(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Hi(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Be(b,T,O,X)),(T=f>-1?b[f]:null)&&$n(T))}function $n(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ne])De(b.i,f);else{var T=f.type,O=f.proxy;b.removeEventListener?b.removeEventListener(T,O,f.capture):b.detachEvent?b.detachEvent(Gi(T),O):b.addListener&&b.removeListener&&b.removeListener(O),(T=Hi(b))?(De(T,f),T.h==0&&(T.src=null,b[Ce]=null)):W(f)}}}function Gi(f){return f in $e?$e[f]:$e[f]="on"+f}function Fl(f,b){if(f.da)f=!0;else{b=new be(b,this);const T=f.listener,O=f.ha||f.src;f.fa&&$n(f),f=T.call(O,b)}return f}function Hi(f){return f=f[Ce],f instanceof me?f:null}var ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function la(f){return typeof f=="function"?f:(f[ei]||(f[ei]=function(b){return f.handleEvent(b)}),f[ei])}function ft(){j.call(this),this.i=new me(this),this.M=this,this.G=null}g(ft,j),ft.prototype[Ne]=!0,ft.prototype.removeEventListener=function(f,b,T,O){xr(this,f,b,T,O)};function Ot(f,b){var T,O=f.G;if(O)for(T=[];O;O=O.G)T.push(O);if(f=f.M,O=b.type||b,typeof b=="string")b=new U(b,f);else if(b instanceof U)b.target=b.target||f;else{var X=b;b=new U(O,f),pe(b,X)}X=!0;let ee,he;if(T)for(he=T.length-1;he>=0;he--)ee=b.g=T[he],X=Br(ee,O,!0,b)&&X;if(ee=b.g=f,X=Br(ee,O,!0,b)&&X,X=Br(ee,O,!1,b)&&X,T)for(he=0;he<T.length;he++)ee=b.g=T[he],X=Br(ee,O,!1,b)&&X}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let O=0;O<T.length;O++)W(T[O]);delete f.g[b],f.h--}}this.G=null},ft.prototype.J=function(f,b,T,O){return this.i.add(String(f),b,!1,T,O)},ft.prototype.K=function(f,b,T,O){return this.i.add(String(f),b,!0,T,O)};function Br(f,b,T,O){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let ee=0;ee<b.length;++ee){const he=b[ee];if(he&&!he.da&&he.capture==T){const ze=he.listener,Mt=he.ha||he.src;he.fa&&De(f.i,he),X=ze.call(Mt,O)!==!1&&X}}return X&&!O.defaultPrevented}function Vc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(f,b||0)}function Bc(f){f.g=Vc(()=>{f.g=null,f.i&&(f.i=!1,Bc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Mf extends j{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(f){j.call(this),this.h=f,this.g={}}g(Ki,j);var zc=[];function Ul(f){ne(f.g,function(b,T){this.g.hasOwnProperty(T)&&$n(b)},f),f.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),Ul(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=a.JSON.stringify,Lf=a.JSON.parse,ua=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Qi(){}function jf(){}var Yi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vl(){U.call(this,"d")}g(Vl,U);function $c(){U.call(this,"c")}g($c,U);var zr={},Bl=null;function Xi(){return Bl=Bl||new ft}zr.Ia="serverreachability";function zl(f){U.call(this,zr.Ia,f)}g(zl,U);function ti(f){const b=Xi();Ot(b,new zl(b))}zr.STAT_EVENT="statevent";function ni(f,b){U.call(this,zr.STAT_EVENT,f),this.stat=b}g(ni,U);function At(f){const b=Xi();Ot(b,new ni(b,f))}zr.Ja="timingevent";function qc(f,b){U.call(this,zr.Ja,f),this.size=b}g(qc,U);function Ji(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},b)}function Zi(){this.g=!0}Zi.prototype.ua=function(){this.g=!1};function Ff(f,b,T,O,X,ee){f.info(function(){if(f.g)if(ee){var he="",ze=ee.split("&");for(let ct=0;ct<ze.length;ct++){var Mt=ze[ct].split("=");if(Mt.length>1){const Kt=Mt[0];Mt=Mt[1];const lr=Kt.split("_");he=lr.length>=2&&lr[1]=="type"?he+(Kt+"="+Mt+"&"):he+(Kt+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+b+`
`+T+`
`+he})}function Uf(f,b,T,O,X,ee,he){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+b+`
`+T+`
`+ee+" "+he})}function cs(f,b,T,O){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ca(f,T)+(O?" "+O:"")})}function Vf(f,b){f.info(function(){return"TIMEOUT: "+b})}Zi.prototype.info=function(){};function ca(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var T=ee[f];if(!(T.length<2)){var O=T[1];if(Array.isArray(O)&&!(O.length<1)){var X=O[0];if(X!="noop"&&X!="stop"&&X!="close")for(let he=1;he<O.length;he++)O[he]=""}}}}return Wi(ee)}catch{return b}}var eo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},to={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bf;function ri(){}g(ri,Qi),ri.prototype.g=function(){return new XMLHttpRequest},Bf=new ri;function hs(f){return encodeURIComponent(String(f))}function $l(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function Sr(f,b,T,O){this.j=f,this.i=b,this.l=T,this.S=O||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zf}function zf(){this.i=null,this.g="",this.h=!1}var $f={},Gc={};function $r(f,b,T){f.M=1,f.A=ii(Er(b)),f.u=T,f.R=!0,Hc(f,null)}function Hc(f,b){f.F=Date.now(),ha(f),f.B=Er(f.A);var T=f.B,O=f.S;Array.isArray(O)||(O=[String(O)]),nh(T.i,"t",O),f.C=0,T=f.j.L,f.h=new zf,f.g=Zf(f.j,T?b:null,!f.u),f.P>0&&(f.O=new Mf(d(f.Y,f,f.g),f.P)),b=f.V,T=f.g,O=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(zc[0]=X.toString()),X=zc);for(let ee=0;ee<X.length;ee++){const he=Ve(T,X[ee],O||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?H(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ti(),Ff(f.i,f.v,f.B,f.l,f.S,f.u)}Sr.prototype.ba=function(f){f=f.target;const b=this.O;b&&vs(f)==3?b.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const ze=vs(this.g),Mt=this.g.ya(),ct=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Xf(this.g)))){this.K||ze!=4||Mt==7||(Mt==8||ct<=0?ti(3):ti(2)),ql(this);var b=this.g.ca();this.X=b;var T=qf(this);if(this.o=b==200,Uf(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var O,X=this.g;if((O=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(O)){var ee=O;break t}}ee=null}if(f=ee)cs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,f);else{this.o=!1,this.m=3,At(12),si(this),da(this);break e}}if(this.R){f=!0;let Kt;for(;!this.K&&this.C<T.length;)if(Kt=Hf(this,T),Kt==Gc){ze==4&&(this.m=4,At(14),f=!1),cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==$f){this.m=4,At(15),cs(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else cs(this.i,this.l,Kt,null),pt(this,Kt);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||T.length!=0||this.h.h||(this.m=1,At(16),f=!1),this.o=this.o&&f,!f)cs(this.i,this.l,T,"[Invalid Chunked Response]"),si(this),da(this);else if(T.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),xa(he),he.P=!0,At(11))}}else cs(this.i,this.l,T,null),pt(this,T);ze==4&&si(this),this.o&&!this.K&&(ze==4?eu(this.j,this):(this.o=!1,ha(this)))}else sh(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),si(this),da(this)}}}catch{}finally{}};function qf(f){if(!Gf(f))return f.g.la();const b=Xf(f.g);if(b==="")return"";let T="";const O=b.length,X=vs(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return si(f),da(f),"";f.h.i=new a.TextDecoder}for(let ee=0;ee<O;ee++)f.h.h=!0,T+=f.h.i.decode(b[ee],{stream:!(X&&ee==O-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function Gf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Hf(f,b){var T=f.C,O=b.indexOf(`
`,T);return O==-1?Gc:(T=Number(b.substring(T,O)),isNaN(T)?$f:(O+=1,O+T>b.length?Gc:(b=b.slice(O,O+T),f.C=O+T,b)))}Sr.prototype.cancel=function(){this.K=!0,si(this)};function ha(f){f.T=Date.now()+f.H,Kc(f,f.H)}function Kc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ji(d(f.aa,f),b)}function ql(f){f.D&&(a.clearTimeout(f.D),f.D=null)}Sr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Vf(this.i,this.B),this.M!=2&&(ti(),At(17)),si(this),this.m=2,da(this)):Kc(this,this.T-f)};function da(f){f.j.I==0||f.K||eu(f.j,f)}function si(f){ql(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Ul(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function pt(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||Qc(T.h,f))){if(!f.L&&Qc(T.h,f)&&T.I==3){try{var O=T.Ba.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)Zl(T),or(T);else break e;xs(T),At(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ji(d(T.Va,T),6e3));fa(T.h)<=1&&T.ta&&(T.ta=void 0)}else ar(T,11)}else if((f.L||T.g==f)&&Zl(T),!L(b))for(X=T.Ba.g.parse(b),b=0;b<X.length;b++){let ct=X[b];const Kt=ct[0];if(!(Kt<=T.K))if(T.K=Kt,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const lr=ct[3];lr!=null&&(T.ka=lr,T.j.info("VER="+T.ka));const lo=ct[4];lo!=null&&(T.za=lo,T.j.info("SVER="+T.za));const Ss=ct[5];Ss!=null&&typeof Ss=="number"&&Ss>0&&(O=1.5*Ss,T.O=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const Es=f.g;if(Es){const ru=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var ee=O.h;ee.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Hl(ee,ee.h),ee.h=null))}if(O.G){const ah=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(O.wa=ah,rt(O.J,O.G,ah))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),O=T;var he=f;if(O.na=oh(O,O.L?O.ba:null,O.W),he.L){pa(O.h,he);var ze=he,Mt=O.O;Mt&&(ze.H=Mt),ze.D&&(ql(ze),ha(ze)),O.g=he}else xn(O);T.i.length>0&&ui(T)}else ct[0]!="stop"&&ct[0]!="close"||ar(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ar(T,7):Xl(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}ti(4)}catch{}}var Wy=class{constructor(f,b){this.g=f,this.map=b}};function Gl(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function fa(f){return f.h?1:f.g?f.g.size:0}function Qc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Hl(f,b){f.g?f.g.add(b):f.h=b}function pa(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Gl.prototype.cancel=function(){if(this.i=rr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return E(f.i)}var Kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sr(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const O=f[T].indexOf("=");let X,ee=null;O>=0?(X=f[T].substring(0,O),ee=f[T].substring(O+1)):X=f[T],b(X,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ds(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ds?(this.l=f.l,ma(this,f.j),this.o=f.o,this.g=f.g,fs(this,f.u),this.h=f.h,no(this,rh(f.i)),this.m=f.m):f&&(b=String(f).match(Kf))?(this.l=!1,ma(this,b[1]||"",!0),this.o=ga(b[2]||""),this.g=ga(b[3]||"",!0),fs(this,b[4]),this.h=ga(b[5]||"",!0),no(this,b[6]||"",!0),this.m=ga(b[7]||"")):(this.l=!1,this.i=new Ye(null,this.l))}ds.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ya(b,Xc,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ya(b,Xc,!0),"@"),f.push(hs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ya(T,T.charAt(0)=="/"?va:Jc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ya(T,Zc)),f.join("")},ds.prototype.resolve=function(f){const b=Er(this);let T=!!f.j;T?ma(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var O=f.h;if(T)fs(b,f.u);else if(T=!!f.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var X=b.h.lastIndexOf("/");X!=-1&&(O=b.h.slice(0,X+1)+O)}if(X=O,X==".."||X==".")O="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){O=X.lastIndexOf("/",0)==0,X=X.split("/");const ee=[];for(let he=0;he<X.length;){const ze=X[he++];ze=="."?O&&he==X.length&&ee.push(""):ze==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),O&&he==X.length&&ee.push("")):(ee.push(ze),O=!0)}O=ee.join("/")}else O=X}return T?b.h=O:T=f.i.toString()!=="",T?no(b,rh(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Er(f){return new ds(f)}function ma(f,b,T){f.j=T?ga(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function fs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function no(f,b,T){b instanceof Ye?(f.i=b,Wl(f.i,f.l)):(T||(b=ya(b,Qy)),f.i=new Ye(b,f.l))}function rt(f,b,T){f.i.set(b,T)}function ii(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ga(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ya(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Yc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Yc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Xc=/[#\/\?@]/g,Jc=/[#\?:]/g,va=/[#\?]/g,Qy=/[#\?@]/g,Zc=/#/g;function Ye(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ps(f){f.g||(f.g=new Map,f.h=0,f.i&&sr(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=Ye.prototype,t.add=function(f,b){ps(this),this.i=null,f=ms(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function eh(f,b){ps(f),b=ms(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Kl(f,b){return ps(f),b=ms(f,b),f.g.has(b)}t.forEach=function(f,b){ps(this),this.g.forEach(function(T,O){T.forEach(function(X){f.call(b,X,O,this)},this)},this)};function th(f,b){ps(f);let T=[];if(typeof b=="string")Kl(f,b)&&(T=T.concat(f.g.get(ms(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}t.set=function(f,b){return ps(this),this.i=null,f=ms(this,f),Kl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=th(this,f),f.length>0?String(f[0]):b):b};function nh(f,b,T){eh(f,b),T.length>0&&(f.i=null,f.g.set(ms(f,b),E(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let O=0;O<b.length;O++){var T=b[O];const X=hs(T);T=th(this,T);for(let ee=0;ee<T.length;ee++){let he=X;T[ee]!==""&&(he+="="+hs(T[ee])),f.push(he)}}return this.i=f.join("&")};function rh(f){const b=new Ye;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function ms(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Wl(f,b){b&&!f.j&&(ps(f),f.i=null,f.g.forEach(function(T,O){const X=O.toLowerCase();O!=X&&(eh(this,O),nh(this,X,T))},f)),f.j=b}function gs(f,b){const T=new Zi;if(a.Image){const O=new Image;O.onload=m(cn,T,"TestLoadImage: loaded",!0,b,O),O.onerror=m(cn,T,"TestLoadImage: error",!1,b,O),O.onabort=m(cn,T,"TestLoadImage: abort",!1,b,O),O.ontimeout=m(cn,T,"TestLoadImage: timeout",!1,b,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else b(!1)}function ys(f,b){const T=new Zi,O=new AbortController,X=setTimeout(()=>{O.abort(),cn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:O.signal}).then(ee=>{clearTimeout(X),ee.ok?cn(T,"TestPingServer: ok",!0,b):cn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),cn(T,"TestPingServer: error",!1,b)})}function cn(f,b,T,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(T)}catch{}}function wa(){this.g=new ua}function oi(f){this.i=f.Sb||null,this.h=f.ab||!1}g(oi,Qi),oi.prototype.g=function(){return new ir(this.i,this.h)};function ir(f,b){ft.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ir,ft),t=ir.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,qr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?ro(this):qr(this),this.readyState==3&&Wf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ro(this))},t.Na=function(f){this.g&&(this.response=f,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(f){f.readyState=4,f.l=null,f.j=null,f.B=null,qr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function qr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qf(f){let b="";return ne(f,function(T,O){b+=O,b+=":",b+=T,b+=`\r
`}),b}function Ql(f,b,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Qf(T),typeof f=="string"?T!=null&&hs(T):rt(f,b,T))}function ut(f){ft.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ut,ft);var Yf=/^https?$/i,Yy=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){so(this,ee);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)T.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ee of O.keys())T.set(ee,O.get(ee));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(Yy,b,void 0)>=0)||O||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of T)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){so(this,ee)}};function so(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,io(f),li(f)}function io(f){f.A||(f.A=!0,Ot(f,"complete"),Ot(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ot(this,"complete"),Ot(this,"abort"),li(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ai(this):this.Xa())},t.Xa=function(){ai(this)};function ai(f){if(f.h&&typeof i<"u"){if(f.v&&vs(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ot(f,"readystatechange"),vs(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var O;if(O=ee===0){let he=String(f.D).match(Kf)[1]||null;!he&&a.self&&a.self.location&&(he=a.self.location.protocol.slice(0,-1)),O=!Yf.test(he?he.toLowerCase():"")}T=O}if(T)Ot(f,"complete"),Ot(f,"success");else{f.o=6;try{var X=vs(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",io(f)}}finally{li(f)}}}}function li(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||Ot(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vs(f){return f.g?f.g.readyState:0}t.ca=function(){try{return vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Lf(b)}};function Xf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sh(f){const b={};f=(f.g&&vs(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(L(f[O]))continue;var T=$l(f[O]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ee=b[X]||[];b[X]=ee,ee.push(T)}oe(b,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function Yl(f){this.za=0,this.i=[],this.j=new Zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ws("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ws("baseRetryDelayMs",5e3,f),this.Za=ws("retryDelaySeedMs",1e4,f),this.Ta=ws("forwardChannelMaxRetries",2,f),this.va=ws("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(f&&f.concurrentRequestLimit),this.Ba=new wa,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Yl.prototype,t.ka=8,t.I=1,t.connect=function(f,b,T,O){At(0),this.W=f,this.H=b||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.J=oh(this,null,this.W),ui(this)};function Xl(f){if(Jl(f),f.I==3){var b=f.V++,T=Er(f.J);if(rt(T,"SID",f.M),rt(T,"RID",b),rt(T,"TYPE","terminate"),bs(f,T),b=new Sr(f,f.j,b),b.M=2,b.A=ii(Er(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&a.Image&&(new Image().src=b.A,T=!0),T||(b.g=Zf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ha(b)}Sa(f)}function or(f){f.g&&(xa(f),f.g.cancel(),f.g=null)}function Jl(f){or(f),f.v&&(a.clearTimeout(f.v),f.v=null),Zl(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function ui(f){if(!Wc(f.h)&&!f.m){f.m=!0;var b=f.Ea;z||C(),K||(z(),K=!0),D.add(b,f),f.D=0}}function Jf(f,b){return fa(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ji(d(f.Ea,f,b),tu(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new Sr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=H(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(X.J=ee,ee=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=ih(this,X,b),T=Er(this.J),rt(T,"RID",f),rt(T,"CVER",22),this.G&&rt(T,"X-HTTP-Session-Id",this.G),bs(this,T),ee&&(this.R?b="headers="+hs(Qf(ee))+"&"+b:this.u&&Ql(T,this.u,ee)),Hl(this.h,X),this.Ra&&rt(T,"TYPE","init"),this.S?(rt(T,"$req",b),rt(T,"SID","null"),X.U=!0,$r(X,T,null)):$r(X,T,b),this.I=2}}else this.I==3&&(f?ba(this,f):this.i.length==0||Wc(this.h)||ba(this))};function ba(f,b){var T;b?T=b.l:T=f.V++;const O=Er(f.J);rt(O,"SID",f.M),rt(O,"RID",T),rt(O,"AID",f.K),bs(f,O),f.u&&f.o&&Ql(O,f.u,f.o),T=new Sr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ih(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Hl(f.h,T),$r(T,O,b)}function bs(f,b){f.H&&ne(f.H,function(T,O){rt(b,O,T)}),f.l&&ne({},function(T,O){rt(b,O,T)})}function ih(f,b,T){T=Math.min(f.i.length,T);const O=f.l?d(f.l.Ka,f.l,f):null;e:{var X=f.i;let ze=-1;for(;;){const Mt=["count="+T];ze==-1?T>0?(ze=X[0].g,Mt.push("ofs="+ze)):ze=0:Mt.push("ofs="+ze);let ct=!0;for(let Kt=0;Kt<T;Kt++){var ee=X[Kt].g;const lr=X[Kt].map;if(ee-=ze,ee<0)ze=Math.max(0,X[Kt].g-100),ct=!1;else try{ee="req"+ee+"_"||"";try{var he=lr instanceof Map?lr:Object.entries(lr);for(const[lo,Ss]of he){let Es=Ss;u(Ss)&&(Es=Wi(Ss)),Mt.push(ee+lo+"="+encodeURIComponent(Es))}}catch(lo){throw Mt.push(ee+"type="+encodeURIComponent("_badmap")),lo}}catch{O&&O(lr)}}if(ct){he=Mt.join("&");break e}}he=void 0}return f=f.i.splice(0,T),b.G=f,he}function xn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;z||C(),K||(z(),K=!0),D.add(b,f),f.A=0}}function xs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ji(d(f.Da,f),tu(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ji(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),or(this),oo(this))};function xa(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function oo(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Er(f.na);rt(b,"RID","rpc"),rt(b,"SID",f.M),rt(b,"AID",f.K),rt(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(b,"TO",f.ia),rt(b,"TYPE","xmlhttp"),bs(f,b),f.u&&f.o&&Ql(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=ii(Er(b)),T.u=null,T.R=!0,Hc(T,f)}t.Va=function(){this.C!=null&&(this.C=null,or(this),xs(this),At(19))};function Zl(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function eu(f,b){var T=null;if(f.g==b){Zl(f),xa(f),f.g=null;var O=2}else if(Qc(f.h,b))T=b.G,pa(f.h,b),O=1;else return;if(f.I!=0){if(b.o)if(O==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var X=f.D;O=Xi(),Ot(O,new qc(O,T)),ui(f)}else xn(f);else if(X=b.m,X==3||X==0&&b.X>0||!(O==1&&Jf(f,b)||O==2&&xs(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),X){case 1:ar(f,5);break;case 4:ar(f,10);break;case 3:ar(f,6);break;default:ar(f,2)}}}function tu(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function ar(f,b){if(f.j.info("Error code "+b),b==2){var T=d(f.bb,f),O=f.Ua;const X=!O;O=new ds(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ma(O,"https"),ii(O),X?gs(O.toString(),T):ys(O.toString(),T)}else At(2);f.I=0,f.l&&f.l.pa(b),Sa(f),Jl(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Sa(f){if(f.I=0,f.ja=[],f.l){const b=rr(f.h);(b.length!=0||f.i.length!=0)&&(_(f.ja,b),_(f.ja,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.oa()}}function oh(f,b,T){var O=T instanceof ds?Er(T):new ds(T);if(O.g!="")b&&(O.g=b+"."+O.g),fs(O,O.u);else{var X=a.location;O=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const ee=new ds(null);O&&ma(ee,O),b&&(ee.g=b),X&&fs(ee,X),T&&(ee.h=T),O=ee}return T=f.G,b=f.wa,T&&b&&rt(O,T,b),rt(O,"VER",f.ka),bs(f,O),O}function Zf(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ut(new oi({ab:T})):new ut(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ep(){}t=ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function nu(){}nu.prototype.g=function(f,b){return new hn(f,b)};function hn(f,b){ft.call(this),this.g=new Yl(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ao(this)}g(hn,ft),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Xl(this.g)},hn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Wi(f),f=T);b.i.push(new Wy(b.Ya++,f)),b.I==3&&ui(b)},hn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,hn.Z.N.call(this)};function tp(f){Vl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(tp,Vl);function np(){$c.call(this),this.status=1}g(np,$c);function ao(f){this.g=f}g(ao,ep),ao.prototype.ra=function(){Ot(this.g,"a")},ao.prototype.qa=function(f){Ot(this.g,new tp(f))},ao.prototype.pa=function(f){Ot(this.g,new np)},ao.prototype.oa=function(){Ot(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,$A=function(){return new nu},zA=function(){return Xi()},BA=zr,Nw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Am=eo,to.COMPLETE="complete",VA=to,jf.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",ft.prototype.listen=ft.prototype.J,sd=jf,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,UA=ut}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});const Ik="@firebase/firestore",Ck="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let gn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ic="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gl=new Qg("@firebase/firestore");function qu(){return gl.logLevel}function le(t,...e){if(gl.logLevel<=Ke.DEBUG){const n=e.map(fx);gl.debug(`Firestore (${Ic}): ${t}`,...n)}}function On(t,...e){if(gl.logLevel<=Ke.ERROR){const n=e.map(fx);gl.error(`Firestore (${Ic}): ${t}`,...n)}}function yl(t,...e){if(gl.logLevel<=Ke.WARN){const n=e.map(fx);gl.warn(`Firestore (${Ic}): ${t}`,...n)}}function fx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qA(t,r,n)}function qA(t,e,n){let r=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw On(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||qA(e,s,r)}function Ue(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class js{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class UF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VF{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let i=new js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new js,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const h=i;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new js)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new GA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class BF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ak{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $F{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ak(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ak(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function qF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class px{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=qF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Dw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return T0(s)===T0(i)?Fe(s,i):T0(s)?1:-1}return Fe(t.length,e.length)}const GF=55296,HF=57343;function T0(t){const e=t.charCodeAt(0);return e>=GF&&e<=HF}function uc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function HA(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pk="__name__";class Ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ps.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Ps.isNumericId(e),s=Ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ps.extractNumericId(e).compare(Ps.extractNumericId(n)):Dw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $o.fromString(e.substring(4,e.length-2))}}class st extends Ps{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const KF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ps{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return KF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pk}static keyField(){return new kt([Pk])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(a=!a,s++):u!=="."||a?(r+=u,s++):(i(),s++)}if(i(),a)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(st.fromString(e))}static fromName(e){return new de(st.fromString(e).popFirst(5))}static empty(){return new de(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new st(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KA(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rk(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nk(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ty(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cf(t,e){if(!WA(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Dk=-62135596800,Ok=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ok);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dk)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ok}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cf(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Xt("string",We._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new We(0,0))}static max(){return new Ae(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pd=-1;class ug{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Ow(t){return t.fields.find((e=>e.kind===2))}function Ka(t){return t.fields.filter((e=>e.kind!==2))}ug.UNKNOWN_ID=-1;class Pm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Rd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Rd(0,wr.min())}}function QF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new wr(s,de.empty(),e)}function QA(t){return new wr(t.readTime,t.key,Pd)}class wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wr(Ae.min(),de.empty(),Pd)}static max(){return new wr(Ae.max(),de.empty(),Pd)}}function mx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const YA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Nl(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==YA)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,a=!1;e.forEach((u=>{++s,u.next((()=>{++i,a&&i===s&&n()}),(h=>r(h)))})),a=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,a=new Array(i);let u=0;for(let h=0;h<i;h++){const d=h;n(e[d]).next((m=>{a[d]=m,++u,u===i&&r(a)}),(m=>s(m)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const fr="SimpleDb";class ny{static open(e,n,r,s){try{return new ny(n,e.transaction(s,r))}catch(i){throw new fd(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new js,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new fd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=gx(r.target.error);this.S.reject(new fd(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(fr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new XF(n)}}class qo{static delete(e){return le(fr,"Removing database:",e),Ja(z2().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Wg())return!1;if(qo.F())return!0;const e=nn(),n=qo.M(e),r=0<n&&n<10,s=JA(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,qo.M(nn())===12.2&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(fr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new fd(e,a))},s.onupgradeneeded=i=>{le(fr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{le(fr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const u=ny.open(this.db,e,i?"readonly":"readwrite",r),h=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return h.catch((()=>{})),await u.D,h}catch(u){const h=u,d=h.name!=="FirebaseError"&&a<3;if(le(fr,"Transaction failed with error:",h.message,"Retrying:",d),this.close(),!d)return Promise.reject(h)}}}close(){this.db&&this.db.close(),this.db=void 0}}function JA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class YF{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ja(this.U.delete())}}class fd extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ia(t){return t.name==="IndexedDbTransactionError"}class XF{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(fr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(fr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ja(r)}add(e){return le(fr,"ADD",this.store.name,e,e),Ja(this.store.add(e))}get(e){return Ja(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(fr,"GET",this.store.name,e,n),n)))}delete(e){return le(fr,"DELETE",this.store.name,e),Ja(this.store.delete(e))}count(){return le(fr,"COUNT",this.store.name),Ja(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((a,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{a(h.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((u,h)=>{a.push(h)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){le(fr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const a=gx(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((u=>{u?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void s();const h=new YF(u),d=n(u.primaryKey,u.value,h);if(d instanceof Q){const m=d.catch((g=>(h.done(),Q.reject(g))));r.push(m)}h.isDone?s():h.G===null?u.continue():u.continue(h.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ja(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=gx(r.target.error);n(s)}}))}let Mk=!1;function gx(t){const e=qo.M(nn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mk||(Mk=!0,setTimeout((()=>{throw r}),0)),r}}return t}const pd="IndexBackfiller";class JF{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(pd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(pd,`Documents written: ${n}`)}catch(n){ia(n)?le(pd,"Ignoring IndexedDB error during index backfill: ",n):await Nl(n)}await this.re(6e4)}))}}class ZF{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return le(pd,`Processing collection: ${a}`),this.oe(e,a,s).next((u=>{s-=u,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((u=>(le(pd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=QA(i);mx(a,r)>0&&(r=a)})),new wr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Or{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Or.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const al=-1;function ry(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}function eU(t){return typeof t=="number"&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cg="";function Rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lk(e)),e=tU(t.get(n),e);return Lk(e)}function tU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case cg:n+="";break;default:n+=i}}return n}function Lk(t){return t+cg+""}function Ns(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===cg&&t.charAt(1)==="",56145,{path:t}),st.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(cg,i);switch((a<0||a>n)&&Te(50515,{path:t}),t.charAt(a+1)){case"":const u=t.substring(i,a);let h;s.length===0?h=u:(s+=u,h=s,s=""),r.push(h);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:Te(61167,{path:t})}i=a+2}return new st(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Wa="remoteDocuments",hf="owner",Tu="owner",Dd="mutationQueues",nU="userId",Zr="mutations",jk="batchId",nl="userMutationsIndex",Fk=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Rm(t,e){return[t,Rn(e)]}function ZA(t,e,n){return[t,Rn(e),n]}const rU={},cc="documentMutations",hg="remoteDocumentsV14",sU=["prefixPath","collectionGroup","readTime","documentId"],Nm="documentKeyIndex",iU=["prefixPath","collectionGroup","documentId"],eP="collectionGroupIndex",oU=["collectionGroup","readTime","prefixPath","documentId"],Od="remoteDocumentGlobal",Mw="remoteDocumentGlobalKey",hc="targets",tP="queryTargetsIndex",aU=["canonicalId","targetId"],dc="targetDocuments",lU=["targetId","path"],yx="documentTargetsIndex",uU=["path","targetId"],dg="targetGlobalKey",ll="targetGlobal",Md="collectionParents",cU=["collectionId","parent"],fc="clientMetadata",hU="clientId",sy="bundles",dU="bundleId",iy="namedQueries",fU="name",vx="indexConfiguration",pU="indexId",Lw="collectionGroupIndex",mU="collectionGroup",md="indexState",gU=["indexId","uid"],nP="sequenceNumberIndex",yU=["uid","sequenceNumber"],gd="indexEntries",vU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rP="documentKeyIndex",wU=["indexId","uid","orderedDocumentKey"],oy="documentOverlays",bU=["userId","collectionPath","documentId"],jw="collectionPathOverlayIndex",xU=["userId","collectionPath","largestBatchId"],sP="collectionGroupOverlayIndex",SU=["userId","collectionGroup","largestBatchId"],wx="globals",EU="name",iP=[Dd,Zr,cc,Wa,hc,hf,ll,dc,fc,Od,Md,sy,iy],TU=[...iP,oy],oP=[Dd,Zr,cc,hg,hc,hf,ll,dc,fc,Od,Md,sy,iy,oy],aP=oP,bx=[...aP,vx,md,gd],kU=bx,lP=[...bx,wx],_U=lP;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fw extends XA{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function rn(t,e){const n=Ue(t);return qo.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Uk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class St{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jp(this.root,e,this.comparator,!0)}}class Jp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yn.RED,this.left=s??yn.EMPTY,this.right=i??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new yn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class at{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vk(this.data.getIterator())}getIteratorFrom(e){return new Vk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class Vk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ku(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Zn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new at(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cP("Invalid base64 string: "+s):s}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const IU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=IU.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hP="server_timestamp",dP="__type__",fP="__previous_value__",pP="__local_write_time__";function xx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[dP])==null?void 0:n.stringValue)===hP}function ay(t){const e=t.mapValue.fields[fP];return xx(e)?ay(e):e}function Ld(t){const e=Ri(t.mapValue.fields[pP].timestampValue);return new We(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CU{constructor(e,n,r,s,i,a,u,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const fg="(default)";class vl{constructor(e,n){this.projectId=e,this.database=n||fg}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===fg}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Sx="__type__",mP="__max__",Vo={mapValue:{fields:{__type__:{stringValue:mP}}}},Ex="__vector__",pc="value",Dm={nullValue:"NULL_VALUE"};function Wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xx(t)?4:gP(t)?9007199254740991:ly(t)?10:11:Te(28295,{value:t})}function $s(t,e){if(t===e)return!0;const n=Wo(t);if(n!==Wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ld(t).isEqual(Ld(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Ri(r.timestampValue),a=Ri(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Ni(r.bytesValue).isEqual(Ni(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return bt(r.geoPointValue.latitude)===bt(s.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return bt(r.integerValue)===bt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=bt(r.doubleValue),a=bt(s.doubleValue);return i===a?Nd(i)===Nd(a):isNaN(i)&&isNaN(a)}return!1})(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Uk(i)!==Uk(a))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(a[u]===void 0||!$s(i[u],a[u])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function jd(t,e){return(t.values||[]).find((n=>$s(n,e)))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Wo(t),r=Wo(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const a=bt(s.integerValue||s.doubleValue),u=bt(i.integerValue||i.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return Bk(t.timestampValue,e.timestampValue);case 4:return Bk(Ld(t),Ld(e));case 5:return Dw(t.stringValue,e.stringValue);case 6:return(function(s,i){const a=Ni(s),u=Ni(i);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const a=s.split("/"),u=i.split("/");for(let h=0;h<a.length&&h<u.length;h++){const d=Fe(a[h],u[h]);if(d!==0)return d}return Fe(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const a=Fe(bt(s.latitude),bt(i.latitude));return a!==0?a:Fe(bt(s.longitude),bt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return zk(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var a,u,h,d;const m=s.fields||{},g=i.fields||{},v=(a=m[pc])==null?void 0:a.arrayValue,E=(u=g[pc])==null?void 0:u.arrayValue,_=Fe(((h=v==null?void 0:v.values)==null?void 0:h.length)||0,((d=E==null?void 0:E.values)==null?void 0:d.length)||0);return _!==0?_:zk(v,E)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===Vo.mapValue&&i===Vo.mapValue)return 0;if(s===Vo.mapValue)return 1;if(i===Vo.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),h=i.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=Dw(u[m],d[m]);if(g!==0)return g;const v=Qo(a[u[m]],h[d[m]]);if(v!==0)return v}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Bk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Ri(t),r=Ri(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function zk(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qo(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function mc(t){return Uw(t)}function Uw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=Ri(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Ni(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=Uw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${Uw(e.fields[i])}`;return r+"}"})(t.mapValue):Te(61005,{value:t})}function Om(t){switch(Wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ay(t);return e?16+Om(e):16;case 5:return 2*t.stringValue.length;case 6:return Ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Om(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return oa(n.fields,((s,i)=>{r+=s.length+Om(i)})),r})(t.mapValue);default:throw Te(13486,{value:t})}}function Fd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vw(t){return!!t&&"integerValue"in t}function Ud(t){return!!t&&"arrayValue"in t}function $k(t){return!!t&&"nullValue"in t}function qk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mm(t){return!!t&&"mapValue"in t}function ly(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Sx])==null?void 0:n.stringValue)===Ex}function yd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=yd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yd(t.arrayValue.values[n]);return e}return{...t}}function gP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mP}const yP={mapValue:{fields:{[Sx]:{stringValue:Ex},[pc]:{arrayValue:{}}}}};function AU(t){return"nullValue"in t?Dm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fd(vl.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ly(t)?yP:{mapValue:{}}:Te(35942,{value:t})}function PU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fd(vl.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?yP:"mapValue"in t?ly(t)?{mapValue:{}}:Vo:Te(61959,{value:t})}function Gk(t,e){const n=Qo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Hk(t,e){const n=Qo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach(((a,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}a?r[u.lastSegment()]=yd(a):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oa(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Cn(yd(this.value))}}function vP(t){const e=[];return oa(t.fields,((n,r)=>{const s=new kt([n]);if(Mm(r)){const i=vP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Zn(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nt{constructor(e,n,r,s,i,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Nt(e,0,Ae.min(),Ae.min(),Ae.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Nt(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new Nt(e,2,n,Ae.min(),Ae.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,Ae.min(),Ae.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gc{constructor(e,n){this.position=e,this.inclusive=n}}function Kk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(a.referenceValue),n.key):r=Qo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$s(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function RU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wP{}class Qe extends wP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NU(e,n,r):n==="array-contains"?new MU(e,r):n==="in"?new kP(e,r):n==="not-in"?new LU(e,r):n==="array-contains-any"?new jU(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DU(e,r):new OU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Wo(this.value)===Wo(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends wP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ot(e,n)}matches(e){return yc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yc(t){return t.op==="and"}function Bw(t){return t.op==="or"}function Tx(t){return bP(t)&&yc(t)}function bP(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}function zw(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(Tx(t))return t.filters.map((e=>zw(e))).join(",");{const e=t.filters.map((n=>zw(n))).join(",");return`${t.op}(${e})`}}function xP(t,e){return t instanceof Qe?(function(n,r){return r instanceof Qe&&n.op===r.op&&n.field.isEqual(r.field)&&$s(n.value,r.value)})(t,e):t instanceof ot?(function(n,r){return r instanceof ot&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,a)=>s&&xP(i,r.filters[a])),!0):!1})(t,e):void Te(19439)}function SP(t,e){const n=t.filters.concat(e);return ot.create(n,t.op)}function EP(t){return t instanceof Qe?(function(e){return`${e.field.canonicalString()} ${e.op} ${mc(e.value)}`})(t):t instanceof ot?(function(e){return e.op.toString()+" {"+e.getFilters().map(EP).join(" ,")+"}"})(t):"Filter"}class NU extends Qe{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class DU extends Qe{constructor(e,n){super(e,"in",n),this.keys=TP("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OU extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=TP("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class MU extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ud(n)&&jd(n.arrayValue,this.value)}}class kP extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jd(this.value.arrayValue,n)}}class LU extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jd(this.value.arrayValue,n)}}class jU extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>jd(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FU{constructor(e,n=null,r=[],s=[],i=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=u,this.Te=null}}function $w(t,e=null,n=[],r=[],s=null,i=null,a=null){return new FU(t,e,n,r,s,i,a)}function wl(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>zw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ry(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),e.Te=n}return e.Te}function df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wk(t.startAt,e.startAt)&&Wk(t.endAt,e.endAt)}function pg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mg(t,e){return t.filters.filter((n=>n instanceof Qe&&n.field.isEqual(e)))}function Qk(t,e,n){let r=Dm,s=!0;for(const i of mg(t,e)){let a=Dm,u=!0;switch(i.op){case"<":case"<=":a=AU(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,u=!1;break;case"!=":case"not-in":a=Dm}Gk({value:r,inclusive:s},{value:a,inclusive:u})<0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];Gk({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function Yk(t,e,n){let r=Vo,s=!0;for(const i of mg(t,e)){let a=Vo,u=!0;switch(i.op){case">=":case">":a=PU(i.value),u=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,u=!1;break;case"!=":case"not-in":a=Vo}Hk({value:r,inclusive:s},{value:a,inclusive:u})>0&&(r=a,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];Hk({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cc{constructor(e,n=null,r=[],s=[],i=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UU(t,e,n,r,s,i,a,u){return new Cc(t,e,n,r,s,i,a,u)}function ff(t){return new Cc(t)}function Xk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _P(t){return t.collectionGroup!==null}function vd(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new at(kt.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Vd(s,r))})),n.has(kt.keyField().canonicalString())||e.Ie.push(new Vd(kt.keyField(),r))}return e.Ie}function Lr(t){const e=Ue(t);return e.Ee||(e.Ee=VU(e,vd(t))),e.Ee}function VU(t,e){if(t.limitType==="F")return $w(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Vd(s.field,i)}));const n=t.endAt?new gc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gc(t.startAt.position,t.startAt.inclusive):null;return $w(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qw(t,e){const n=t.filters.concat([e]);return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gg(t,e,n){return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uy(t,e){return df(Lr(t),Lr(e))&&t.limitType===e.limitType}function IP(t){return`${wl(Lr(t))}|lt:${t.limitType}`}function Gu(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>EP(r))).join(", ")}]`),ry(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),`Target(${n})`})(Lr(t))}; limitType=${t.limitType})`}function pf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of vd(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,a){const u=Kk(s,i,a);return s.inclusive?u<=0:u<0})(n.startAt,vd(n),r)||n.endAt&&!(function(s,i,a){const u=Kk(s,i,a);return s.inclusive?u>=0:u>0})(n.endAt,vd(n),r))})(t,e)}function BU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CP(t){return(e,n)=>{let r=!1;for(const s of vd(t)){const i=zU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zU(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,a){const u=i.data.field(s),h=a.data.field(s);return u!==null&&h!==null?Qo(u,h):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return uP(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $U=new St(de.comparator);function gr(){return $U}const AP=new St(de.comparator);function id(...t){let e=AP;for(const n of t)e=e.insert(n.key,n);return e}function PP(t){let e=AP;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ds(){return wd()}function RP(){return wd()}function wd(){return new Bi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const qU=new St(de.comparator),GU=new at(de.comparator);function Ge(...t){let e=GU;for(const n of t)e=e.add(n);return e}const HU=new at(Fe);function KU(){return HU}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function NP(t){return{integerValue:""+t}}function WU(t,e){return eU(e)?NP(e):kx(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cy{constructor(){this._=void 0}}function QU(t,e,n){return t instanceof vc?(function(r,s){const i={fields:{[dP]:{stringValue:hP},[pP]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&xx(s)&&(s=ay(s)),s&&(i.fields[fP]=s),{mapValue:i}})(n,e):t instanceof wc?OP(t,e):t instanceof bc?MP(t,e):(function(r,s){const i=DP(r,s),a=Jk(i)+Jk(r.Ae);return Vw(i)&&Vw(r.Ae)?NP(a):kx(r.serializer,a)})(t,e)}function YU(t,e,n){return t instanceof wc?OP(t,e):t instanceof bc?MP(t,e):n}function DP(t,e){return t instanceof Bd?(function(n){return Vw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class vc extends cy{}class wc extends cy{constructor(e){super(),this.elements=e}}function OP(t,e){const n=LP(e);for(const r of t.elements)n.some((s=>$s(s,r)))||n.push(r);return{arrayValue:{values:n}}}class bc extends cy{constructor(e){super(),this.elements=e}}function MP(t,e){let n=LP(e);for(const r of t.elements)n=n.filter((s=>!$s(s,r)));return{arrayValue:{values:n}}}class Bd extends cy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Jk(t){return bt(t.integerValue||t.doubleValue)}function LP(t){return Ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jP{constructor(e,n){this.field=e,this.transform=n}}function XU(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof wc&&r instanceof wc||n instanceof bc&&r instanceof bc?uc(n.elements,r.elements,$s):n instanceof Bd&&r instanceof Bd?$s(n.Ae,r.Ae):n instanceof vc&&r instanceof vc})(t.transform,e.transform)}class JU{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let hy=class{};function FP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dy(t.key,An.none()):new Ac(t.key,t.data,An.none());{const n=t.data,r=Cn.empty();let s=new at(kt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new zi(t.key,r,new Zn(s.toArray()),An.none())}}function ZU(t,e,n){t instanceof Ac?(function(r,s,i){const a=r.value.clone(),u=e_(r.fieldTransforms,s,i.transformResults);a.setAll(u),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()})(t,e,n):t instanceof zi?(function(r,s,i){if(!Lm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const a=e_(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(UP(r)),u.setAll(a),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function bd(t,e,n,r){return t instanceof Ac?(function(s,i,a,u){if(!Lm(s.precondition,i))return a;const h=s.value.clone(),d=t_(s.fieldTransforms,u,i);return h.setAll(d),i.convertToFoundDocument(i.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof zi?(function(s,i,a,u){if(!Lm(s.precondition,i))return a;const h=t_(s.fieldTransforms,u,i),d=i.data;return d.setAll(UP(s)),d.setAll(h),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,i,a){return Lm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a})(t,e,n)}function eV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=DP(r.transform,s||null);i!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,i))}return n||null}function Zk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&uc(n,r,((s,i)=>XU(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends hy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends hy{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function UP(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function e_(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,u=e.data.field(i.field);r.set(i.field,YU(a,u,n[s]))}return r}function t_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,QU(i,a,e))}return r}class dy extends hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VP extends hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _x{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ZU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RP();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let u=this.applyToLocalView(a,i.mutatedFields);u=n.has(s.key)?null:u;const h=FP(a,u);h!==null&&r.set(s.key,h),a.isValidDocument()||a.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,((n,r)=>Zk(n,r)))&&uc(this.baseMutations,e.baseMutations,((n,r)=>Zk(n,r)))}}class Ix{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return qU})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Ix(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qt,Xe;function nV(t){switch(t){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function BP(t){if(t===void 0)return On("GRPC error has no .code"),te.UNKNOWN;switch(t){case Qt.OK:return te.OK;case Qt.CANCELLED:return te.CANCELLED;case Qt.UNKNOWN:return te.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return te.INTERNAL;case Qt.UNAVAILABLE:return te.UNAVAILABLE;case Qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Qt.NOT_FOUND:return te.NOT_FOUND;case Qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Qt.ABORTED:return te.ABORTED;case Qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Qt.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:t})}}(Xe=Qt||(Qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rV(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sV=new $o([4294967295,4294967295],0);function n_(t){const e=rV().encode(t),n=new FA;return n.update(e),new Uint8Array(n.digest())}function r_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $o([n,r],0),new $o([s,i],0)]}class Ax{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new od(`Invalid padding: ${n}`);if(r<0)throw new od(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new od(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new od(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$o.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply($o.fromNumber(r)));return s.compare(sV)===1&&(s=new $o([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=n_(e),[r,s]=r_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Ax(i,s,n);return r.forEach((u=>a.insert(u))),a}insert(e){if(this.ge===0)return;const n=n_(e),[r,s]=r_(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class od extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class fy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fy(Ae.min(),s,new St(Fe),gr(),Ge())}}class mf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mf(r,n,Ge(),Ge(),Ge())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jm{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class zP{constructor(e,n){this.targetId=e,this.Ce=n}}class $P{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class s_{constructor(){this.ve=0,this.Fe=i_(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:i})}})),new mf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=i_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iV{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Zp(),this.He=Zp(),this.Ye=new St(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(pg(i))if(r===0){const a=new de(i.path);this.et(n,a,Nt.newNoDocument(a,Ae.min()))}else Ie(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const u=this.ut(e),h=u?this.ct(u,e,a):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,u;try{a=Ni(r).toUint8Array()}catch(h){if(h instanceof cP)return yl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Ax(a,s,i)}catch(h){return yl(h instanceof od?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),u=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const u=this.ot(a);if(u){if(i.current&&pg(u.target)){const h=new de(u.target.path);this.It(h).has(a)||this.Et(a,h)||this.et(a,h,Nt.newNoDocument(h,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=Ge();this.He.forEach(((i,a)=>{let u=!0;a.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new fy(e,n,this.Ye,this.je,r);return this.je=gr(),this.Je=Zp(),this.He=Zp(),this.Ye=new St(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new s_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new at(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new at(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new s_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zp(){return new St(de.comparator)}function i_(){return new St(de.comparator)}const oV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lV={and:"AND",or:"OR"};class uV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gw(t,e){return t.useProto3Json||ry(e)?e:{value:e}}function xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cV(t,e){return xc(t,e.toTimestamp())}function Fn(t){return Ie(!!t,49232),Ae.fromTimestamp((function(e){const n=Ri(e);return new We(n.seconds,n.nanos)})(t))}function Px(t,e){return Hw(t,e).canonicalString()}function Hw(t,e){const n=(function(r){return new st(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GP(t){const e=st.fromString(t);return Ie(eR(e),10190,{key:e.toString()}),e}function yg(t,e){return Px(t.databaseId,e.path)}function ul(t,e){const n=GP(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(WP(n))}function HP(t,e){return Px(t.databaseId,e)}function KP(t){const e=GP(t);return e.length===4?st.emptyPath():WP(e)}function Kw(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WP(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function o_(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function hV(t,e,n){const r=ul(t,e.name),s=Fn(e.updateTime),i=e.createTime?Fn(e.createTime):Ae.min(),a=new Cn({mapValue:{fields:e.fields}}),u=Nt.newFoundDocument(r,s,i,a);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function dV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Te(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),Jt.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Jt.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&(function(h){const d=h.code===void 0?te.UNKNOWN:BP(h.code);return new ce(d,h.message||"")})(a);n=new $P(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ul(t,r.document.name),i=Fn(r.document.updateTime),a=r.document.createTime?Fn(r.document.createTime):Ae.min(),u=new Cn({mapValue:{fields:r.document.fields}}),h=Nt.newFoundDocument(s,i,a,u),d=r.targetIds||[],m=r.removedTargetIds||[];n=new jm(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ul(t,r.document),i=r.readTime?Fn(r.readTime):Ae.min(),a=Nt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new jm([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ul(t,r.document),i=r.removedTargetIds||[];n=new jm([],i,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new tV(s,i),u=r.targetId;n=new zP(u,a)}}return n}function vg(t,e){let n;if(e instanceof Ac)n={update:o_(t,e.key,e.value)};else if(e instanceof dy)n={delete:yg(t,e.key)};else if(e instanceof zi)n={update:o_(t,e.key,e.data),updateMask:vV(e.fieldMask)};else{if(!(e instanceof VP))return Te(16599,{Vt:e.type});n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const a=i.transform;if(a instanceof vc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bd)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw Te(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:cV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te(27497)})(t,e.precondition)),n}function Ww(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?An.updateTime(Fn(s.updateTime)):s.exists!==void 0?An.exists(s.exists):An.none()})(e.currentDocument):An.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,a){let u=null;if("setToServerValue"in a)Ie(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),u=new vc;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];u=new wc(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];u=new bc(d)}else"increment"in a?u=new Bd(i,a.increment):Te(16584,{proto:a});const h=kt.fromServerFormat(a.fieldPath);return new jP(h,u)})(t,s))):[];if(e.update){e.update.name;const s=ul(t,e.update.name),i=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const h=u.fieldPaths||[];return new Zn(h.map((d=>kt.fromServerFormat(d))))})(e.updateMask);return new zi(s,i,a,n,r)}return new Ac(s,i,n,r)}if(e.delete){const s=ul(t,e.delete);return new dy(s,n)}if(e.verify){const s=ul(t,e.verify);return new VP(s,n)}return Te(1463,{proto:e})}function fV(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?Fn(r.updateTime):Fn(s);return i.isEqual(Ae.min())&&(i=Fn(s)),new JU(i,r.transformResults||[])})(n,e)))):[]}function QP(t,e){return{documents:[HP(t,e.path)]}}function YP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HP(t,s);const i=(function(h){if(h.length!==0)return ZP(ot.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((d=>(function(m){return{field:Hu(m.field),direction:mV(m.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=Gw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function XP(t){let e=KP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(m){const g=JP(m);return g instanceof ot&&Tx(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((g=>(function(v){return new Vd(Ku(v.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let g;return g=typeof m=="object"?m.value:m,ry(g)?null:g})(n.limit));let h=null;n.startAt&&(h=(function(m){const g=!!m.before,v=m.values||[];return new gc(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const g=!m.before,v=m.values||[];return new gc(v,g)})(n.endAt)),UU(e,s,a,i,u,"F",h,d)}function pV(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JP(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ku(e.unaryFilter.field);return Qe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ku(e.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ku(e.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ku(e.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(e){return Qe.create(Ku(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return ot.create(e.compositeFilter.filters.map((n=>JP(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(e.compositeFilter.op))})(t):Te(30097,{filter:t})}function mV(t){return oV[t]}function gV(t){return aV[t]}function yV(t){return lV[t]}function Hu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return kt.fromServerFormat(t.fieldPath)}function ZP(t){return t instanceof Qe?(function(e){if(e.op==="=="){if(qk(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NAN"}};if($k(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qk(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NAN"}};if($k(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(e.field),op:gV(e.op),value:e.value}}})(t):t instanceof ot?(function(e){const n=e.getFilters().map((r=>ZP(r)));return n.length===1?n[0]:{compositeFilter:{op:yV(e.op),filters:n}}})(t):Te(54877,{filter:t})}function vV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ki{constructor(e,n,r,s,i=Ae.min(),a=Ae.min(),u=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tR{constructor(e){this.yt=e}}function wV(t,e){let n;if(e.document)n=hV(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=xl(e.noDocument.readTime);n=Nt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te(56709);{const r=de.fromSegments(e.unknownDocument.path),s=xl(e.unknownDocument.version);n=Nt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new We(r[0],r[1]);return Ae.fromTimestamp(s)})(e.readTime)),n}function a_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:yg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:xc(s,i.version.toTimestamp()),createTime:xc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return Te(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:bl(e.version)}}return r}function wg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xl(t){const e=new We(t.seconds,t.nanoseconds);return Ae.fromTimestamp(e)}function Za(t,e){const n=(e.baseMutations||[]).map((i=>Ww(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];a.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>Ww(t.yt,i))),s=We.fromMillis(e.localWriteTimeMs);return new _x(e.batchId,s,n,r)}function ad(t){const e=xl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?xl(t.lastLimboFreeSnapshotVersion):Ae.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ie(i===1,1966,{count:i}),Lr(ff(KP(s.documents[0])))})(t.query):(function(s){return Lr(XP(s))})(t.query),new ki(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Jt.fromBase64String(t.resumeToken))}function nR(t,e){const n=bl(e.snapshotVersion),r=bl(e.lastLimboFreeSnapshotVersion);let s;s=pg(e.target)?QP(t.yt,e.target):YP(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function rR(t){const e=XP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gg(e,e.limit,"L"):e}function k0(t,e){return new Cx(e.largestBatchId,Ww(t.yt,e.overlayMutation))}function l_(t,e){const n=e.path.lastSegment();return[t,Rn(e.path.popLast()),n]}function u_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:bl(r.readTime),documentKey:Rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bV{getBundleMetadata(e,n){return c_(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:xl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return c_(e).put((function(r){return{bundleId:r.id,createTime:bl(Fn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return h_(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:rR(s.bundledQuery),readTime:xl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return h_(e).put((function(r){return{name:r.name,readTime:bl(Fn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function c_(t){return rn(t,sy)}function h_(t){return rn(t,iy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class py{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new py(e,r)}getOverlay(e,n){return Dh(e).get(l_(this.userId,n)).next((r=>r?k0(this.serializer,r):null))}getOverlays(e,n){const r=Ds();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const u=new Cx(n,a);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(Rn(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Dh(e).Z(jw,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Ds(),i=Rn(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Dh(e).J(jw,a).next((u=>{for(const h of u){const d=k0(this.serializer,h);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Ds();let a;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Dh(e).ee({index:sP,range:u},((h,d,m)=>{const g=k0(this.serializer,d);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):m.done()})).next((()=>i))}St(e,n){return Dh(e).put((function(r,s,i){const[a,u,h]=l_(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:h,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:vg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Dh(t){return rn(t,oy)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xV{bt(e){return rn(e,wx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?Jt.fromUint8Array(r):Jt.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class el{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Nd(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Ri(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ni(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?gP(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ly(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Te(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const a=pc,u=((s=(r=i[a].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(bt(u)),this.Ot(a,n),this.Ct(i[a],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}el.Kt=new el;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _u=255;function SV(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function d_(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=SV(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class EV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=d_(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=d_(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(_u),this.sn(255)}_n(){this.an(_u),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===_u?(this.sn(_u),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===_u?(this.an(_u),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class TV{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class kV{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Oh{constructor(){this.cn=new EV,this.ln=new TV(this.cn),this.hn=new kV(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new tl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Fm(this.En),directionalValue:Fm(this.dn),orderedDocumentKey:Fm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ko(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=f_(t.En,e.En),n!==0?n:(n=f_(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function f_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Fm(t){return Y2()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function p_(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class m_{constructor(e){this.mn=new at(((n,r)=>kt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Ow(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ka(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const h=r[i];if(!this.Sn(u,h)||!this.bn(this.fn[a++],h))return!1}++i}for(;i<r.length;++i){const u=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new at(kt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Pm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Pm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Pm(r.field,r.dir==="asc"?0:1)));return new ug(ug.UNKNOWN_ID,this.collectionId,n,Rd.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sR(t){var e,n;if(Ie(t instanceof Qe||t instanceof ot,20012),t instanceof Qe){if(t instanceof kP){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>Qe.create(t.field,"==",i))))||[];return ot.create(s,"or")}return t}const r=t.filters.map((s=>sR(s)));return ot.create(r,t.op)}function _V(t){if(t.getFilters().length===0)return[];const e=Xw(sR(t));return Ie(iR(e),7391),Qw(e)||Yw(e)?[e]:e.getFilters()}function Qw(t){return t instanceof Qe}function Yw(t){return t instanceof ot&&Tx(t)}function iR(t){return Qw(t)||Yw(t)||(function(e){if(e instanceof ot&&Bw(e)){for(const n of e.getFilters())if(!Qw(n)&&!Yw(n))return!1;return!0}return!1})(t)}function Xw(t){if(Ie(t instanceof Qe||t instanceof ot,34018),t instanceof Qe)return t;if(t.filters.length===1)return Xw(t.filters[0]);const e=t.filters.map((r=>Xw(r)));let n=ot.create(e,t.op);return n=bg(n),iR(n)?n:(Ie(n instanceof ot,64498),Ie(yc(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Rx(r,s))))}function Rx(t,e){let n;return Ie(t instanceof Qe||t instanceof ot,38388),Ie(e instanceof Qe||e instanceof ot,25473),n=t instanceof Qe?e instanceof Qe?(function(r,s){return ot.create([r,s],"and")})(t,e):g_(t,e):e instanceof Qe?g_(e,t):(function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),yc(r)&&yc(s))return SP(r,s.getFilters());const i=Bw(r)?r:s,a=Bw(r)?s:r,u=i.filters.map((h=>Rx(h,a)));return ot.create(u,"or")})(t,e),bg(n)}function g_(t,e){if(yc(e))return SP(e,t.getFilters());{const n=e.filters.map((r=>Rx(t,r)));return ot.create(n,"or")}}function bg(t){if(Ie(t instanceof Qe||t instanceof ot,11850),t instanceof Qe)return t;const e=t.getFilters();if(e.length===1)return bg(e[0]);if(bP(t))return t;const n=e.map((s=>bg(s))),r=[];return n.forEach((s=>{s instanceof Qe?r.push(s):s instanceof ot&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ot.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IV{constructor(){this.Cn=new Nx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(wr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Nx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new at(st.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new at(st.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y_="IndexedDbIndexManager",em=new Uint8Array(0);class CV{constructor(e,n){this.databaseId=n,this.vn=new Nx,this.Fn=new Bi((r=>wl(r)),((r,s)=>df(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Rn(s)};return v_(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[HA(n),""],!1,!0);return v_(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Ns(a.parent))}return r}))}addFieldIndex(e,n){const r=Mh(e),s=(function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=Cu(e);return i.next((u=>{a.put(u_(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Mh(e),s=Cu(e),i=Iu(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Mh(e),r=Iu(e),s=Cu(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new m_(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Iu(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(a=>this.xn(e,a).next((u=>{s&&(s=!!u),i.set(a,u)})))).next((()=>{if(s){let a=Ge();const u=[];return Q.forEach(i,((h,d)=>{le(y_,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map((M=>`${M.fieldPath}:${M.kind}`)).join(",")}`})(h)} to execute ${wl(n)}`);const m=(function(R,M){const V=Ow(M);if(V===void 0)return null;for(const z of mg(R,V.fieldPath))switch(z.op){case"array-contains-any":return z.value.arrayValue.values||[];case"array-contains":return[z.value]}return null})(d,h),g=(function(R,M){const V=new Map;for(const z of Ka(M))for(const K of mg(R,z.fieldPath))switch(K.op){case"==":case"in":V.set(z.fieldPath.canonicalString(),K.value);break;case"not-in":case"!=":return V.set(z.fieldPath.canonicalString(),K.value),Array.from(V.values())}return null})(d,h),v=(function(R,M){const V=[];let z=!0;for(const K of Ka(M)){const D=K.kind===0?Qk(R,K.fieldPath,R.startAt):Yk(R,K.fieldPath,R.startAt);V.push(D.value),z&&(z=D.inclusive)}return new gc(V,z)})(d,h),E=(function(R,M){const V=[];let z=!0;for(const K of Ka(M)){const D=K.kind===0?Yk(R,K.fieldPath,R.endAt):Qk(R,K.fieldPath,R.endAt);V.push(D.value),z&&(z=D.inclusive)}return new gc(V,z)})(d,h),_=this.On(h,d,v),k=this.On(h,d,E),I=this.Nn(h,d,g),P=this.Bn(h.indexId,m,_,v.inclusive,k,E.inclusive,I);return Q.forEach(P,(R=>r.Y(R,n.limit).next((M=>{M.forEach((V=>{const z=de.fromSegments(V.documentKey);a.has(z)||(a=a.add(z),u.push(z))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=_V(ot.create(e.filters,"and")).map((r=>$w(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,u){const h=(n!=null?n.length:1)*Math.max(r.length,i.length),d=h/(n!=null?n.length:1),m=[];for(let g=0;g<h;++g){const v=n?this.Ln(n[g/d]):em,E=this.kn(e,v,r[g%d],s),_=this.qn(e,v,i[g%d],a),k=u.map((I=>this.kn(e,v,I,!0)));m.push(...this.createRange(E,_,k))}return m}kn(e,n,r,s){const i=new tl(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new tl(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new m_(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const u of i)r.yn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let h=new at(kt.comparator),d=!1;for(const m of u.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:h=h.add(g.field));for(const m of u.orderBy)m.field.isKeyField()||(h=h.add(m.field));return h.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Oh;for(const s of Ka(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);el.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Oh;return el.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Oh;return el.Kt.Dt(Fd(this.databaseId,n),r.Pn((function(s){const i=Ka(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Oh);let i=0;for(const a of Ka(e)){const u=r[i++];for(const h of s)if(this.Un(n,a.fieldPath)&&Ud(u))s=this.Kn(s,a,u);else{const d=h.Pn(a.kind);el.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const u of s){const h=new Oh;h.seed(u.un()),el.Kt.Dt(a,h.Pn(n.kind)),i.push(h)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Qe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Mh(e),s=Cu(e);return(n?r.J(Lw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((h=>{a.push((function(d,m){const g=m?new Rd(m.sequenceNumber,new wr(xl(m.readTime),new de(Ns(m.documentKey)),m.largestBatchId)):Rd.empty(),v=d.fields.map((([E,_])=>new Pm(kt.fromServerFormat(E),_)));return new ug(d.indexId,d.collectionGroup,v,g)})(u,h))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Mh(e),i=Cu(e);return this.Gn(e).next((a=>s.J(Lw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(h=>i.put(u_(h.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Q.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(h=>this.zn(e,s,h).next((d=>{const m=this.jn(i,h);return d.isEqual(m)?Q.resolve():this.Jn(e,i,h,d,m)})))))))}))}Hn(e,n,r,s){return Iu(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Iu(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Iu(e);let i=new at(ko);return s.ee({index:rP,range:IDBKeyRange.only([r.indexId,this.uid,Fm(this.$n(r,n))])},((a,u)=>{i=i.add(new tl(r.indexId,n,p_(u.arrayValue),p_(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new at(ko);const s=this.Qn(n,e);if(s==null)return r;const i=Ow(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Ud(a))for(const u of a.arrayValue.values||[])r=r.add(new tl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new tl(n.indexId,e.key,em,s));return r}Jn(e,n,r,s,i){le(y_,"Updating index entries for document '%s'",n.key);const a=[];return(function(u,h,d,m,g){const v=u.getIterator(),E=h.getIterator();let _=ku(v),k=ku(E);for(;_||k;){let I=!1,P=!1;if(_&&k){const R=d(_,k);R<0?P=!0:R>0&&(I=!0)}else _!=null?P=!0:I=!0;I?(m(k),k=ku(E)):P?(g(_),_=ku(v)):(_=ku(v),k=ku(E))}})(s,i,ko,(u=>{a.push(this.Hn(e,n,r,u))}),(u=>{a.push(this.Yn(e,n,r,u))})),Q.waitFor(a)}Gn(e){let n=1;return Cu(e).ee({index:nP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,u)=>ko(a,u))).filter(((a,u,h)=>!u||ko(a,h[u-1])!==0));const s=[];s.push(e);for(const a of r){const u=ko(a,e),h=ko(a,n);if(u===0)s[0]=e.An();else if(u>0&&h<0)s.push(a),s.push(a.An());else if(h>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const u=s[a].Vn(this.uid,em,de.empty()),h=s[a+1].Vn(this.uid,em,de.empty());i.push(IDBKeyRange.bound(u,h))}return i}Zn(e,n){return ko(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(w_)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Te(44426))))).next(w_)}}function v_(t){return rn(t,Md)}function Iu(t){return rn(t,gd)}function Mh(t){return rn(t,vx)}function Cu(t){return rn(t,md)}function w_(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;mx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new wr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oR=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aR(t,e,n){const r=t.store(Zr),s=t.store(cc),i=[],a=IDBKeyRange.only(n.batchId);let u=0;const h=r.ee({range:a},((m,g,v)=>(u++,v.delete())));i.push(h.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const d=[];for(const m of n.mutations){const g=ZA(e,m.key.path,n.batchId);i.push(s.delete(g)),d.push(m.key)}return Q.waitFor(i).next((()=>d))}function xg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Te(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(oR,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class my{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ie(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new my(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).ee({index:nl,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Wu(e),a=_o(e);return a.add({}).next((u=>{Ie(typeof u=="number",49019);const h=new _x(u,n,r,s),d=(function(v,E,_){const k=_.baseMutations.map((P=>vg(v.yt,P))),I=_.mutations.map((P=>vg(v.yt,P)));return{userId:E,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:k,mutations:I}})(this.serializer,this.userId,h),m=[];let g=new at(((v,E)=>Fe(v.canonicalString(),E.canonicalString())));for(const v of s){const E=ZA(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),m.push(a.put(d)),m.push(i.put(E,rU))}return g.forEach((v=>{m.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=h.keys()})),Q.waitFor(m).next((()=>h))}))}lookupMutationBatch(e,n){return _o(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Za(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return _o(e).ee({index:nl,range:s},((a,u,h)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),i=Za(this.serializer,u)),h.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=al;return _o(e).ee({index:nl,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,al],[this.userId,Number.POSITIVE_INFINITY]);return _o(e).J(nl,n).next((r=>r.map((s=>Za(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Rm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Wu(e).ee({range:s},((a,u,h)=>{const[d,m,g]=a,v=Ns(m);if(d===this.userId&&n.path.isEqual(v))return _o(e).get(g).next((E=>{if(!E)throw Te(61480,{nr:a,batchId:g});Ie(E.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:E.userId,batchId:g}),i.push(Za(this.serializer,E))}));h.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(Fe);const s=[];return n.forEach((i=>{const a=Rm(this.userId,i.path),u=IDBKeyRange.lowerBound(a),h=Wu(e).ee({range:u},((d,m,g)=>{const[v,E,_]=d,k=Ns(E);v===this.userId&&i.path.isEqual(k)?r=r.add(_):g.done()}));s.push(h)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Rm(this.userId,r),a=IDBKeyRange.lowerBound(i);let u=new at(Fe);return Wu(e).ee({range:a},((h,d,m)=>{const[g,v,E]=h,_=Ns(v);g===this.userId&&r.isPrefixOf(_)?_.length===s&&(u=u.add(E)):m.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(_o(e).get(i).next((a=>{if(a===null)throw Te(35274,{batchId:i});Ie(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(Za(this.serializer,a))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return aR(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return Wu(e).ee({range:r},((i,a,u)=>{if(i[0]===this.userId){const h=Ns(i[1]);s.push(h)}else u.done()})).next((()=>{Ie(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return lR(e,this.userId,n)}_r(e){return uR(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:al,lastStreamToken:""}))}}function lR(t,e,n){const r=Rm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Wu(t).ee({range:i,X:!0},((u,h,d)=>{const[m,g,v]=u;m===e&&g===s&&(a=!0),d.done()})).next((()=>a))}function _o(t){return rn(t,Zr)}function Wu(t){return rn(t,cc)}function uR(t){return rn(t,Dd)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Sl(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ae.fromTimestamp(new We(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Au(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Au(e).ee(((a,u)=>{const h=ad(u);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,i.push(this.removeTargetData(e,h)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Au(e).ee(((r,s)=>{const i=ad(s);n(i)}))}lr(e){return x_(e).get(dg).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return x_(e).put(dg,n)}Pr(e,n){return Au(e).put(nR(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=wl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Au(e).ee({range:s,index:tP},((a,u,h)=>{const d=ad(u);df(n,d.target)&&(i=d,h.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Uo(e);return n.forEach((a=>{const u=Rn(a.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,a))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Uo(e);return Q.forEach(n,(i=>{const a=Rn(i.path);return Q.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Uo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Uo(e);let i=Ge();return s.ee({range:r,X:!0},((a,u,h)=>{const d=Ns(a[1]),m=new de(d);i=i.add(m)})).next((()=>i))}containsKey(e,n){const r=Rn(n.path),s=IDBKeyRange.bound([r],[HA(r)],!1,!0);let i=0;return Uo(e).ee({index:yx,X:!0,range:s},(([a,u],h,d)=>{a!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return Au(e).get(n).next((r=>r?ad(r):null))}}function Au(t){return rn(t,hc)}function x_(t){return rn(t,ll)}function Uo(t){return rn(t,dc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S_="LruGarbageCollector",PV=1048576;function E_([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class RV{constructor(e){this.Ir=e,this.buffer=new at(E_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(S_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ia(n)?le(S_,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)}))}}class NV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Or.ce);const r=new RV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(b_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,u,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),qu()<=Ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(u-a)+`ms
	Removed ${i} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function hR(t,e){return new NV(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class DV{constructor(e,n){this.db=e,this.garbageCollector=hR(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return tm(e,r)}removeReference(e,n,r){return tm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return tm(e,n)}br(e,n){return(function(r,s){let i=!1;return uR(r).te((a=>lR(r,a,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,u)=>{if(u<=n){const h=this.br(e,a).next((d=>{if(!d)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ae.min()),Uo(e).delete((function(m){return[0,Rn(m.path)]})(a)))))}));s.push(h)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return tm(e,n)}Sr(e,n){const r=Uo(e);let s,i=Or.ce;return r.ee({index:yx},(([a,u],{path:h,sequenceNumber:d})=>{a===0?(i!==Or.ce&&n(new de(Ns(s)),i),i=d,s=h):i=Or.ce})).next((()=>{i!==Or.ce&&n(new de(Ns(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tm(t,e){return Uo(t).put((function(n,r){return{targetId:0,path:Rn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class dR{constructor(){this.changes=new Bi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class OV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ma(e).put(r)}removeEntry(e,n,r){return Ma(e).delete((function(s,i){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],wg(i),a[a.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Nt.newInvalidDocument(n);return Ma(e).ee({index:Nm,range:IDBKeyRange.only(Lh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:Nt.newInvalidDocument(n)};return Ma(e).ee({index:Nm,range:IDBKeyRange.only(Lh(n))},((s,i)=>{r={document:this.Cr(n,i),size:xg(i)}})).next((()=>r))}getEntries(e,n){let r=gr();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=gr(),s=new St(de.comparator);return this.Fr(e,n,((i,a)=>{const u=this.Cr(i,a);r=r.insert(i,u),s=s.insert(i,xg(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new at(__);n.forEach((h=>s=s.add(h)));const i=IDBKeyRange.bound(Lh(s.first()),Lh(s.last())),a=s.getIterator();let u=a.getNext();return Ma(e).ee({index:Nm,range:i},((h,d,m)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&__(u,g)<0;)r(u,null),u=a.getNext();u&&u.isEqual(g)&&(r(u,d),u=a.hasNext()?a.getNext():null),u?m.j(Lh(u)):m.done()})).next((()=>{for(;u;)r(u,null),u=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,u=[a.popLast().toArray(),a.lastSegment(),wg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ma(e).J(IDBKeyRange.bound(u,h,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let m=gr();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(pf(n,v)||s.has(v.key))&&(m=m.insert(v.key,v))}return m}))}getAllFromCollectionGroup(e,n,r,s){let i=gr();const a=k_(n,r),u=k_(n,wr.max());return Ma(e).ee({index:eP,range:IDBKeyRange.bound(a,u,!0)},((h,d,m)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&m.done()})).next((()=>i))}newChangeBuffer(e){return new MV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return T_(e).get(Mw).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return T_(e).put(Mw,n)}Cr(e,n){if(n){const r=wV(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ae.min())))return r}return Nt.newInvalidDocument(e)}}function fR(t){return new OV(t)}class MV extends dR{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Bi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new at(((i,a)=>Fe(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),a.isValidDocument()){const h=a_(this.Nr.serializer,a);s=s.add(i.path.popLast());const d=xg(h);r+=d-u.size,n.push(this.Nr.addEntry(e,i,h))}else if(r-=u.size,this.trackRemovals){const h=a_(this.Nr.serializer,a.convertToNoDocument(Ae.min()));n.push(this.Nr.addEntry(e,i,h))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function T_(t){return rn(t,Od)}function Ma(t){return rn(t,hg)}function Lh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function k_(t,e){const n=e.documentKey.path.toArray();return[t,wg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function __(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class pR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&bd(r.mutation,s,Zn.empty(),We.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const s=Ds();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=id();return i.forEach(((u,h)=>{a=a.insert(u,h.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,u)=>{n.set(a,u)}))}))}computeViews(e,n,r,s){let i=gr();const a=wd(),u=(function(){return wd()})();return n.forEach(((h,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof zi)?i=i.insert(d.key,d):m!==void 0?(a.set(d.key,m.mutation.getFieldMask()),bd(m.mutation,d,m.mutation.getFieldMask(),We.now())):a.set(d.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,i).next((h=>(h.forEach(((d,m)=>a.set(d,m))),n.forEach(((d,m)=>u.set(d,new LV(m,a.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=wd();let s=new St(((a,u)=>a-u)),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const u of a)u.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Zn.empty();m=u.applyToLocalView(d,m),r.set(h,m);const g=(s.get(u.batchId)||Ge()).add(h);s=s.insert(u.batchId,g)}))})).next((()=>{const a=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,m=h.value,g=RP();m.forEach((v=>{if(!i.has(v)){const E=FP(n.get(v),r.get(v));E!==null&&g.set(v,E),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_P(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ds());let u=Pd,h=i;return a.next((d=>Q.forEach(d,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(m)?Q.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,h,d,Ge()))).next((m=>({batchId:u,changes:PP(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=id();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=id();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(h=>{const d=(function(m,g){return new Cc(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((m=>{m.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((h,d)=>{const m=d.getKey();a.get(m)===null&&(a=a.insert(m,Nt.newInvalidDocument(m)))}));let u=id();return a.forEach(((h,d)=>{const m=i.get(h);m!==void 0&&bd(m.mutation,d,Zn.empty(),We.now()),pf(n,d)&&(u=u.insert(h,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Fn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:rR(r.bundledQuery),readTime:Fn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FV{constructor(){this.overlays=new St(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ds();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ds(),i=n.length+1,a=new de(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St(((d,m)=>d-m));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=i.get(d.largestBatchId);m===null&&(m=Ds(),i=i.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Ds(),h=i.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,m)=>u.set(d,m))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Cx(n,r));let i=this.qr.get(n);i===void 0&&(i=Ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UV{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dx{constructor(){this.Qr=new at(un.$r),this.Ur=new at(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new un(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new st([])),r=new un(n,e),s=new un(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new st([])),r=new un(n,e),s=new un(n,e+1);let i=Ge();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new un(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class VV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new at(un.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _x(i,n,r,s);this.mutationQueue.push(a);for(const u of s)this.Zr=this.Zr.add(new un(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?al:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),s=new un(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const u=this.Xr(a.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(Fe);return n.forEach((s=>{const i=new un(s,0),a=new un(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const a=new un(new de(i),0);let u=new at(Fe);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(h.Yr)),!0)}),a),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new un(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new un(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class BV{constructor(e){this.ri=e,this.docs=(function(){return new St(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nt.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gr();const a=n.path,u=new de(a.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||mx(QA(m),r)<=0||(s.has(m.key)||pf(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Te(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new zV(this)}getSize(e){return Q.resolve(this.size)}}class zV extends dR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $V{constructor(e){this.persistence=e,this.si=new Bi((n=>wl(n)),df),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Dx,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ox{constructor(e,n){this.ui={},this.overlays={},this.ci=new Or(0),this.li=!1,this.li=!0,this.hi=new UV,this.referenceDelegate=e(this),this.Pi=new $V(this),this.indexManager=new IV,this.remoteDocumentCache=(function(r){return new BV(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new tR(n),this.Ii=new jV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new VV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new qV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class qV extends XA{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ri=new Dx,this.Vi=null}static mi(e){return new gy(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sg{constructor(e,n){this.persistence=e,this.pi=new Bi((r=>Rn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=hR(this,n)}static mi(e,n){return new Sg(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((u=>{u||(r++,i.removeEntry(a,Ae.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Om(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class GV{constructor(e){this.serializer=e}k(e,n,r,s){const i=new ny("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(hf)})(e),(function(u){u.createObjectStore(Dd,{keyPath:nU}),u.createObjectStore(Zr,{keyPath:jk,autoIncrement:!0}).createIndex(nl,Fk,{unique:!0}),u.createObjectStore(cc)})(e),I_(e),(function(u){u.createObjectStore(Wa)})(e));let a=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(dc),u.deleteObjectStore(hc),u.deleteObjectStore(ll)})(e),I_(e)),a=a.next((()=>(function(u){const h=u.store(ll),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ae.min().toTimestamp(),targetCount:0};return h.put(dg,d)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,h){return h.store(Zr).J().next((d=>{u.deleteObjectStore(Zr),u.createObjectStore(Zr,{keyPath:jk,autoIncrement:!0}).createIndex(nl,Fk,{unique:!0});const m=h.store(Zr),g=d.map((v=>m.put(v)));return Q.waitFor(g)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore(fc,{keyPath:hU})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore(Od)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore(sy,{keyPath:dU})})(e),(function(u){u.createObjectStore(iy,{keyPath:fU})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const h=u.createObjectStore(oy,{keyPath:bU});h.createIndex(jw,xU,{unique:!1}),h.createIndex(sP,SU,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const h=u.createObjectStore(hg,{keyPath:sU});h.createIndex(Nm,iU),h.createIndex(eP,oU)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Wa)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore(vx,{keyPath:pU,autoIncrement:!0}).createIndex(Lw,mU,{unique:!1}),u.createObjectStore(md,{keyPath:gU}).createIndex(nP,yU,{unique:!1}),u.createObjectStore(gd,{keyPath:vU}).createIndex(rP,wU,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(md).clear()})).next((()=>{n.objectStore(gd).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore(wx,{keyPath:EU})})(e)}))),r<18&&s>=18&&Y2()&&(a=a.next((()=>{n.objectStore(md).clear()})).next((()=>{n.objectStore(gd).clear()}))),a}wi(e){let n=0;return e.store(Wa).ee(((r,s)=>{n+=xg(s)})).next((()=>{const r={byteSize:n};return e.store(Od).put(Mw,r)}))}yi(e){const n=e.store(Dd),r=e.store(Zr);return n.J().next((s=>Q.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,al],[i.userId,i.lastAcknowledgedBatchId]);return r.J(nl,a).next((u=>Q.forEach(u,(h=>{Ie(h.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:h.batchId});const d=Za(this.serializer,h);return aR(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(dc),r=e.store(Wa);return e.store(ll).get(dg).next((s=>{const i=[];return r.ee(((a,u)=>{const h=new st(a),d=(function(m){return[0,Rn(m)]})(h);i.push(n.get(d).next((m=>m?Q.resolve():(g=>n.put({targetId:0,path:Rn(g),sequenceNumber:s.highestListenSequenceNumber}))(h))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Md,{keyPath:cU});const r=n.store(Md),s=new Nx,i=a=>{if(s.add(a)){const u=a.lastSegment(),h=a.popLast();return r.put({collectionId:u,parent:Rn(h)})}};return n.store(Wa).ee({X:!0},((a,u)=>{const h=new st(a);return i(h.popLast())})).next((()=>n.store(cc).ee({X:!0},(([a,u,h],d)=>{const m=Ns(u);return i(m.popLast())}))))}Di(e){const n=e.store(hc);return n.ee(((r,s)=>{const i=ad(s),a=nR(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(Wa),s=[];return r.ee(((i,a)=>{const u=n.store(hg),h=(function(m){return m.document?new de(st.fromString(m.document.name).popFirst(5)):m.noDocument?de.fromSegments(m.noDocument.path):m.unknownDocument?de.fromSegments(m.unknownDocument.path):Te(36783)})(a).path.toArray(),d={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(Zr),s=fR(this.serializer),i=new Ox(gy.mi,this.serializer.yt);return r.J().next((a=>{const u=new Map;return a.forEach((h=>{let d=u.get(h.userId)??Ge();Za(this.serializer,h).keys().forEach((m=>d=d.add(m))),u.set(h.userId,d)})),Q.forEach(u,((h,d)=>{const m=new gn(d),g=py.wt(this.serializer,m),v=i.getIndexManager(m),E=my.wt(m,this.serializer,v,i.referenceDelegate);return new pR(s,E,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Fw(n,Or.ce),h).next()}))}))}}function I_(t){t.createObjectStore(dc,{keyPath:lU}).createIndex(yx,uU,{unique:!0}),t.createObjectStore(hc,{keyPath:"targetId"}).createIndex(tP,aU,{unique:!0}),t.createObjectStore(ll)}const Io="IndexedDbPersistence",_0=18e5,I0=5e3,C0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",HV="main";class Mx{constructor(e,n,r,s,i,a,u,h,d,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=u,this.xi=d,this.Oi=m,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!Mx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DV(this,s),this.$i=n+HV,this.serializer=new tR(h),this.Ui=new qo(this.$i,this.Ni,new GV(this.serializer)),this.hi=new xV,this.Pi=new AV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fR(this.serializer),this.Ii=new bV,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,m===!1&&On(Io,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,C0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Or(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>nm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ia(e))return le(Io,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Io,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return jh(e).get(Tu).next((n=>Q.resolve(this.es(n))))}ts(e){return nm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,_0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=rn(n,fc);return r.J().next((s=>{const i=this.ss(s,_0),a=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(a,(u=>r.delete(u.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):jh(e).get(Tu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,I0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,C0);return!1}}return!(!this.networkEnabled||!this.inForeground)||nm(e).J().next((r=>this.ss(r,I0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||a&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Io,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[hf,fc],(e=>{const n=new Fw(e,Or.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>nm(e).J().next((n=>this.ss(n,_0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return my.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new CV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return py.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Io,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?_U:u===17?lP:u===16?kU:u===15?bx:u===14?aP:u===13?oP:u===12?TU:u===11?iP:void Te(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(u=>(a=new Fw(u,this.ci?this.ci.next():Or.ce),n==="readwrite-primary"?this.Hi(a).next((h=>!!h||this.Yi(a))).next((h=>{if(!h)throw On(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,YA);return r(a)})).next((h=>this.Xi(a).next((()=>h)))):this.Is(a).next((()=>r(a)))))).then((u=>(a.raiseOnCommittedEvent(),u)))}Is(e){return jh(e).get(Tu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,I0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,C0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jh(e).put(Tu,n)}static v(){return qo.v()}Zi(e){const n=jh(e);return n.get(Tu).next((r=>this.es(r)?(le(Io,"Releasing primary lease."),n.delete(Tu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(On(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;Q2()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Io,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return On(Io,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){On("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jh(t){return rn(t,hf)}function nm(t){return rn(t,fc)}function KV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ge(),s=Ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class mR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Q2()?8:JA(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new WV;return this.Ss(e,n,a).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,a,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(qu()<=Ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(qu()<=Ke.DEBUG&&le("QueryEngine","Query:",Gu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qu()<=Ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):Q.resolve())}ys(e,n){if(Xk(n))return Q.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=gg(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=Ge(...i);return this.ps.getDocuments(e,a).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,u);return this.Cs(n,d,a,h.readTime)?this.ys(e,gg(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,s){return Xk(n)||s.isEqual(Ae.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Q.resolve(null):(qu()<=Ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gu(n)),this.vs(e,a,n,QF(s,Pd)).next((u=>u)))}))}Ds(e,n){let r=new at(CP(e));return n.forEach(((s,i)=>{pf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qu()<=Ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Gu(n)),this.ps.getDocumentsMatchingQuery(e,n,wr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jx="LocalStore",QV=3e8;class YV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new St(Fe),this.xs=new Bi((i=>wl(i)),df),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function gR(t,e,n,r){return new YV(t,e,n,r)}async function yR(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],u=[];let h=Ge();for(const d of s){a.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of i){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:a,addedBatchIds:u})))}))}))}function XV(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,h,d){const m=h.batch,g=m.keys();let v=Q.resolve();return g.forEach((E=>{v=v.next((()=>d.getEntry(u,E))).next((_=>{const k=h.docVersions.get(E);Ie(k!==null,48541),_.version.compareTo(k)<0&&(m.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),d.addEntry(_)))}))})),v.next((()=>a.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=Ge();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function vR(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function JV(t,e){const n=Ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g))));let E=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(g,E),(function(_,k,I){return _.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=QV?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,E,m)&&u.push(n.Pi.updateTargetData(i,E))}));let h=gr(),d=Ge();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),u.push(ZV(i,a,e.documentUpdates).next((m=>{h=m.ks,d=m.qs}))),!r.isEqual(Ae.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(m)}return Q.waitFor(u).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,h,d))).next((()=>h))})).then((i=>(n.Ms=s,i)))}function ZV(t,e,n){let r=Ge(),s=Ge();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=gr();return n.forEach(((u,h)=>{const d=i.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(Ae.min())?(e.removeEntry(u,h.readTime),a=a.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),a=a.insert(u,h)):le(jx,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)})),{ks:a,qs:s}}))}function e9(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=al),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function t9(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new ki(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Jw(t,e,n){const r=Ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!ia(a))throw a;le(jx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function C_(t,e,n){const r=Ue(t);let s=Ae.min(),i=Ge();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,h,d){const m=Ue(u),g=m.xs.get(d);return g!==void 0?Q.resolve(m.Ms.get(g)):m.Pi.getTargetData(h,d)})(r,a,Lr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,u.targetId).next((h=>{i=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Ae.min(),n?i:Ge()))).next((u=>(n9(r,BU(e),u),{documents:u,Qs:i})))))}function n9(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class A_{constructor(){this.activeTargetIds=KU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wR{constructor(){this.Mo=new A_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r9{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P_="ConnectivityMonitor";class R_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(P_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(P_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let rm=null;function Zw(){return rm===null?rm=(function(){return 268435456+Math.round(2147483648*Math.random())})():rm++,"0x"+rm.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A0="RestConnection",s9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=Zw(),u=this.zo(e,n.toUriEncodedString());le(A0,`Sending RPC '${e}' ${a}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,i);const{host:d}=new URL(u),m=Al(d);return this.Jo(e,u,h,r,m).then((g=>(le(A0,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw yl(A0,`RPC '${e}' ${a} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=s9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _n="WebChannelConnection";class a9 extends i9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=Zw();return new Promise(((u,h)=>{const d=new UA;d.setWithCredentials(!0),d.listenOnce(VA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Am.NO_ERROR:const g=d.getResponseJson();le(_n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Am.TIMEOUT:le(_n,`RPC '${e}' ${a} timed out`),h(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const v=d.getStatus();if(le(_n,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const _=E==null?void 0:E.error;if(_&&_.status&&_.message){const k=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(P)>=0?P:te.UNKNOWN})(_.status);h(new ce(k,_.message))}else h(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(_n,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(s);le(_n,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=Zw(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$A(),u=zA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=i.join("");le(_n,`Creating RPC '${e}' stream ${s}: ${m}`,h);const g=a.createWebChannel(m,h);this.I_(g);let v=!1,E=!1;const _=new o9({Yo:I=>{E?le(_n,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(v||(le(_n,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(_n,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},Zo:()=>g.close()}),k=(I,P,R)=>{I.listen(P,(M=>{try{R(M)}catch(V){setTimeout((()=>{throw V}),0)}}))};return k(g,sd.EventType.OPEN,(()=>{E||(le(_n,`RPC '${e}' stream ${s} transport opened.`),_.o_())})),k(g,sd.EventType.CLOSE,(()=>{E||(E=!0,le(_n,`RPC '${e}' stream ${s} transport closed`),_.a_(),this.E_(g))})),k(g,sd.EventType.ERROR,(I=>{E||(E=!0,yl(_n,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),_.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),k(g,sd.EventType.MESSAGE,(I=>{var P;if(!E){const R=I.data[0];Ie(!!R,16349);const M=R,V=(M==null?void 0:M.error)||((P=M[0])==null?void 0:P.error);if(V){le(_n,`RPC '${e}' stream ${s} received error:`,V);const z=V.status;let K=(function(C){const N=Qt[C];if(N!==void 0)return BP(N)})(z),D=V.message;K===void 0&&(K=te.INTERNAL,D="Unknown error status: "+z+" with message "+V.message),E=!0,_.a_(new ce(K,D)),g.close()}else le(_n,`RPC '${e}' stream ${s} received:`,R),_.u_(R)}})),k(u,BA.STAT_EVENT,(I=>{I.stat===Nw.PROXY?le(_n,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Nw.NOPROXY&&le(_n,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function l9(){return typeof window<"u"?window:null}function Um(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yy(t){return new uV(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const N_="PersistentStream";class xR{constructor(e,n,r,s,i,a,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u9 extends xR{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dV(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ae.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Ae.min():i.readTime?Fn(i.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Kw(this.serializer),n.addTarget=(function(s,i){let a;const u=i.target;if(a=pg(u)?{documents:QP(s,u)}:{query:YP(s,u).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=qP(s,i.resumeToken);const h=Gw(s,i.expectedCount);h!==null&&(a.expectedCount=h)}else if(i.snapshotVersion.compareTo(Ae.min())>0){a.readTime=xc(s,i.snapshotVersion.toTimestamp());const h=Gw(s,i.expectedCount);h!==null&&(a.expectedCount=h)}return a})(this.serializer,e);const r=pV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Kw(this.serializer),n.removeTarget=e,this.q_(n)}}class c9 extends xR{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fV(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Kw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>vg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h9{}class d9 extends h9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,Hw(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Ho(e,Hw(n,r),s,a,u,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(On(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const El="RemoteStore";class p9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Dl(this)&&(le(El,"Restarting streams for network reachability change."),await(async function(u){const h=Ue(u);h.Ea.add(4),await gf(h),h.Ra.set("Unknown"),h.Ea.delete(4),await vy(h)})(this))}))})),this.Ra=new f9(r,s)}}async function vy(t){if(Dl(t))for(const e of t.da)await e(!0)}async function gf(t){for(const e of t.da)await e(!1)}function SR(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Bx(n)?Vx(n):Pc(n).O_()&&Ux(n,e))}function Fx(t,e){const n=Ue(t),r=Pc(n);n.Ia.delete(e),r.O_()&&ER(n,e),n.Ia.size===0&&(r.O_()?r.L_():Dl(n)&&n.Ra.set("Unknown"))}function Ux(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).Y_(e)}function ER(t,e){t.Va.Ue(e),Pc(t).Z_(e)}function Vx(t){t.Va=new iV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.Ra.ua()}function Bx(t){return Dl(t)&&!Pc(t).x_()&&t.Ia.size>0}function Dl(t){return Ue(t).Ea.size===0}function TR(t){t.Va=void 0}async function m9(t){t.Ra.set("Online")}async function g9(t){t.Ia.forEach(((e,n)=>{Ux(t,e)}))}async function y9(t,e){TR(t),Bx(t)?(t.Ra.ha(e),Vx(t)):t.Ra.set("Unknown")}async function v9(t,e,n){if(t.Ra.set("Online"),e instanceof $P&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const a of s.targetIds)r.Ia.has(a)&&(await r.remoteSyncer.rejectListen(a,i),r.Ia.delete(a),r.Va.removeTarget(a))})(t,e)}catch(r){le(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eg(t,r)}else if(e instanceof jm?t.Va.Ze(e):e instanceof zP?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await vR(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const a=s.Va.Tt(i);return a.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,i))}})),a.targetMismatches.forEach(((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(Jt.EMPTY_BYTE_STRING,d.snapshotVersion)),ER(s,u);const m=new ki(d.target,u,h,d.sequenceNumber);Ux(s,m)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){le(El,"Failed to raise snapshot:",r),await Eg(t,r)}}async function Eg(t,e,n){if(!ia(e))throw e;t.Ea.add(1),await gf(t),t.Ra.set("Offline"),n||(n=()=>vR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(El,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vy(t)}))}function kR(t,e){return e().catch((n=>Eg(t,n,e)))}async function yf(t){const e=Ue(t),n=Yo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:al;for(;w9(e);)try{const s=await e9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,b9(e,s)}catch(s){await Eg(e,s)}_R(e)&&IR(e)}function w9(t){return Dl(t)&&t.Ta.length<10}function b9(t,e){t.Ta.push(e);const n=Yo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _R(t){return Dl(t)&&!Yo(t).x_()&&t.Ta.length>0}function IR(t){Yo(t).start()}async function x9(t){Yo(t).ra()}async function S9(t){const e=Yo(t);for(const n of t.Ta)e.ea(n.mutations)}async function E9(t,e,n){const r=t.Ta.shift(),s=Ix.from(r,e,n);await kR(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await yf(t)}async function T9(t,e){e&&Yo(t).X_&&await(async function(n,r){if((function(s){return nV(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();Yo(n).B_(),await kR(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await yf(n)}})(t,e),_R(t)&&IR(t)}async function D_(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),le(El,"RemoteStore received new credentials");const r=Dl(n);n.Ea.add(3),await gf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vy(n)}async function k9(t,e){const n=Ue(t);e?(n.Ea.delete(2),await vy(n)):e||(n.Ea.add(2),await gf(n),n.Ra.set("Unknown"))}function Pc(t){return t.ma||(t.ma=(function(e,n,r){const s=Ue(e);return s.sa(),new u9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:m9.bind(null,t),t_:g9.bind(null,t),r_:y9.bind(null,t),H_:v9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Bx(t)?Vx(t):t.Ra.set("Unknown")):(await t.ma.stop(),TR(t))}))),t.ma}function Yo(t){return t.fa||(t.fa=(function(e,n,r){const s=Ue(e);return s.sa(),new c9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:x9.bind(null,t),r_:T9.bind(null,t),ta:S9.bind(null,t),na:E9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await yf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(El,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class zx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,u=new zx(e,n,a,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $x(t,e){if(On("AsyncQueue",`${e}: ${t}`),ia(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sc{static emptySet(e){return new sc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=id(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class O_{constructor(){this.ga=new St(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sc{constructor(e,n,r,s,i,a,u,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((u=>{a.push({type:0,doc:u})})),new Sc(e,n,sc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I9{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Ue(e),s=r.queries;r.queries=M_(),s.forEach(((i,a)=>{for(const u of a.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function M_(){return new Bi((t=>IP(t)),uy)}async function qx(t,e){const n=Ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new _9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const u=$x(a,`Initialization of query '${Gu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Hx(n)}async function Gx(t,e){const n=Ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function C9(t,e){const n=Ue(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const u of a.Sa)u.Fa(s)&&(r=!0);a.wa=s}}r&&Hx(n)}function A9(t,e,n){const r=Ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Hx(t){t.Ca.forEach((e=>{e.next()}))}var eb,L_;(L_=eb||(eb={})).Ma="default",L_.Cache="cache";class Kx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class CR{constructor(e){this.key=e}}class AR{constructor(e){this.key=e}}class P9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=CP(e),this.tu=new sc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new O_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const v=s.get(m),E=pf(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let I=!1;v&&E?v.data.isEqual(E.data)?_!==k&&(r.track({type:3,doc:E}),I=!0):this.su(v,E)||(r.track({type:2,doc:E}),I=!0,(h&&this.eu(E,h)>0||d&&this.eu(E,d)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),I=!0):v&&!E&&(r.track({type:1,doc:v}),I=!0,(h||d)&&(u=!0)),I&&(E?(a=a.add(E),i=k?i.add(m):i.delete(m)):(a=a.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((m,g)=>(function(v,E){const _=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:k})}};return _(v)-_(E)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,a.length!==0||d?{snapshot:new Sc(this.query,e.tu,i,a,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new AR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new CR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wx="SyncEngine";class R9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N9{constructor(e){this.key=e,this.hu=!1}}class D9{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Bi((u=>IP(u)),uy),this.Iu=new Map,this.Eu=new Set,this.du=new St(de.comparator),this.Au=new Map,this.Ru=new Dx,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O9(t,e,n=!0){const r=MR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await PR(r,e,n,!0),s}async function M9(t,e){const n=MR(t);await PR(n,e,!0,!1)}async function PR(t,e,n,r){const s=await t9(t.localStore,Lr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await L9(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&SR(t.remoteStore,s),u}async function L9(t,e,n,r,s){t.pu=(g,v,E)=>(async function(_,k,I,P){let R=k.view.ru(I);R.Cs&&(R=await C_(_.localStore,k.query,!1).then((({documents:K})=>k.view.ru(K,R))));const M=P&&P.targetChanges.get(k.targetId),V=P&&P.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(R,_.isPrimaryClient,M,V);return F_(_,k.targetId,z.au),z.snapshot})(t,g,v,E);const i=await C_(t.localStore,e,!0),a=new P9(e,i.Qs),u=a.ru(i.documents),h=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(u,t.isPrimaryClient,h);F_(t,n,d.au);const m=new R9(e,n,a);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function j9(t,e,n){const r=Ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!uy(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jw(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Fx(r.remoteStore,s.targetId),tb(r,s.targetId)})).catch(Nl)):(tb(r,s.targetId),await Jw(r.localStore,s.targetId,!0))}async function F9(t,e){const n=Ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fx(n.remoteStore,r.targetId))}async function U9(t,e,n){const r=LR(t);try{const s=await(function(i,a){const u=Ue(i),h=We.now(),d=a.reduce(((v,E)=>v.add(E.key)),Ge());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let E=gr(),_=Ge();return u.Ns.getEntries(v,d).next((k=>{E=k,E.forEach(((I,P)=>{P.isValidDocument()||(_=_.add(I))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,E))).next((k=>{m=k;const I=[];for(const P of a){const R=eV(P,m.get(P.key).overlayedDocument);R!=null&&I.push(new zi(P.key,R,vP(R.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,I,a)})).next((k=>{g=k;const I=k.applyToLocalDocumentSet(m,_);return u.documentOverlayCache.saveOverlays(v,k.batchId,I)}))})).then((()=>({batchId:g.batchId,changes:PP(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,a,u){let h=i.Vu[i.currentUser.toKey()];h||(h=new St(Fe)),h=h.insert(a,u),i.Vu[i.currentUser.toKey()]=h})(r,s.batchId,n),await vf(r,s.changes),await yf(r.remoteStore)}catch(s){const i=$x(s,"Failed to persist write");n.reject(i)}}async function RR(t,e){const n=Ue(t);try{const r=await JV(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ie(a.hu,14607):s.removedDocuments.size>0&&(Ie(a.hu,42227),a.hu=!1))})),await vf(n,r,e)}catch(r){await Nl(r)}}function j_(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const u=a.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,a){const u=Ue(i);u.onlineState=a;let h=!1;u.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(a)&&(h=!0)})),h&&Hx(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V9(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new St(de.comparator);a=a.insert(i,Nt.newNoDocument(i,Ae.min()));const u=Ge().add(i),h=new fy(Ae.min(),new Map,new St(Fe),a,u);await RR(r,h),r.du=r.du.remove(i),r.Au.delete(e),Qx(r)}else await Jw(r.localStore,e,!1).then((()=>tb(r,e,n))).catch(Nl)}async function B9(t,e){const n=Ue(t),r=e.batch.batchId;try{const s=await XV(n.localStore,e);DR(n,r,null),NR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vf(n,s)}catch(s){await Nl(s)}}async function z9(t,e,n){const r=Ue(t);try{const s=await(function(i,a){const u=Ue(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,a).next((m=>(Ie(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,a))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(r.localStore,e);DR(r,e,n),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vf(r,s)}catch(s){await Nl(s)}}function NR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function DR(t,e,n){const r=Ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function tb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||OR(t,r)}))}function OR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Fx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Qx(t))}function F_(t,e,n){for(const r of n)r instanceof CR?(t.Ru.addReference(r.key,e),$9(t,r)):r instanceof AR?(le(Wx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||OR(t,r.key)):Te(19791,{wu:r})}function $9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(Wx,"New document in limbo: "+n),t.Eu.add(r),Qx(t))}function Qx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(st.fromString(e)),r=t.fu.next();t.Au.set(r,new N9(n)),t.du=t.du.insert(n,r),SR(t.remoteStore,new ki(Lr(ff(n.path)),r,"TargetPurposeLimboResolution",Or.ce))}}async function vf(t,e,n){const r=Ue(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{a.push(r.pu(h,e,n).then((d=>{var m;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Lx.As(h.targetId,d);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(u,h){const d=Ue(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Q.forEach(h,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(m,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))))))}catch(m){if(!ia(m))throw m;le(jx,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const v=d.Ms.get(g),E=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(g,_)}}})(r.localStore,i))}async function q9(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){le(Wx,"User change. New user:",e.toKey());const r=await yR(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((a=>{a.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vf(n,r.Ls)}}function G9(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let s=Ge();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const u=n.Tu.get(a);s=s.unionWith(u.view.nu)}return s}}function MR(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V9.bind(null,e),e.Pu.H_=C9.bind(null,e.eventManager),e.Pu.yu=A9.bind(null,e.eventManager),e}function LR(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z9.bind(null,e),e}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gR(this.persistence,new mR,e.initialUser,this.serializer)}Cu(e){return new Ox(gy.mi,this.serializer)}Du(e){return new wR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class H9 extends zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof Sg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Ox((r=>Sg.mi(r,n)),this.serializer)}}class K9 extends zd{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await LR(this.xu.syncEngine),await yf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return gR(this.persistence,new mR,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new cR(r,e.asyncQueue,n)}Mu(e,n){const r=new ZF(n,this.persistence);return new JF(e.asyncQueue,r)}Cu(e){const n=KV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Mx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,l9(),Um(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new wR}}class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=q9.bind(null,this.syncEngine),await k9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I9})()}createDatastore(e){const n=yy(e.databaseInfo.databaseId),r=(function(s){return new a9(s)})(e.databaseInfo);return(function(s,i,a,u){return new d9(s,i,a,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,a){return new p9(n,r,s,i,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>j_(this.syncEngine,n,0)),(function(){return R_.v()?new R_:new r9})())}createSyncEngine(e,n){return(function(r,s,i,a,u,h,d){const m=new D9(r,s,i,a,u,h);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Ue(r);le(El,"RemoteStore shutting down."),s.Ea.add(5),await gf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Tg.provider={build:()=>new Tg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xo="FirestoreClient";class W9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gn.UNAUTHENTICATED,this.clientId=px.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{le(Xo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(le(Xo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$x(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function P0(t,e){t.asyncQueue.verifyOperationInProgress(),le(Xo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await yR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function U_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q9(t);le(Xo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>D_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>D_(e.remoteStore,s))),t._onlineComponents=e}async function Q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Xo,"Using user provided OfflineComponentProvider");try{await P0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await P0(t,new zd)}}else le(Xo,"Using default OfflineComponentProvider"),await P0(t,new H9(void 0));return t._offlineComponents}async function jR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Xo,"Using user provided OnlineComponentProvider"),await U_(t,t._uninitializedComponentsProvider._online)):(le(Xo,"Using default OnlineComponentProvider"),await U_(t,new Tg))),t._onlineComponents}function Y9(t){return jR(t).then((e=>e.syncEngine))}async function kg(t){const e=await jR(t),n=e.eventManager;return n.onListen=O9.bind(null,e.syncEngine),n.onUnlisten=j9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F9.bind(null,e.syncEngine),n}function X9(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,h){const d=new Yx({next:g=>{d.Nu(),i.enqueueAndForget((()=>Gx(s,m)));const v=g.docs.has(a);!v&&g.fromCache?h.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?h.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Kx(ff(a.path),d,{includeMetadataChanges:!0,qa:!0});return qx(s,m)})(await kg(t),t.asyncQueue,e,n,r))),r.promise}function J9(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,a,u,h){const d=new Yx({next:g=>{d.Nu(),i.enqueueAndForget((()=>Gx(s,m))),g.fromCache&&u.source==="server"?h.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Kx(a,d,{includeMetadataChanges:!0,qa:!0});return qx(s,m)})(await kg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function FR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UR="firestore.googleapis.com",B_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UR,this.ssl=B_}else this.host=e.host,this.ssl=e.ssl??B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PV)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FR(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new FF;switch(n.type){case"firstParty":return new zF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=V_.get(e);n&&(le("ComponentProvider","Removing Datastore"),V_.delete(e),n.terminate())})(this),Promise.resolve()}}function Z9(t,e,n,r={}){var s;t=jn(t,wy);const i=Al(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(ex(`https://${h}`),tx("Firestore",!0)),a.host!==UR&&a.host!==h&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:h,ssl:i,emulatorOptions:r};if(!Ko(d,u)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=gn.MOCK_USER;else{m=K2(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new gn(v)}t._authCredentials=new UF(new GA(m,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ol=class VR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new VR(this.firestore,e,this._query)}};class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cf(n,Dt._jsonSchema))return new Dt(e,r||null,new de(st.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Xt("string",Dt._jsonSchemaVersion),referencePath:Xt("string")};class Go extends Ol{constructor(e,n,r){super(e,n,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new de(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function Vn(t,e,...n){if(t=Ct(t),KA("collection","path",e),t instanceof wy){const r=st.fromString(e,...n);return Nk(r),new Go(t,null,r)}{if(!(t instanceof Dt||t instanceof Go))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Nk(r),new Go(t.firestore,null,r)}}function Ys(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=px.newId()),KA("doc","path",e),t instanceof wy){const r=st.fromString(e,...n);return Rk(r),new Dt(t,null,new de(r))}{if(!(t instanceof Dt||t instanceof Go))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Rk(r),new Dt(t.firestore,t instanceof Go?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $_="AsyncQueue";class q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bR(this,"async_queue_retry"),this._c=()=>{const r=Um();r&&le($_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ia(e))throw e;le($_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,On("INTERNAL UNHANDLED ERROR: ",G_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=zx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function H_(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class qs extends wy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new q_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q_(e),this._firestoreClient=void 0,await e}}}function by(t,e){const n=typeof t=="object"?t:Yg(),r=typeof t=="string"?t:fg,s=ra(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=q2("firestore");i&&Z9(s,...i)}return s}function xy(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BR(t),t._firestoreClient}function BR(t){var e,n,r;const s=t._freezeSettings(),i=(function(a,u,h,d){return new CU(a,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,FR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new W9(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}})(t._componentsProvider))}function eB(t,e){yl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return tB(t,Tg.provider,{build:r=>new K9(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function tB(t,e,n){if((t=jn(t,qs))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},BR(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(Jt.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dr(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cf(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:Xt("string",Dr._jsonSchemaVersion),bytes:Xt("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ey{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(cf(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:Xt("string",Fs._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Us{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cf(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Us(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:Xt("string",Us._jsonSchemaVersion),vectorValues:Xt("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nB=/^__.*__$/;class rB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}class zR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $R(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Xx{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _g(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($R(this.Ac)&&nB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yy(e)}Cc(e,n,r,s=!1){return new Xx({Ac:e,methodName:n,Dc:r,path:kt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(t){const e=t._freezeSettings(),n=yy(t._databaseId);return new sB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qR(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Zx("Data must be an object, but it was:",a,r);const u=GR(r,a);let h,d;if(i.merge)h=new Zn(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=nb(e,g,n);if(!a.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);KR(m,v)||m.push(v)}h=new Zn(m),d=a.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,d=a.fieldTransforms;return new rB(new Cn(u),h,d)}class ky extends Ey{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ky}}class Jx extends Ey{_toFieldTransform(e){return new jP(e.path,new vc)}isEqual(e){return e instanceof Jx}}function iB(t,e,n,r){const s=t.Cc(1,e,n);Zx("Data must be an object, but it was:",s,r);const i=[],a=Cn.empty();oa(r,((h,d)=>{const m=e1(e,h,n);d=Ct(d);const g=s.yc(m);if(d instanceof ky)i.push(m);else{const v=wf(d,g);v!=null&&(i.push(m),a.set(m,v))}}));const u=new Zn(i);return new zR(a,u,s.fieldTransforms)}function oB(t,e,n,r,s,i){const a=t.Cc(1,e,n),u=[nb(e,r,n)],h=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(nb(e,i[v])),h.push(i[v+1]);const d=[],m=Cn.empty();for(let v=u.length-1;v>=0;--v)if(!KR(d,u[v])){const E=u[v];let _=h[v];_=Ct(_);const k=a.yc(E);if(_ instanceof ky)d.push(E);else{const I=wf(_,k);I!=null&&(d.push(E),m.set(E,I))}}const g=new Zn(d);return new zR(m,g,a.fieldTransforms)}function aB(t,e,n,r=!1){return wf(n,t.Cc(r?4:3,e))}function wf(t,e){if(HR(t=Ct(t)))return Zx("Unsupported field value:",e,t),GR(t,e);if(t instanceof Ey)return(function(n,r){if(!$R(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const a of n){let u=wf(a,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WU(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=We.fromDate(n);return{timestampValue:xc(r.serializer,s)}}if(n instanceof We){const s=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xc(r.serializer,s)}}if(n instanceof Fs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dr)return{bytesValue:qP(r.serializer,n._byteString)};if(n instanceof Dt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Px(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Us)return(function(s,i){return{mapValue:{fields:{[Sx]:{stringValue:Ex},[pc]:{arrayValue:{values:s.toArray().map((a=>{if(typeof a!="number")throw i.Sc("VectorValues must only contain numeric values.");return kx(i.serializer,a)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${ty(n)}`)})(t,e)}function GR(t,e){const n={};return uP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,((r,s)=>{const i=wf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Fs||t instanceof Dr||t instanceof Dt||t instanceof Ey||t instanceof Us)}function Zx(t,e,n){if(!HR(n)||!WA(n)){const r=ty(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function nb(t,e,n){if((e=Ct(e))instanceof Sy)return e._internalPath;if(typeof e=="string")return e1(t,e);throw _g("Field path arguments must be of type string or ",t,!1,void 0,n)}const lB=new RegExp("[~\\*/\\[\\]]");function e1(t,e,n){if(e.search(lB)>=0)throw _g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sy(...e.split("."))._internalPath}catch{throw _g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _g(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(i||a)&&(h+=" (found",i&&(h+=` in field ${r}`),a&&(h+=` in document ${s}`),h+=")"),new ce(te.INVALID_ARGUMENT,u+t+h)}function KR(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uB extends WR{data(){return super.data()}}function _y(t,e){return typeof e=="string"?e1(t,e):e instanceof Sy?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function QR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t1{}class n1 extends t1{}function Gs(t,e,...n){let r=[];e instanceof t1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof r1)).length,a=s.filter((u=>u instanceof Iy)).length;if(i>1||i>0&&a>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Iy extends n1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Iy(e,n,r)}_apply(e){const n=this._parse(e);return XR(e._query,n),new Ol(e.firestore,e.converter,qw(e._query,n))}_parse(e){const n=Ty(e.firestore);return(function(r,s,i,a,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){W_(d,h);const g=[];for(const v of d)g.push(K_(a,r,v));m={arrayValue:{values:g}}}else m=K_(a,r,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||W_(d,h),m=aB(i,s,d,h==="in"||h==="not-in");return Qe.create(u,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ts(t,e,n){const r=e,s=_y("where",t);return Iy._create(s,r,n)}class r1 extends t1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const a=s.getFlattenedFilters();for(const u of a)XR(i,u),i=qw(i,u)})(e._query,n),new Ol(e.firestore,e.converter,qw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class s1 extends n1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vd(s,i)})(e._query,this._field,this._direction);return new Ol(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Cc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function bf(t,e="asc"){const n=e,r=_y("orderBy",t);return s1._create(r,n)}class i1 extends n1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new i1(e,n,r)}_apply(e){return new Ol(e.firestore,e.converter,gg(e._query,this._limit,this._limitType))}}function YR(t){return i1._create("limit",t,"F")}function K_(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_P(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fd(t,new de(r))}if(n instanceof Dt)return Fd(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ty(n)}.`)}function W_(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XR(t,e){const n=(function(r,s){for(const i of r)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cB{convertValue(e,n="none"){switch(Wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oa(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[pc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((a=>bt(a.doubleValue)));return new Us(i)}convertGeoPoint(e){return new Fs(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ay(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ie(eR(r),9688,{name:e});const s=new vl(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||On(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function JR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends WR{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:Xt("string",cl._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Vm extends cl{data(e={}){return super.data(e)}}class hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ld(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vm(this._firestore,this._userDataWriter,r.key,r,new ld(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((a=>{const u=new Vm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ld(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const u=new Vm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ld(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return a.type!==0&&(h=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),d=i.indexOf(a.doc.key)),{type:hB(a.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=px.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZR(t){t=jn(t,Dt);const e=jn(t.firestore,qs);return X9(xy(e),t._key).then((n=>tN(e,t,n)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Xt("string",hl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class o1 extends cB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function Hs(t){t=jn(t,Ol);const e=jn(t.firestore,qs),n=xy(e),r=new o1(e);return QR(t._query),J9(n,t._query).then((s=>new hl(e,r,t,s)))}function Cy(t,e,n){t=jn(t,Dt);const r=jn(t.firestore,qs),s=JR(t.converter,e,n);return Ay(r,[qR(Ty(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,An.none())])}function $d(t,e,n,...r){t=jn(t,Dt);const s=jn(t.firestore,qs),i=Ty(s);let a;return a=typeof(e=Ct(e))=="string"||e instanceof Sy?oB(i,"updateDoc",t._key,e,n,r):iB(i,"updateDoc",t._key,e),Ay(s,[a.toMutation(t._key,An.exists(!0))])}function tne(t){return Ay(jn(t.firestore,qs),[new dy(t._key,An.none())])}function a1(t,e){const n=jn(t.firestore,qs),r=Ys(t),s=JR(t.converter,e);return Ay(n,[qR(Ty(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then((()=>r))}function eN(t,...e){var n,r,s;t=Ct(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||H_(e[a])||(i=e[a++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(H_(e[a])){const g=e[a];e[a]=(n=g.next)==null?void 0:n.bind(g),e[a+1]=(r=g.error)==null?void 0:r.bind(g),e[a+2]=(s=g.complete)==null?void 0:s.bind(g)}let h,d,m;if(t instanceof Dt)d=jn(t.firestore,qs),m=ff(t._key.path),h={next:g=>{e[a]&&e[a](tN(d,t,g))},error:e[a+1],complete:e[a+2]};else{const g=jn(t,Ol);d=jn(g.firestore,qs),m=g._query;const v=new o1(d);h={next:E=>{e[a]&&e[a](new hl(d,v,g,E))},error:e[a+1],complete:e[a+2]},QR(t._query)}return(function(g,v,E,_){const k=new Yx(_),I=new Kx(v,k,E);return g.asyncQueue.enqueueAndForget((async()=>qx(await kg(g),I))),()=>{k.Nu(),g.asyncQueue.enqueueAndForget((async()=>Gx(await kg(g),I)))}})(xy(d),m,u,h)}function Ay(t,e){return(function(n,r){const s=new js;return n.asyncQueue.enqueueAndForget((async()=>U9(await Y9(n),r,s))),s.promise})(xy(t),e)}function tN(t,e,n){const r=n.docs.get(e._key),s=new o1(t);return new cl(t,s,e._key,r,new ld(n.hasPendingWrites,n.fromCache),e.converter)}function Mn(){return new Jx("serverTimestamp")}(function(t,e=!0){(function(n){Ic=n})(Rl),ss(new Ur("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new qs(new VF(n.getProvider("auth-internal")),new $F(i,n.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(u.options.projectId,h)})(i,r),i);return s={useFetchStreams:e,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),tr(Ik,Ck,t),tr(Ik,Ck,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const nN="firebasestorage.googleapis.com",dB="storageBucket",fB=120*1e3,pB=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Xs extends Vr{constructor(e,n,r=0){super(R0(e),`Firebase Storage: ${n} (${R0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return R0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ks||(Ks={}));function R0(t){return"storage/"+t}function mB(){const t="An unknown error occurred, please check the error payload for server response.";return new Xs(Ks.UNKNOWN,t)}function gB(){return new Xs(Ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yB(){return new Xs(Ks.CANCELED,"User canceled the upload/download.")}function vB(t){return new Xs(Ks.INVALID_URL,"Invalid URL '"+t+"'.")}function wB(t){return new Xs(Ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q_(t){return new Xs(Ks.INVALID_ARGUMENT,t)}function rN(){return new Xs(Ks.APP_DELETED,"The Firebase app was deleted.")}function bB(t){return new Xs(Ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(r.path==="")return r;throw wB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+s+a,"i"),h={bucket:1,path:3};function d(M){M.path_=decodeURIComponent(M.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${m}/b/${s}/o${v}`,"i"),_={bucket:1,path:3},k=n===nN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",P=new RegExp(`^https?://${k}/${s}/${I}`,"i"),R=[{regex:u,indices:h,postModify:i},{regex:E,indices:_,postModify:d},{regex:P,indices:{bucket:1,path:2},postModify:d}];for(let M=0;M<R.length;M++){const V=R[M],z=V.regex.exec(e);if(z){const K=z[V.indices.bucket];let D=z[V.indices.path];D||(D=""),r=new ns(K,D),V.postModify(r);break}}if(r==null)throw vB(e);return r}}class xB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function SB(t,e,n){let r=1,s=null,i=null,a=!1,u=0;function h(){return u===2}let d=!1;function m(...I){d||(d=!0,e.apply(null,I))}function g(I){s=setTimeout(()=>{s=null,t(E,h())},I)}function v(){i&&clearTimeout(i)}function E(I,...P){if(d){v();return}if(I){v(),m.call(null,I,...P);return}if(h()||a){v(),m.call(null,I,...P);return}r<64&&(r*=2);let R;u===1?(u=2,R=0):R=(r+Math.random())*1e3,g(R)}let _=!1;function k(I){_||(_=!0,v(),!d&&(s!==null?(I||(u=2),clearTimeout(s),g(0)):I||(u=1)))}return g(0),i=setTimeout(()=>{a=!0,k(!0)},n),k}function EB(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function TB(t){return t!==void 0}function Y_(t,e,n,r){if(r<e)throw Q_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Q_(`Invalid value for '${t}'. Expected ${n} or less.`)}function kB(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ig;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ig||(Ig={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function _B(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IB{constructor(e,n,r,s,i,a,u,h,d,m,g,v=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,k)=>{this.resolve_=_,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new sm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const u=i.getErrorCode()===Ig.NO_ERROR,h=i.getStatus();if(!u||_B(h,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===Ig.ABORT;r(!1,new sm(!1,null,m));return}const d=this.successCodes_.indexOf(h)!==-1;r(!0,new sm(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());TB(h)?i(h):i()}catch(h){a(h)}else if(u!==null){const h=mB();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(s.canceled){const h=this.appDelete_?rN():yB();a(h)}else{const h=gB();a(h)}};this.canceled_?n(!1,new sm(!1,null,!0)):this.backoffId_=SB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NB(t,e,n,r,s,i,a=!0,u=!1){const h=kB(t.urlParams),d=t.url+h,m=Object.assign({},t.headers);return PB(m,e),CB(m,n),AB(m,i),RB(m,r),new IB(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function DB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Cg{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Cg(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OB(this._location.path)}get storage(){return this._service}get parent(){const e=DB(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new Cg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bB(e)}}function X_(t,e){const n=e==null?void 0:e[dB];return n==null?null:ns.makeFromBucketSpec(n,t)}function MB(t,e,n,r={}){t.host=`${e}:${n}`;const s=Al(e);s&&(ex(`https://${t.host}/b`),tx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:K2(i,t.app.options.projectId))}class LB{constructor(e,n,r,s,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=nN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fB,this._maxUploadRetryTime=pB,this._requests=new Set,s!=null?this._bucket=ns.makeFromBucketSpec(s,this._host):this._bucket=X_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=X_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new xB(rN());{const a=NB(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const J_="@firebase/storage",Z_="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const sN="storage";function jB(t=Yg(),e){t=Ct(t);const n=ra(t,sN).getImmediate({identifier:e}),r=q2("storage");return r&&FB(n,...r),n}function FB(t,e,n,r={}){MB(t,e,n,r)}function UB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new LB(n,r,s,e,Rl)}function VB(){ss(new Ur(sN,UB,"PUBLIC").setMultipleInstances(!0)),tr(J_,Z_,""),tr(J_,Z_,"esm2020")}VB();const iN="@firebase/installations",l1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oN=1e4,aN=`w:${l1}`,lN="FIS_v2",BB="https://firebaseinstallations.googleapis.com/v1",zB=3600*1e3,$B="installations",qB="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Tl=new Pl($B,qB,GB);function uN(t){return t instanceof Vr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cN({projectId:t}){return`${BB}/projects/${t}/installations`}function hN(t){return{token:t.token,requestStatus:2,expiresIn:KB(t.expiresIn),creationTime:Date.now()}}async function dN(t,e){const n=(await e.json()).error;return Tl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function fN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HB(t,{refreshToken:e}){const n=fN(t);return n.append("Authorization",WB(e)),n}async function pN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function KB(t){return Number(t.replace("s","000"))}function WB(t){return`${lN} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function QB({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cN(t),s=fN(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:lN,appId:t.appId,sdkVersion:aN},u={method:"POST",headers:s,body:JSON.stringify(a)},h=await pN(()=>fetch(r,u));if(h.ok){const d=await h.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:hN(d.authToken)}}else throw await dN("Create Installation",h)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mN(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function YB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const XB=/^[cdef][\w-]{21}$/,rb="";function JB(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=ZB(t);return XB.test(e)?e:rb}catch{return rb}}function ZB(t){return YB(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Py(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gN=new Map;function yN(t,e){const n=Py(t);vN(n,e),e7(n,e)}function vN(t,e){const n=gN.get(t);if(n)for(const r of n)r(e)}function e7(t,e){const n=t7();n&&n.postMessage({key:t,fid:e}),n7()}let rl=null;function t7(){return!rl&&"BroadcastChannel"in self&&(rl=new BroadcastChannel("[Firebase] FID Change"),rl.onmessage=t=>{vN(t.data.key,t.data.fid)}),rl}function n7(){gN.size===0&&rl&&(rl.close(),rl=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r7="firebase-installations-database",s7=1,kl="firebase-installations-store";let N0=null;function u1(){return N0||(N0=eA(r7,s7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(kl)}}})),N0}async function Ag(t,e){const n=Py(t),r=(await u1()).transaction(kl,"readwrite"),s=r.objectStore(kl),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&yN(t,e.fid),e}async function wN(t){const e=Py(t),n=(await u1()).transaction(kl,"readwrite");await n.objectStore(kl).delete(e),await n.done}async function Ry(t,e){const n=Py(t),r=(await u1()).transaction(kl,"readwrite"),s=r.objectStore(kl),i=await s.get(n),a=e(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&yN(t,a.fid),a}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function c1(t){let e;const n=await Ry(t.appConfig,r=>{const s=i7(r),i=o7(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===rb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function i7(t){const e=t||{fid:JB(),registrationStatus:0};return bN(e)}function o7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Tl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=a7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:l7(t)}:{installationEntry:e}}async function a7(t,e){try{const n=await QB(t,e);return Ag(t.appConfig,n)}catch(n){throw uN(n)&&n.customData.serverCode===409?await wN(t.appConfig):await Ag(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function l7(t){let e=await eI(t.appConfig);for(;e.registrationStatus===1;)await mN(100),e=await eI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await c1(t);return r||n}return e}function eI(t){return Ry(t,e=>{if(!e)throw Tl.create("installation-not-found");return bN(e)})}function bN(t){return u7(t)?{fid:t.fid,registrationStatus:0}:t}function u7(t){return t.registrationStatus===1&&t.registrationTime+oN<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function c7({appConfig:t,heartbeatServiceProvider:e},n){const r=h7(t,n),s=HB(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:aN,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(a)},h=await pN(()=>fetch(r,u));if(h.ok){const d=await h.json();return hN(d)}else throw await dN("Generate Auth Token",h)}function h7(t,{fid:e}){return`${cN(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function h1(t,e=!1){let n;const r=await Ry(t.appConfig,s=>{if(!xN(s))throw Tl.create("not-registered");const i=s.authToken;if(!e&&p7(i))return s;if(i.requestStatus===1)return n=d7(t,e),s;{if(!navigator.onLine)throw Tl.create("app-offline");const a=g7(s);return n=f7(t,a),a}});return n?await n:r.authToken}async function d7(t,e){let n=await tI(t.appConfig);for(;n.authToken.requestStatus===1;)await mN(100),n=await tI(t.appConfig);const r=n.authToken;return r.requestStatus===0?h1(t,e):r}function tI(t){return Ry(t,e=>{if(!xN(e))throw Tl.create("not-registered");const n=e.authToken;return y7(n)?{...e,authToken:{requestStatus:0}}:e})}async function f7(t,e){try{const n=await c7(t,e),r={...e,authToken:n};return await Ag(t.appConfig,r),n}catch(n){if(uN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ag(t.appConfig,r)}throw n}}function xN(t){return t!==void 0&&t.registrationStatus===2}function p7(t){return t.requestStatus===2&&!m7(t)}function m7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+zB}function g7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function y7(t){return t.requestStatus===1&&t.requestTime+oN<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function v7(t){const e=t,{installationEntry:n,registrationPromise:r}=await c1(e);return r?r.catch(console.error):h1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function w7(t,e=!1){const n=t;return await b7(n),(await h1(n,e)).token}async function b7(t){const{registrationPromise:e}=await c1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function x7(t){if(!t||!t.options)throw D0("App Configuration");if(!t.name)throw D0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw D0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function D0(t){return Tl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const SN="installations",S7="installations-internal",E7=t=>{const e=t.getProvider("app").getImmediate(),n=x7(e),r=ra(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},T7=t=>{const e=t.getProvider("app").getImmediate(),n=ra(e,SN).getImmediate();return{getId:()=>v7(n),getToken:r=>w7(n,r)}};function k7(){ss(new Ur(SN,E7,"PUBLIC")),ss(new Ur(S7,T7,"PRIVATE"))}k7();tr(iN,l1);tr(iN,l1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Pg="analytics",_7="firebase_id",I7="origin",C7=60*1e3,A7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",d1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Un=new Qg("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const P7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yr=new Pl("analytics","Analytics",P7);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function R7(t){if(!t.startsWith(d1)){const e=yr.create("invalid-gtag-resource",{gtagURL:t});return Un.warn(e.message),""}return t}function EN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function N7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function D7(t,e){const n=N7("firebase-js-sdk-policy",{createScriptURL:R7}),r=document.createElement("script"),s=`${d1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function O7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function M7(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const u=(await EN(n)).find(h=>h.measurementId===s);u&&await e[u.appId]}}catch(u){Un.error(u)}t("config",s,i)}async function L7(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const u=await EN(n);for(const h of a){const d=u.find(g=>g.measurementId===h),m=d&&e[d.appId];if(m)i.push(m);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Un.error(i)}}function j7(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[u,h]=a;await L7(t,e,n,u,h)}else if(i==="config"){const[u,h]=a;await M7(t,e,n,r,u,h)}else if(i==="consent"){const[u,h]=a;t("consent",u,h)}else if(i==="get"){const[u,h,d]=a;t("get",u,h,d)}else if(i==="set"){const[u]=a;t("set",u)}else t(i,...a)}catch(u){Un.error(u)}}return s}function F7(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=j7(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function U7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(d1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V7=30,B7=1e3;class z7{constructor(e={},n=B7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TN=new z7;function $7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function q7(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:$7(r)},i=A7.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let u="";try{const h=await a.json();(e=h.error)!=null&&e.message&&(u=h.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function G7(t,e=TN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw yr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw yr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new W7;return setTimeout(async()=>{u.abort()},C7),kN({appId:r,apiKey:s,measurementId:i},a,u,e)}async function kN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=TN){var i;const{appId:a,measurementId:u}=t;try{await H7(r,e)}catch(h){if(u)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw h}try{const h=await q7(t);return s.deleteThrottleMetadata(a),h}catch(h){const d=h;if(!K7(d)){if(s.deleteThrottleMetadata(a),u)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:u};throw h}const m=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?JT(n,s.intervalMillis,V7):JT(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(a,g),Un.debug(`Calling attemptFetch again in ${m} millis`),kN(t,g,r,s)}}function H7(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function K7(t){if(!(t instanceof Vr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class W7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Q7(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function Y7(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function X7(){if(Wg())try{await rx()}catch(t){return Un.warn(yr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Un.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function J7(t,e,n,r,s,i,a){const u=G7(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Un.error(v)),e.push(u);const h=X7().then(v=>{if(v)return r.getId()}),[d,m]=await Promise.all([u,h]);U7(i)||D7(i,d.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[I7]="firebase",g.update=!0,m!=null&&(g[_7]=m),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Z7{constructor(e){this.app=e}_delete(){return delete ic[this.app.options.appId],Promise.resolve()}}let ic={},nI=[];const rI={};let O0="dataLayer",e8="gtag",sI,f1,iI=!1;function t8(){const t=[];if(nx()&&t.push("This is a browser extension environment."),X2()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=yr.create("invalid-analytics-context",{errorInfo:e});Un.warn(n.message)}}function n8(t,e,n){t8();const r=t.options.appId;if(!r)throw yr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yr.create("no-api-key");if(ic[r]!=null)throw yr.create("already-exists",{id:r});if(!iI){O7(O0);const{wrappedGtag:s,gtagCore:i}=F7(ic,nI,rI,O0,e8);f1=s,sI=i,iI=!0}return ic[r]=J7(t,nI,rI,e,sI,O0,n),new Z7(t)}function _N(t=Yg()){t=Ct(t);const e=ra(t,Pg);return e.isInitialized()?e.getImmediate():r8(t)}function r8(t,e={}){const n=ra(t,Pg);if(n.isInitialized()){const r=n.getImmediate();if(Ko(e,n.getOptions()))return r;throw yr.create("already-initialized")}return n.initialize({options:e})}async function IN(){if(nx()||!X2()||!Wg())return!1;try{return await rx()}catch{return!1}}function s8(t,e,n){t=Ct(t),Y7(f1,ic[t.app.options.appId],e,n).catch(r=>Un.error(r))}function CN(t,e,n,r){t=Ct(t),Q7(f1,ic[t.app.options.appId],e,n,r).catch(s=>Un.error(s))}const oI="@firebase/analytics",aI="0.10.19";function i8(){ss(new Ur(Pg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return n8(r,s,n)},"PUBLIC")),ss(new Ur("analytics-internal",t,"PRIVATE")),tr(oI,aI),tr(oI,aI,"esm2020");function t(e){try{const n=e.getProvider(Pg).getImmediate();return{logEvent:(r,s,i)=>CN(n,r,s,i),setUserProperties:(r,s)=>s8(n,r,s)}}catch(n){throw yr.create("interop-component-reg-failed",{reason:n})}}}i8();const o8={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},os=tA(o8),M0=ey(os),a8=by(os);jB(os);try{eB(a8).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let AN=null;try{IN().then(t=>{t&&(AN=_N(os))}).catch(()=>{})}catch{}const l8=AN;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var lI="popstate";function u8(t={}){function e(r,s){let{pathname:i,search:a,hash:u}=r.location;return sb("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:qd(s)}return h8(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ws(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c8(){return Math.random().toString(36).substring(2,10)}function uI(t,e){return{usr:t.state,key:t.key,idx:e}}function sb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rc(e):e,state:n,key:e&&e.key||r||c8()}}function qd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function h8(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,u="POP",h=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function g(){u="POP";let I=m(),P=I==null?null:I-d;d=I,h&&h({action:u,location:k.location,delta:P})}function v(I,P){u="PUSH";let R=sb(k.location,I,P);d=m()+1;let M=uI(R,d),V=k.createHref(R);try{a.pushState(M,"",V)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(V)}i&&h&&h({action:u,location:k.location,delta:1})}function E(I,P){u="REPLACE";let R=sb(k.location,I,P);d=m();let M=uI(R,d),V=k.createHref(R);a.replaceState(M,"",V),i&&h&&h({action:u,location:k.location,delta:0})}function _(I){return d8(I)}let k={get action(){return u},get location(){return t(s,a)},listen(I){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(lI,g),h=I,()=>{s.removeEventListener(lI,g),h=null}},createHref(I){return e(s,I)},createURL:_,encodeLocation(I){let P=_(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:v,replace:E,go(I){return a.go(I)}};return k}function d8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PN(t,e,n="/"){return f8(t,e,n,!1)}function f8(t,e,n,r){let s=typeof e=="string"?Rc(e):e,i=Di(s.pathname||"/",n);if(i==null)return null;let a=RN(t);p8(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let d=k8(i);u=E8(a[h],d,r)}return u}function RN(t,e=[],n=[],r="",s=!1){let i=(a,u,h=s,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&h)return;It(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Ci([r,m.relativePath]),v=n.concat(m);a.children&&a.children.length>0&&(It(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),RN(a.children,e,v,g,h)),!(a.path==null&&!a.index)&&e.push({path:g,score:x8(g,a.index),routesMeta:v})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))i(a,u);else for(let d of NN(a.path))i(a,u,!0,d)}),e}function NN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=NN(r.join("/")),u=[];return u.push(...a.map(h=>h===""?i:[i,h].join("/"))),s&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function p8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var m8=/^:[\w-]+$/,g8=3,y8=2,v8=1,w8=10,b8=-2,cI=t=>t==="*";function x8(t,e){let n=t.split("/"),r=n.length;return n.some(cI)&&(r+=b8),e&&(r+=y8),n.filter(s=>!cI(s)).reduce((s,i)=>s+(m8.test(i)?g8:i===""?v8:w8),r)}function S8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function E8(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let u=0;u<r.length;++u){let h=r[u],d=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",g=Rg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},m),v=h.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Rg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Ci([i,g.pathname]),pathnameBase:A8(Ci([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Ci([i,g.pathnameBase]))}return a}function Rg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=T8(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},g)=>{if(d==="*"){let E=u[g]||"";a=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const v=u[g];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function T8(t,e=!1,n=!0){Ws(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function k8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ws(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _8(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rc(t):t;return{pathname:n?n.startsWith("/")?n:I8(n,e):e,search:P8(r),hash:R8(s)}}function I8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function L0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DN(t){let e=C8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ON(t,e,n,r=!1){let s;typeof t=="string"?s=Rc(t):(s={...t},It(!s.pathname||!s.pathname.includes("?"),L0("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),L0("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),L0("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,u;if(a==null)u=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let h=_8(s,u),d=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||m)&&(h.pathname+="/"),h}var Ci=t=>t.join("/").replace(/\/\/+/g,"/"),A8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MN=["POST","PUT","PATCH","DELETE"];new Set(MN);var D8=["GET",...MN];new Set(D8);var Nc=S.createContext(null);Nc.displayName="DataRouter";var Ny=S.createContext(null);Ny.displayName="DataRouterState";S.createContext(!1);var LN=S.createContext({isTransitioning:!1});LN.displayName="ViewTransition";var O8=S.createContext(new Map);O8.displayName="Fetchers";var M8=S.createContext(null);M8.displayName="Await";var Js=S.createContext(null);Js.displayName="Navigation";var xf=S.createContext(null);xf.displayName="Location";var $i=S.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var p1=S.createContext(null);p1.displayName="RouteError";function L8(t,{relative:e}={}){It(Sf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(Js),{hash:s,pathname:i,search:a}=Ef(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Ci([n,i])),r.createHref({pathname:u,search:a,hash:s})}function Sf(){return S.useContext(xf)!=null}function qi(){return It(Sf(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(xf).location}var jN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FN(t){S.useContext(Js).static||S.useLayoutEffect(t)}function m1(){let{isDataRoute:t}=S.useContext($i);return t?Q8():j8()}function j8(){It(Sf(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Nc),{basename:e,navigator:n}=S.useContext(Js),{matches:r}=S.useContext($i),{pathname:s}=qi(),i=JSON.stringify(DN(r)),a=S.useRef(!1);return FN(()=>{a.current=!0}),S.useCallback((u,h={})=>{if(Ws(a.current,jN),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=ON(u,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ci([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,s,t])}S.createContext(null);function Ef(t,{relative:e}={}){let{matches:n}=S.useContext($i),{pathname:r}=qi(),s=JSON.stringify(DN(n));return S.useMemo(()=>ON(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function F8(t,e){return UN(t,e)}function UN(t,e,n,r,s){var i;It(Sf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=S.useContext(Js),{matches:u}=S.useContext($i),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let M=v&&v.path||"";VN(m,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=qi(),_;if(e){let M=typeof e=="string"?Rc(e):e;It(g==="/"||((i=M.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=E;let k=_.pathname||"/",I=k;if(g!=="/"){let M=g.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=PN(t,{pathname:I});Ws(v||P!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ws(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=$8(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ci([g,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Ci([g,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),u,n,r,s);return e&&R?S.createElement(xf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function U8(){let t=W8(),e=N8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,a)}var V8=S.createElement(U8,null),B8=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement($i.Provider,{value:this.props.routeContext},S.createElement(p1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z8({routeContext:t,match:e,children:n}){let r=S.useContext(Nc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement($i.Provider,{value:t},n)}function $8(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let d=i.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);It(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:v}=n,E=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||E){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,m,g)=>{let v,E=!1,_=null,k=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,_=m.route.errorElement||V8,u&&(h<0&&g===0?(VN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):h===g&&(E=!0,k=m.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),P=()=>{let R;return v?R=_:E?R=k:m.route.Component?R=S.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=d,S.createElement(z8,{match:m,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?S.createElement(B8,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:P(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):P()},null)}function g1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q8(t){let e=S.useContext(Nc);return It(e,g1(t)),e}function G8(t){let e=S.useContext(Ny);return It(e,g1(t)),e}function H8(t){let e=S.useContext($i);return It(e,g1(t)),e}function y1(t){let e=H8(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function K8(){return y1("useRouteId")}function W8(){var t;let e=S.useContext(p1),n=G8("useRouteError"),r=y1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Q8(){let{router:t}=q8("useNavigate"),e=y1("useNavigate"),n=S.useRef(!1);return FN(()=>{n.current=!0}),S.useCallback(async(r,s={})=>{Ws(n.current,jN),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var hI={};function VN(t,e,n){!e&&!hI[t]&&(hI[t]=!0,Ws(!1,n))}S.memo(Y8);function Y8({routes:t,future:e,state:n,unstable_onError:r}){return UN(t,void 0,n,r,e)}function Vt(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){It(!Sf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=Rc(n));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:v="default"}=n,E=S.useMemo(()=>{let _=Di(h,a);return _==null?null:{location:{pathname:_,search:d,hash:m,state:g,key:v},navigationType:r}},[a,h,d,m,g,v,r]);return Ws(E!=null,`<Router basename="${a}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:S.createElement(Js.Provider,{value:u},S.createElement(xf.Provider,{children:e,value:E}))}function J8({children:t,location:e}){return F8(ib(t),e)}function ib(t,e=[]){let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,ib(r.props.children,i));return}It(r.type===Vt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ib(r.props.children,i)),n.push(a)}),n}var Bm="get",zm="application/x-www-form-urlencoded";function Dy(t){return t!=null&&typeof t.tagName=="string"}function Z8(t){return Dy(t)&&t.tagName.toLowerCase()==="button"}function ez(t){return Dy(t)&&t.tagName.toLowerCase()==="form"}function tz(t){return Dy(t)&&t.tagName.toLowerCase()==="input"}function nz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rz(t,e){return t.button===0&&(!e||e==="_self")&&!nz(t)}var im=null;function sz(){if(im===null)try{new FormData(document.createElement("form"),0),im=!1}catch{im=!0}return im}var iz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function j0(t){return t!=null&&!iz.has(t)?(Ws(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zm}"`),null):t}function oz(t,e){let n,r,s,i,a;if(ez(t)){let u=t.getAttribute("action");r=u?Di(u,e):null,n=t.getAttribute("method")||Bm,s=j0(t.getAttribute("enctype"))||zm,i=new FormData(t)}else if(Z8(t)||tz(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Di(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Bm,s=j0(t.getAttribute("formenctype"))||j0(u.getAttribute("enctype"))||zm,i=new FormData(u,t),!sz()){let{name:d,type:m,value:g}=t;if(m==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Dy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bm,r=null,s=zm,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function az(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cz(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await lz(i,n);return a.links?a.links():[]}return[]}));return pz(r.flat(1).filter(uz).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function dI(t,e,n,r,s,i){let a=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,u=(h,d)=>{var m;return n[d].pathname!==h.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==h.params["*"]};return i==="assets"?e.filter((h,d)=>a(h,d)||u(h,d)):i==="data"?e.filter((h,d)=>{var m;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(a(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hz(t,e,{includeHydrateFallback:n}={}){return dz(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function dz(t){return[...new Set(t)]}function fz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pz(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(fz(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function BN(){let t=S.useContext(Nc);return v1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mz(){let t=S.useContext(Ny);return v1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w1=S.createContext(void 0);w1.displayName="FrameworkContext";function zN(){let t=S.useContext(w1);return v1(t,"You must render this element inside a <HydratedRouter> element"),t}function gz(t,e){let n=S.useContext(w1),[r,s]=S.useState(!1),[i,a]=S.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let k=P=>{P.forEach(R=>{a(R.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),S.useEffect(()=>{if(r){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[r]);let E=()=>{s(!0)},_=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Fh(u,E),onBlur:Fh(h,_),onMouseEnter:Fh(d,E),onMouseLeave:Fh(m,_),onTouchStart:Fh(g,E)}]:[!1,v,{}]}function Fh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yz({page:t,...e}){let{router:n}=BN(),r=S.useMemo(()=>PN(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(wz,{page:t,matches:r,...e}):null}function vz(t){let{manifest:e,routeModules:n}=zN(),[r,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return cz(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function wz({page:t,matches:e,...n}){let r=qi(),{manifest:s,routeModules:i}=zN(),{basename:a}=BN(),{loaderData:u,matches:h}=mz(),d=S.useMemo(()=>dI(t,e,h,s,r,"data"),[t,e,h,s,r]),m=S.useMemo(()=>dI(t,e,h,s,r,"assets"),[t,e,h,s,r]),g=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,k=!1;if(e.forEach(P=>{var R;let M=s.routes[P.route.id];!M||!M.hasLoader||(!d.some(V=>V.route.id===P.route.id)&&P.route.id in u&&(R=i[P.route.id])!=null&&R.shouldRevalidate||M.hasClientLoader?k=!0:_.add(P.route.id))}),_.size===0)return[];let I=az(t,a,"data");return k&&_.size>0&&I.searchParams.set("_routes",e.filter(P=>_.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[a,u,r,s,d,e,t,i]),v=S.useMemo(()=>hz(m,s),[m,s]),E=vz(m);return S.createElement(S.Fragment,null,g.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),E.map(({key:_,link:k})=>S.createElement("link",{key:_,nonce:n.nonce,...k})))}function bz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$N&&(window.__reactRouterVersion="7.9.5")}catch{}function xz({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=u8({window:n,v5Compat:!0}));let s=r.current,[i,a]=S.useState({action:s.action,location:s.location}),u=S.useCallback(h=>{S.startTransition(()=>a(h))},[a]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.createElement(X8,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var qN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=S.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:a,target:u,to:h,preventScrollReset:d,viewTransition:m,...g},v){let{basename:E}=S.useContext(Js),_=typeof h=="string"&&qN.test(h),k,I=!1;if(typeof h=="string"&&_&&(k=h,$N))try{let C=new URL(window.location.href),N=h.startsWith("//")?new URL(C.protocol+h):new URL(h),j=Di(N.pathname,E);N.origin===C.origin&&j!=null?h=j+N.search+N.hash:I=!0}catch{Ws(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=L8(h,{relative:r}),[R,M,V]=gz(n,g),z=kz(h,{replace:i,state:a,target:u,preventScrollReset:d,relative:r,viewTransition:m});function K(C){t&&t(C),C.defaultPrevented||z(C)}let D=S.createElement("a",{...g,...V,href:k||P,onClick:I||s?t:K,ref:bz(v,M),target:u,"data-discover":!_&&e==="render"?"true":void 0});return R&&!_?S.createElement(S.Fragment,null,D,S.createElement(yz,{page:P})):D});ln.displayName="Link";var Sz=S.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:a,children:u,...h},d){let m=Ef(i,{relative:h.relative}),g=qi(),v=S.useContext(Ny),{navigator:E,basename:_}=S.useContext(Js),k=v!=null&&Pz(m)&&a===!0,I=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,P=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(P=P.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&_&&(R=Di(R,_)||R);const M=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let V=P===I||!r&&P.startsWith(I)&&P.charAt(M)==="/",z=R!=null&&(R===I||!r&&R.startsWith(I)&&R.charAt(I.length)==="/"),K={isActive:V,isPending:z,isTransitioning:k},D=V?t:void 0,C;typeof n=="function"?C=n(K):C=[n,V?"active":null,z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(K):s;return S.createElement(ln,{...h,"aria-current":D,className:C,ref:d,style:N,to:i,viewTransition:a},typeof u=="function"?u(K):u)});Sz.displayName="NavLink";var Ez=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Bm,action:u,onSubmit:h,relative:d,preventScrollReset:m,viewTransition:g,...v},E)=>{let _=Cz(),k=Az(u,{relative:d}),I=a.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&qN.test(u),R=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let V=M.nativeEvent.submitter,z=(V==null?void 0:V.getAttribute("formmethod"))||a;_(V||M.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:s,state:i,relative:d,preventScrollReset:m,viewTransition:g})};return S.createElement("form",{ref:E,method:I,action:k,onSubmit:r?h:R,...v,"data-discover":!P&&t==="render"?"true":void 0})});Ez.displayName="Form";function Tz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GN(t){let e=S.useContext(Nc);return It(e,Tz(t)),e}function kz(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let u=m1(),h=qi(),d=Ef(t,{relative:i});return S.useCallback(m=>{if(rz(m,e)){m.preventDefault();let g=n!==void 0?n:qd(h)===qd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[h,u,d,n,r,e,t,s,i,a])}var _z=0,Iz=()=>`__${String(++_z)}__`;function Cz(){let{router:t}=GN("useSubmit"),{basename:e}=S.useContext(Js),n=K8();return S.useCallback(async(r,s={})=>{let{action:i,method:a,encType:u,formData:h,body:d}=oz(r,e);if(s.navigate===!1){let m=s.fetcherKey||Iz();await t.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||a,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||a,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Az(t,{relative:e}={}){let{basename:n}=S.useContext(Js),r=S.useContext($i);It(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Ef(t||".",{relative:e})},a=qi();if(t==null){i.search=a.search;let u=new URLSearchParams(i.search),h=u.getAll("index");if(h.some(d=>d==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ci([n,i.pathname])),qd(i)}function Pz(t,{relative:e}={}){let n=S.useContext(LN);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GN("useViewTransitionState"),s=Ef(t,{relative:e});if(!n.isTransitioning)return!1;let i=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rg(s.pathname,a)!=null||Rg(s.pathname,i)!=null}var b1=F2();const Rz=Xb(b1);function yt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var Tf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nz={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},La,fI,pI,Dz=(pI=class{constructor(){Oe(this,La,Nz),Oe(this,fI,!1)}setTimeoutProvider(t){ge(this,La,t)}setTimeout(t,e){return q(this,La).setTimeout(t,e)}clearTimeout(t){q(this,La).clearTimeout(t)}setInterval(t,e){return q(this,La).setInterval(t,e)}clearInterval(t){q(this,La).clearInterval(t)}},La=new WeakMap,fI=new WeakMap,pI),sl=new Dz;function Oz(t){setTimeout(t,0)}var _l=typeof window>"u"||"Deno"in globalThis;function Jn(){}function Mz(t,e){return typeof t=="function"?t(e):t}function ob(t){return typeof t=="number"&&t>=0&&t!==1/0}function HN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ho(t,e){return typeof t=="function"?t(e):t}function Nr(t,e){return typeof t=="function"?t(e):t}function mI(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:u}=t;if(a){if(r){if(e.queryHash!==x1(a,e.options))return!1}else if(!Hd(e.queryKey,a))return!1}if(n!=="all"){const h=e.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function gI(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gd(e.options.mutationKey)!==Gd(i))return!1}else if(!Hd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function x1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gd)(t)}function Gd(t){return JSON.stringify(t,(e,n)=>lb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hd(t[n],e[n])):!1}var Lz=Object.prototype.hasOwnProperty;function KN(t,e){if(t===e)return t;const n=yI(t)&&yI(e);if(!n&&!(lb(t)&&lb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,a=n?new Array(i):{};let u=0;for(let h=0;h<i;h++){const d=n?h:s[h],m=t[d],g=e[d];if(m===g){a[d]=m,(n?h<r:Lz.call(t,d))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){a[d]=g;continue}const v=KN(m,g);a[d]=v,v===m&&u++}return r===i&&u===r?t:a}function ab(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function yI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lb(t){if(!vI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!vI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vI(t){return Object.prototype.toString.call(t)==="[object Object]"}function jz(t){return new Promise(e=>{sl.setTimeout(e,t)})}function ub(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KN(t,e):e}function Fz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Uz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var S1=Symbol();function WN(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===S1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Vz(t,e){return typeof t=="function"?t(...e):!!t}var Pu,ja,Uh,wI,Bz=(wI=class extends Tf{constructor(){super(),Oe(this,Pu),Oe(this,ja),Oe(this,Uh),ge(this,Uh,t=>{if(!_l&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,ja)||this.setEventListener(q(this,Uh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,ja))==null||t.call(this),ge(this,ja,void 0))}setEventListener(t){var e;ge(this,Uh,t),(e=q(this,ja))==null||e.call(this),ge(this,ja,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Pu)!==t&&(ge(this,Pu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Pu)=="boolean"?q(this,Pu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pu=new WeakMap,ja=new WeakMap,Uh=new WeakMap,wI),E1=new Bz;function cb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var zz=Oz;function $z(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=zz;const i=u=>{e?t.push(u):s(()=>{n(u)})},a=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;e++;try{h=u()}finally{e--,e||a()}return h},batchCalls:u=>(...h)=>{i(()=>{u(...h)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var wn=$z(),Vh,Fa,Bh,bI,qz=(bI=class extends Tf{constructor(){super(),Oe(this,Vh,!0),Oe(this,Fa),Oe(this,Bh),ge(this,Bh,t=>{if(!_l&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,Fa)||this.setEventListener(q(this,Bh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Fa))==null||t.call(this),ge(this,Fa,void 0))}setEventListener(t){var e;ge(this,Bh,t),(e=q(this,Fa))==null||e.call(this),ge(this,Fa,t(this.setOnline.bind(this)))}setOnline(t){q(this,Vh)!==t&&(ge(this,Vh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,Vh)}},Vh=new WeakMap,Fa=new WeakMap,Bh=new WeakMap,bI),Ng=new qz;function Gz(t){return Math.min(1e3*2**t,3e4)}function QN(t){return(t??"online")==="online"?Ng.isOnline():!0}var hb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function YN(t){let e=!1,n=0,r;const s=cb(),i=()=>s.status!=="pending",a=k=>{var I;if(!i()){const P=new hb(k);v(P),(I=t.onCancel)==null||I.call(t,P)}},u=()=>{e=!0},h=()=>{e=!1},d=()=>E1.isFocused()&&(t.networkMode==="always"||Ng.isOnline())&&t.canRun(),m=()=>QN(t.networkMode)&&t.canRun(),g=k=>{i()||(r==null||r(),s.resolve(k))},v=k=>{i()||(r==null||r(),s.reject(k))},E=()=>new Promise(k=>{var I;r=P=>{(i()||d())&&k(P)},(I=t.onPause)==null||I.call(t)}).then(()=>{var k;r=void 0,i()||(k=t.onContinue)==null||k.call(t)}),_=()=>{if(i())return;let k;const I=n===0?t.initialPromise:void 0;try{k=I??t.fn()}catch(P){k=Promise.reject(P)}Promise.resolve(k).then(g).catch(P=>{var R;if(i())return;const M=t.retry??(_l?0:3),V=t.retryDelay??Gz,z=typeof V=="function"?V(n,P):V,K=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,P);if(e||!K){v(P);return}n++,(R=t.onFail)==null||R.call(t,n,P),jz(z).then(()=>d()?void 0:E()).then(()=>{e?v(P):_()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:h,canStart:m,start:()=>(m()?_():E().then(_),s)}}var Ru,xI,XN=(xI=class{constructor(){Oe(this,Ru)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ob(this.gcTime)&&ge(this,Ru,sl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_l?1/0:300*1e3))}clearGcTimeout(){q(this,Ru)&&(sl.clearTimeout(q(this,Ru)),ge(this,Ru,void 0))}},Ru=new WeakMap,xI),Nu,zh,Xr,Du,pn,om,Ou,Cs,vi,SI,Hz=(SI=class extends XN{constructor(t){super(),Oe(this,Cs),Oe(this,Nu),Oe(this,zh),Oe(this,Xr),Oe(this,Du),Oe(this,pn),Oe(this,om),Oe(this,Ou),ge(this,Ou,!1),ge(this,om,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Du,t.client),ge(this,Xr,q(this,Du).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Nu,TI(this.options)),this.state=t.state??q(this,Nu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,pn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,om),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=TI(this.options);e.data!==void 0&&(this.setState(EI(e.data,e.dataUpdatedAt)),ge(this,Nu,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Xr).remove(this)}setData(t,e){const n=ub(this.state.data,t,this.options);return Ze(this,Cs,vi).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Cs,vi).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,pn))==null?void 0:e.promise;return(n=q(this,pn))==null||n.cancel(t),r?r.then(Jn).catch(Jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Nu))}isActive(){return this.observers.some(t=>Nr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ho(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HN(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,pn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,pn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,pn)&&(q(this,Ou)?q(this,pn).cancel({revert:!0}):q(this,pn).cancelRetry()),this.scheduleGc()),q(this,Xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Cs,vi).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,a,u,h,d,m,g,v,E;if(this.state.fetchStatus!=="idle"&&((n=q(this,pn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,pn))return q(this,pn).continueRetry(),q(this,pn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const R=this.observers.find(M=>M.options.queryFn);R&&this.setOptions(R.options)}const _=new AbortController,k=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(ge(this,Ou,!0),_.signal)})},I=()=>{const R=WN(this.options,e),M=(()=>{const V={client:q(this,Du),queryKey:this.queryKey,meta:this.meta};return k(V),V})();return ge(this,Ou,!1),this.options.persister?this.options.persister(R,M,this):R(M)},P=(()=>{const R={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Du),state:this.state,fetchFn:I};return k(R),R})();(r=this.options.behavior)==null||r.onFetch(P,this),ge(this,zh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=P.fetchOptions)==null?void 0:s.meta))&&Ze(this,Cs,vi).call(this,{type:"fetch",meta:(i=P.fetchOptions)==null?void 0:i.meta}),ge(this,pn,YN({initialPromise:e==null?void 0:e.initialPromise,fn:P.fetchFn,onCancel:R=>{R instanceof hb&&R.revert&&this.setState({...q(this,zh),fetchStatus:"idle"}),_.abort()},onFail:(R,M)=>{Ze(this,Cs,vi).call(this,{type:"failed",failureCount:R,error:M})},onPause:()=>{Ze(this,Cs,vi).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Cs,vi).call(this,{type:"continue"})},retry:P.options.retry,retryDelay:P.options.retryDelay,networkMode:P.options.networkMode,canRun:()=>!0}));try{const R=await q(this,pn).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(u=(a=q(this,Xr).config).onSuccess)==null||u.call(a,R,this),(d=(h=q(this,Xr).config).onSettled)==null||d.call(h,R,this.state.error,this),R}catch(R){if(R instanceof hb){if(R.silent)return q(this,pn).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw Ze(this,Cs,vi).call(this,{type:"error",error:R}),(g=(m=q(this,Xr).config).onError)==null||g.call(m,R,this),(E=(v=q(this,Xr).config).onSettled)==null||E.call(v,this.state.data,R,this),R}finally{this.scheduleGc()}}},Nu=new WeakMap,zh=new WeakMap,Xr=new WeakMap,Du=new WeakMap,pn=new WeakMap,om=new WeakMap,Ou=new WeakMap,Cs=new WeakSet,vi=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...JN(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...EI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,zh,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),wn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,Xr).notify({query:this,type:"updated",action:t})})},SI);function JN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function TI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var dr,Je,am,Yn,Mu,$h,Co,Ua,lm,qh,Gh,Lu,ju,Va,Hh,jt,Kh,F0,U0,V0,B0,z0,$0,q0,kI,_I,Kz=(_I=class extends Tf{constructor(t,e){super(),Oe(this,jt),Oe(this,dr),Oe(this,Je),Oe(this,am),Oe(this,Yn),Oe(this,Mu),Oe(this,$h),Oe(this,Co),Oe(this,Ua),Oe(this,lm),Oe(this,qh),Oe(this,Gh),Oe(this,Lu),Oe(this,ju),Oe(this,Va),Oe(this,Hh,new Set),this.options=e,ge(this,dr,t),ge(this,Ua,null),ge(this,Co,cb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),II(q(this,Je),this.options)?Ze(this,jt,Kh).call(this):this.updateResult(),Ze(this,jt,B0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return db(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return db(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,jt,z0).call(this),Ze(this,jt,$0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,dr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nr(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,jt,q0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!ab(this.options,e)&&q(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&CI(q(this,Je),n,this.options,e)&&Ze(this,jt,Kh).call(this),this.updateResult(),r&&(q(this,Je)!==n||Nr(this.options.enabled,q(this,Je))!==Nr(e.enabled,q(this,Je))||Ho(this.options.staleTime,q(this,Je))!==Ho(e.staleTime,q(this,Je)))&&Ze(this,jt,F0).call(this);const s=Ze(this,jt,U0).call(this);r&&(q(this,Je)!==n||Nr(this.options.enabled,q(this,Je))!==Nr(e.enabled,q(this,Je))||s!==q(this,Va))&&Ze(this,jt,V0).call(this,s)}getOptimisticResult(t){const e=q(this,dr).getQueryCache().build(q(this,dr),t),n=this.createResult(e,t);return Qz(this,n)&&(ge(this,Yn,n),ge(this,$h,this.options),ge(this,Mu,q(this,Je).state)),n}getCurrentResult(){return q(this,Yn)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,Co).status==="pending"&&q(this,Co).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,Hh).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,dr).defaultQueryOptions(t),n=q(this,dr).getQueryCache().build(q(this,dr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,jt,Kh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Yn)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,Yn),a=q(this,Mu),u=q(this,$h),h=t!==r?t.state:q(this,am),{state:d}=t;let m={...d},g=!1,v;if(e._optimisticResults){const D=this.hasListeners(),C=!D&&II(t,e),N=D&&CI(t,r,e,s);(C||N)&&(m={...m,...JN(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:E,errorUpdatedAt:_,status:k}=m;v=m.data;let I=!1;if(e.placeholderData!==void 0&&v===void 0&&k==="pending"){let D;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(D=i.data,I=!0):D=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,Gh))==null?void 0:n.state.data,q(this,Gh)):e.placeholderData,D!==void 0&&(k="success",v=ub(i==null?void 0:i.data,D,e),g=!0)}if(e.select&&v!==void 0&&!I)if(i&&v===(a==null?void 0:a.data)&&e.select===q(this,lm))v=q(this,qh);else try{ge(this,lm,e.select),v=e.select(v),v=ub(i==null?void 0:i.data,v,e),ge(this,qh,v),ge(this,Ua,null)}catch(D){ge(this,Ua,D)}q(this,Ua)&&(E=q(this,Ua),v=q(this,qh),_=Date.now(),k="error");const P=m.fetchStatus==="fetching",R=k==="pending",M=k==="error",V=R&&P,z=v!==void 0,K={status:k,fetchStatus:m.fetchStatus,isPending:R,isSuccess:k==="success",isError:M,isInitialLoading:V,isLoading:V,data:v,dataUpdatedAt:m.dataUpdatedAt,error:E,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!R,isLoadingError:M&&!z,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:M&&z,isStale:T1(t,e),refetch:this.refetch,promise:q(this,Co),isEnabled:Nr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=j=>{K.status==="error"?j.reject(K.error):K.data!==void 0&&j.resolve(K.data)},C=()=>{const j=ge(this,Co,K.promise=cb());D(j)},N=q(this,Co);switch(N.status){case"pending":t.queryHash===r.queryHash&&D(N);break;case"fulfilled":(K.status==="error"||K.data!==N.value)&&C();break;case"rejected":(K.status!=="error"||K.error!==N.reason)&&C();break}}return K}updateResult(){const t=q(this,Yn),e=this.createResult(q(this,Je),this.options);if(ge(this,Mu,q(this,Je).state),ge(this,$h,this.options),q(this,Mu).data!==void 0&&ge(this,Gh,q(this,Je)),ab(e,t))return;ge(this,Yn,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,Hh).size)return!0;const i=new Set(s??q(this,Hh));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,Yn)).some(a=>{const u=a;return q(this,Yn)[u]!==t[u]&&i.has(u)})};Ze(this,jt,kI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,jt,B0).call(this)}},dr=new WeakMap,Je=new WeakMap,am=new WeakMap,Yn=new WeakMap,Mu=new WeakMap,$h=new WeakMap,Co=new WeakMap,Ua=new WeakMap,lm=new WeakMap,qh=new WeakMap,Gh=new WeakMap,Lu=new WeakMap,ju=new WeakMap,Va=new WeakMap,Hh=new WeakMap,jt=new WeakSet,Kh=function(t){Ze(this,jt,q0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Jn)),e},F0=function(){Ze(this,jt,z0).call(this);const t=Ho(this.options.staleTime,q(this,Je));if(_l||q(this,Yn).isStale||!ob(t))return;const e=HN(q(this,Yn).dataUpdatedAt,t)+1;ge(this,Lu,sl.setTimeout(()=>{q(this,Yn).isStale||this.updateResult()},e))},U0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},V0=function(t){Ze(this,jt,$0).call(this),ge(this,Va,t),!(_l||Nr(this.options.enabled,q(this,Je))===!1||!ob(q(this,Va))||q(this,Va)===0)&&ge(this,ju,sl.setInterval(()=>{(this.options.refetchIntervalInBackground||E1.isFocused())&&Ze(this,jt,Kh).call(this)},q(this,Va)))},B0=function(){Ze(this,jt,F0).call(this),Ze(this,jt,V0).call(this,Ze(this,jt,U0).call(this))},z0=function(){q(this,Lu)&&(sl.clearTimeout(q(this,Lu)),ge(this,Lu,void 0))},$0=function(){q(this,ju)&&(sl.clearInterval(q(this,ju)),ge(this,ju,void 0))},q0=function(){const t=q(this,dr).getQueryCache().build(q(this,dr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,am,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},kI=function(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,Yn))}),q(this,dr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},_I);function Wz(t,e){return Nr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function II(t,e){return Wz(t,e)||t.state.data!==void 0&&db(t,e,e.refetchOnMount)}function db(t,e,n){if(Nr(e.enabled,t)!==!1&&Ho(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&T1(t,e)}return!1}function CI(t,e,n,r){return(t!==e||Nr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&T1(t,n)}function T1(t,e){return Nr(e.enabled,t)!==!1&&t.isStaleByTime(Ho(e.staleTime,t))}function Qz(t,e){return!ab(t.getCurrentResult(),e)}function AI(t){return{onFetch:(e,n)=>{var r,s,i,a,u;const h=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,m=((a=e.state.data)==null?void 0:a.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},E=0;const _=async()=>{let k=!1;const I=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(e.signal.aborted?k=!0:e.signal.addEventListener("abort",()=>{k=!0}),e.signal)})},P=WN(e.options,e.fetchOptions),R=async(M,V,z)=>{if(k)return Promise.reject();if(V==null&&M.pages.length)return Promise.resolve(M);const K=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:V,direction:z?"backward":"forward",meta:e.options.meta};return I(j),j})(),D=await P(K),{maxPages:C}=e.options,N=z?Uz:Fz;return{pages:N(M.pages,D,C),pageParams:N(M.pageParams,V,C)}};if(d&&m.length){const M=d==="backward",V=M?Yz:PI,z={pages:m,pageParams:g},K=V(h,z);v=await R(z,K,M)}else{const M=t??m.length;do{const V=E===0?g[0]??h.initialPageParam:PI(h,v);if(E>0&&V==null)break;v=await R(v,V),E++}while(E<M)}return v};e.options.persister?e.fetchFn=()=>{var k,I;return(I=(k=e.options).persister)==null?void 0:I.call(k,_,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=_}}}function PI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Yz(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var um,wi,Xn,Fu,bi,Ao,RI,Xz=(RI=class extends XN{constructor(t){super(),Oe(this,bi),Oe(this,um),Oe(this,wi),Oe(this,Xn),Oe(this,Fu),ge(this,um,t.client),this.mutationId=t.mutationId,ge(this,Xn,t.mutationCache),ge(this,wi,[]),this.state=t.state||Jz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,wi).includes(t)||(q(this,wi).push(t),this.clearGcTimeout(),q(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,wi,q(this,wi).filter(e=>e!==t)),this.scheduleGc(),q(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,wi).length||(this.state.status==="pending"?this.scheduleGc():q(this,Xn).remove(this))}continue(){var t;return((t=q(this,Fu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,a,u,h,d,m,g,v,E,_,k,I,P,R,M,V;const z=()=>{Ze(this,bi,Ao).call(this,{type:"continue"})},K={client:q(this,um),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Fu,YN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,K):Promise.reject(new Error("No mutationFn found")),onFail:(N,j)=>{Ze(this,bi,Ao).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{Ze(this,bi,Ao).call(this,{type:"pause"})},onContinue:z,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Xn).canRun(this)}));const D=this.state.status==="pending",C=!q(this,Fu).canStart();try{if(D)z();else{Ze(this,bi,Ao).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,Xn).config).onMutate)==null?void 0:n.call(e,t,this,K));const j=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,K));j!==this.state.context&&Ze(this,bi,Ao).call(this,{type:"pending",context:j,variables:t,isPaused:C})}const N=await q(this,Fu).start();return await((a=(i=q(this,Xn).config).onSuccess)==null?void 0:a.call(i,N,t,this.state.context,this,K)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,N,t,this.state.context,K)),await((m=(d=q(this,Xn).config).onSettled)==null?void 0:m.call(d,N,null,this.state.variables,this.state.context,this,K)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,N,null,t,this.state.context,K)),Ze(this,bi,Ao).call(this,{type:"success",data:N}),N}catch(N){try{throw await((_=(E=q(this,Xn).config).onError)==null?void 0:_.call(E,N,t,this.state.context,this,K)),await((I=(k=this.options).onError)==null?void 0:I.call(k,N,t,this.state.context,K)),await((R=(P=q(this,Xn).config).onSettled)==null?void 0:R.call(P,void 0,N,this.state.variables,this.state.context,this,K)),await((V=(M=this.options).onSettled)==null?void 0:V.call(M,void 0,N,t,this.state.context,K)),N}finally{Ze(this,bi,Ao).call(this,{type:"error",error:N})}}finally{q(this,Xn).runNext(this)}}},um=new WeakMap,wi=new WeakMap,Xn=new WeakMap,Fu=new WeakMap,bi=new WeakSet,Ao=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),wn.batch(()=>{q(this,wi).forEach(n=>{n.onMutationUpdate(t)}),q(this,Xn).notify({mutation:this,type:"updated",action:t})})},RI);function Jz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Po,As,cm,NI,Zz=(NI=class extends Tf{constructor(t={}){super(),Oe(this,Po),Oe(this,As),Oe(this,cm),this.config=t,ge(this,Po,new Set),ge(this,As,new Map),ge(this,cm,0)}build(t,e,n){const r=new Xz({client:t,mutationCache:this,mutationId:++Ew(this,cm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Po).add(t);const e=hm(t);if(typeof e=="string"){const n=q(this,As).get(e);n?n.push(t):q(this,As).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Po).delete(t)){const e=hm(t);if(typeof e=="string"){const n=q(this,As).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,As).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hm(t);if(typeof e=="string"){const n=q(this,As).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=hm(t);if(typeof n=="string"){const r=(e=q(this,As).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){wn.batch(()=>{q(this,Po).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Po).clear(),q(this,As).clear()})}getAll(){return Array.from(q(this,Po))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>gI(e,n))}findAll(t={}){return this.getAll().filter(e=>gI(t,e))}notify(t){wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return wn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Jn))))}},Po=new WeakMap,As=new WeakMap,cm=new WeakMap,NI);function hm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var xi,DI,e$=(DI=class extends Tf{constructor(t={}){super(),Oe(this,xi),this.config=t,ge(this,xi,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??x1(r,e);let i=this.get(s);return i||(i=new Hz({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,xi).has(t.queryHash)||(q(this,xi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,xi).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,xi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,xi).get(t)}getAll(){return[...q(this,xi).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>mI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>mI(t,n)):e}notify(t){wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xi=new WeakMap,DI),Ft,Ba,za,Wh,Qh,$a,Yh,Xh,OI,t$=(OI=class{constructor(t={}){Oe(this,Ft),Oe(this,Ba),Oe(this,za),Oe(this,Wh),Oe(this,Qh),Oe(this,$a),Oe(this,Yh),Oe(this,Xh),ge(this,Ft,t.queryCache||new e$),ge(this,Ba,t.mutationCache||new Zz),ge(this,za,t.defaultOptions||{}),ge(this,Wh,new Map),ge(this,Qh,new Map),ge(this,$a,0)}mount(){Ew(this,$a)._++,q(this,$a)===1&&(ge(this,Yh,E1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ft).onFocus())})),ge(this,Xh,Ng.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Ft).onOnline())})))}unmount(){var t,e;Ew(this,$a)._--,q(this,$a)===0&&((t=q(this,Yh))==null||t.call(this),ge(this,Yh,void 0),(e=q(this,Xh))==null||e.call(this),ge(this,Xh,void 0))}isFetching(t){return q(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Ba).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Ft).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ho(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,a=Mz(e,i);if(a!==void 0)return q(this,Ft).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return wn.batch(()=>q(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Ft).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,Ft);wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Ft);return wn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=wn.batch(()=>q(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Jn).catch(Jn)}invalidateQueries(t,e={}){return wn.batch(()=>(q(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=wn.batch(()=>q(this,Ft).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Ft).build(this,e);return n.isStaleByTime(Ho(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jn).catch(Jn)}fetchInfiniteQuery(t){return t.behavior=AI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jn).catch(Jn)}ensureInfiniteQueryData(t){return t.behavior=AI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ng.isOnline()?q(this,Ba).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Ft)}getMutationCache(){return q(this,Ba)}getDefaultOptions(){return q(this,za)}setDefaultOptions(t){ge(this,za,t)}setQueryDefaults(t,e){q(this,Wh).set(Gd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Wh).values()],n={};return e.forEach(r=>{Hd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,Qh).set(Gd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Qh).values()],n={};return e.forEach(r=>{Hd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,za).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=x1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===S1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,za).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Ft).clear(),q(this,Ba).clear()}},Ft=new WeakMap,Ba=new WeakMap,za=new WeakMap,Wh=new WeakMap,Qh=new WeakMap,$a=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,OI),ZN=S.createContext(void 0),n$=t=>{const e=S.useContext(ZN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},r$=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(ZN.Provider,{value:t,children:e})),eD=S.createContext(!1),s$=()=>S.useContext(eD);eD.Provider;function i$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var o$=S.createContext(i$()),a$=()=>S.useContext(o$),l$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},u$=t=>{S.useEffect(()=>{t.clearReset()},[t])},c$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Vz(n,[t.error,r])),h$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},d$=(t,e)=>t.isLoading&&t.isFetching&&!e,f$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,MI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function p$(t,e,n){var r,s,i,a,u;const h=s$(),d=a$(),m=n$(),g=m.defaultQueryOptions(t);(s=(r=m.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=h?"isRestoring":"optimistic",h$(g),l$(g,d),u$(d);const v=!m.getQueryCache().get(g.queryHash),[E]=S.useState(()=>new e(m,g)),_=E.getOptimisticResult(g),k=!h&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(I=>{const P=k?E.subscribe(wn.batchCalls(I)):Jn;return E.updateResult(),P},[E,k]),()=>E.getCurrentResult(),()=>E.getCurrentResult()),S.useEffect(()=>{E.setOptions(g)},[g,E]),f$(g,_))throw MI(g,E,d);if(c$({result:_,errorResetBoundary:d,throwOnError:g.throwOnError,query:m.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw _.error;if((a=(i=m.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||a.call(i,g,_),g.experimental_prefetchInRender&&!_l&&d$(_,h)){const I=v?MI(g,E,d):(u=m.getQueryCache().get(g.queryHash))==null?void 0:u.promise;I==null||I.catch(Jn).finally(()=>{E.updateResult()})}return g.notifyOnChangeProps?_:E.trackResult(_)}function m$(t,e){return p$(t,Kz)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const g$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var y$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const v$=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...u},h)=>S.createElement("svg",{ref:h,...y$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:tD("lucide",s),...u},[...a.map(([d,m])=>S.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lt=(t,e)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(v$,{ref:i,iconNode:e,className:tD(`lucide-${g$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const w$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],b$=lt("ArrowRight",w$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const x$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],nD=lt("Brain",x$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const S$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E$=lt("Calendar",S$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const T$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k$=lt("ChartColumn",T$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],I$=lt("Check",_$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const C$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A$=lt("ChevronRight",C$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const P$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R$=lt("CircleCheckBig",P$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const N$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],D$=lt("CircleX",N$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],M$=lt("Circle",O$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const L$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],j$=lt("Clock",L$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$m=lt("Crown",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const U$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LI=lt("EyeOff",U$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jI=lt("Eye",V$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],z$=lt("Gamepad2",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],FI=lt("Heart",$$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],G$=lt("House",q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const H$=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],K$=lt("LogOut",H$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W$=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Q$=lt("Menu",W$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Y$=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],X$=lt("PartyPopper",Y$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const J$=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Z$=lt("Rocket",J$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tq=lt("Settings",eq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rq=lt("Shield",nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sq=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],iq=lt("ShoppingBag",sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],rD=lt("Sparkles",oq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const aq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G0=lt("Star",aq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],UI=lt("Trophy",lq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H0=lt("User",uq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],VI=lt("Users",cq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],k1=lt("X",hq);function sD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sD(t))&&(r&&(r+=" "),r+=e);return r}const BI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zI=iD,Oy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const m=n==null?void 0:n[d],g=i==null?void 0:i[d];if(m===null)return null;const v=BI(m)||BI(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,m)=>{let[g,v]=m;return v===void 0||(d[g]=v),d},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:g,className:v,...E}=m;return Object.entries(E).every(_=>{let[k,I]=_;return Array.isArray(I)?I.includes({...i,...u}[k]):{...i,...u}[k]===I})?[...d,g,v]:d},[]);return zI(t,a,h,n==null?void 0:n.class,n==null?void 0:n.className)},_1="-",dq=t=>{const e=pq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(_1);return i[0]===""&&i.length!==1&&i.shift(),oD(i,e)||fq(s)},getConflictingClassGroupIds:(s,i)=>{const a=n[s]||[];return i&&r[s]?[...a,...r[s]]:a}}},oD=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?oD(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(_1);return(n=e.validators.find(({validator:u})=>u(a)))==null?void 0:n.classGroupId},$I=/^\[(.+)\]$/,fq=t=>{if($I.test(t)){const e=$I.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)fb(n[s],r,s,e);return r},fb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:qI(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(mq(s)){fb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{fb(a,qI(e,i),n,r)})})},qI=(t,e)=>{let n=t;return e.split(_1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mq=t=>t.isThemeGetter,gq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},pb="!",mb=":",yq=mb.length,vq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,u=0,h=0,d;for(let _=0;_<s.length;_++){let k=s[_];if(a===0&&u===0){if(k===mb){i.push(s.slice(h,_)),h=_+yq;continue}if(k==="/"){d=_;continue}}k==="["?a++:k==="]"?a--:k==="("?u++:k===")"&&u--}const m=i.length===0?s:s.substring(h),g=wq(m),v=g!==m,E=d&&d>h?d-h:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:E}};if(e){const s=e+mb,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},wq=t=>t.endsWith(pb)?t.substring(0,t.length-1):t.startsWith(pb)?t.substring(1):t,bq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},xq=t=>({cache:gq(t.cacheSize),parseClassName:vq(t),sortModifiers:bq(t),...dq(t)}),Sq=/\s+/,Eq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],u=t.trim().split(Sq);let h="";for(let d=u.length-1;d>=0;d-=1){const m=u[d],{isExternal:g,modifiers:v,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:k}=n(m);if(g){h=m+(h.length>0?" "+h:h);continue}let I=!!k,P=r(I?_.substring(0,k):_);if(!P){if(!I){h=m+(h.length>0?" "+h:h);continue}if(P=r(_),!P){h=m+(h.length>0?" "+h:h);continue}I=!1}const R=i(v).join(":"),M=E?R+pb:R,V=M+P;if(a.includes(V))continue;a.push(V);const z=s(P,I);for(let K=0;K<z.length;++K){const D=z[K];a.push(M+D)}h=m+(h.length>0?" "+h:h)}return h};function Tq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aD(e))&&(r&&(r+=" "),r+=n);return r}const aD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aD(t[r]))&&(n&&(n+=" "),n+=e);return n};function kq(t,...e){let n,r,s,i=a;function a(h){const d=e.reduce((m,g)=>g(m),t());return n=xq(d),r=n.cache.get,s=n.cache.set,i=u,u(h)}function u(h){const d=r(h);if(d)return d;const m=Eq(h,n);return s(h,m),m}return function(){return i(Tq.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,uD=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_q=/^\d+\/\d+$/,Iq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Pq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uu=t=>_q.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Ro=t=>!!t&&Number.isInteger(Number(t)),K0=t=>t.endsWith("%")&&qe(t.slice(0,-1)),Si=t=>Iq.test(t),Nq=()=>!0,Dq=t=>Cq.test(t)&&!Aq.test(t),cD=()=>!1,Oq=t=>Pq.test(t),Mq=t=>Rq.test(t),Lq=t=>!Se(t)&&!Ee(t),jq=t=>Dc(t,fD,cD),Se=t=>lD.test(t),qa=t=>Dc(t,pD,Dq),W0=t=>Dc(t,zq,qe),GI=t=>Dc(t,hD,cD),Fq=t=>Dc(t,dD,Mq),dm=t=>Dc(t,mD,Oq),Ee=t=>uD.test(t),Jh=t=>Oc(t,pD),Uq=t=>Oc(t,$q),HI=t=>Oc(t,hD),Vq=t=>Oc(t,fD),Bq=t=>Oc(t,dD),fm=t=>Oc(t,mD,!0),Dc=(t,e,n)=>{const r=lD.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Oc=(t,e,n=!1)=>{const r=uD.exec(t);return r?r[1]?e(r[1]):n:!1},hD=t=>t==="position"||t==="percentage",dD=t=>t==="image"||t==="url",fD=t=>t==="length"||t==="size"||t==="bg-size",pD=t=>t==="length",zq=t=>t==="number",$q=t=>t==="family-name",mD=t=>t==="shadow",qq=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),r=tn("font-weight"),s=tn("tracking"),i=tn("leading"),a=tn("breakpoint"),u=tn("container"),h=tn("spacing"),d=tn("radius"),m=tn("shadow"),g=tn("inset-shadow"),v=tn("text-shadow"),E=tn("drop-shadow"),_=tn("blur"),k=tn("perspective"),I=tn("aspect"),P=tn("ease"),R=tn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...V(),Ee,Se],K=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],C=()=>[Ee,Se,h],N=()=>[Uu,"full","auto",...C()],j=()=>[Ro,"none","subgrid",Ee,Se],U=()=>["auto",{span:["full",Ro,Ee,Se]},Ro,Ee,Se],$=()=>[Ro,"auto",Ee,Se],L=()=>["auto","min","max","fr",Ee,Se],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ne=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[Uu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,Ee,Se],ne=()=>[...V(),HI,GI,{position:[Ee,Se]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",Vq,jq,{size:[Ee,Se]}],re=()=>[K0,Jh,qa],pe=()=>["","none","full",d,Ee,Se],me=()=>["",qe,Jh,qa],De=()=>["solid","dashed","dotted","double"],Be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,K0,HI,GI],$e=()=>["","none",_,Ee,Se],Ve=()=>["none",qe,Ee,Se],dt=()=>["none",qe,Ee,Se],br=()=>[qe,Ee,Se],xr=()=>[Uu,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Si],breakpoint:[Si],color:[Nq],container:[Si],"drop-shadow":[Si],ease:["in","out","in-out"],font:[Lq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Si],shadow:[Si],spacing:["px",qe],text:[Si],"text-shadow":[Si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uu,Se,Ee,I]}],container:["container"],columns:[{columns:[qe,Se,Ee,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Ro,"auto",Ee,Se]}],basis:[{basis:[Uu,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Uu,"auto","initial","none",Se]}],grow:[{grow:["",qe,Ee,Se]}],shrink:[{shrink:["",qe,Ee,Se]}],order:[{order:[Ro,"first","last","none",Ee,Se]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ne()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Ne(),"baseline"]}],"place-self":[{"place-self":["auto",...Ne()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,Jh,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,W0]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",K0,Se]}],"font-family":[{font:[Uq,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ee,Se]}],"line-clamp":[{"line-clamp":[qe,"none",Ee,W0]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Ee,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Ee,qa]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[qe,"auto",Ee,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ro,Ee,Se],radial:["",Ee,Se],conic:[Ro,Ee,Se]},Bq,Fq]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...De(),"hidden","none"]}],"divide-style":[{divide:[...De(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...De(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Ee,Se]}],"outline-w":[{outline:["",qe,Jh,qa]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",m,fm,dm]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,fm,dm]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[qe,qa]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,fm,dm]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[qe,Ee,Se]}],"mix-blend":[{"mix-blend":[...Be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ee,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Se]}],filter:[{filter:["","none",Ee,Se]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,Ee,Se]}],contrast:[{contrast:[qe,Ee,Se]}],"drop-shadow":[{"drop-shadow":["","none",E,fm,dm]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",qe,Ee,Se]}],"hue-rotate":[{"hue-rotate":[qe,Ee,Se]}],invert:[{invert:["",qe,Ee,Se]}],saturate:[{saturate:[qe,Ee,Se]}],sepia:[{sepia:["",qe,Ee,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Se]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Ee,Se]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Ee,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Ee,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Ee,Se]}],"backdrop-invert":[{"backdrop-invert":["",qe,Ee,Se]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Ee,Se]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Ee,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Ee,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Ee,Se]}],ease:[{ease:["linear","initial",P,Ee,Se]}],delay:[{delay:[qe,Ee,Se]}],animate:[{animate:["none",R,Ee,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Ee,Se]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:br()}],"skew-x":[{"skew-x":br()}],"skew-y":[{"skew-y":br()}],transform:[{transform:[Ee,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xr()}],"translate-x":[{"translate-x":xr()}],"translate-y":[{"translate-y":xr()}],"translate-z":[{"translate-z":xr()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Se]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[qe,Jh,qa,W0]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Gq=kq(qq);function vt(...t){return Gq(iD(t))}function gb(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+gb(r):s}return String(t)}function yb(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+yb(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+yb(s):"")}return String(t)}function nne(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let a=t;a=a.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},h={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,m,g)=>i==="es"?`${m} ${h[g]||"sobre "+g}`:u[g]?`${m==="1"?"one":gb(Number(m))} ${u[g]}${m!=="1"?"s":""}`:`${m} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:m})=>{a=a.replace(d,m)}),a=a.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),a=a.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,m,g,v)=>m&&v?", ":" "),a=a.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const m=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");a=a.replace(m,d+", ")}),n!=="none"){const d=i==="es"?yb:gb;a=a.replace(/\b\d+\b/g,(m,g)=>{const v=parseInt(m,10);if(!Number.isFinite(v))return m;if(n==="all")return d(v);const E=v<=20,_=a[g-1]||"",k=a[g+m.length]||"";return E||_===","||k===","?d(v):m})}return a=a.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),a}const Hq=Oy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pm({className:t,variant:e,...n}){return x.jsx("div",{className:vt(Hq({variant:e}),t),...n})}function KI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ml(...t){return e=>{let n=!1;const r=t.map(s=>{const i=KI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():KI(t[s],null)}}}}function nr(...t){return S.useCallback(Ml(...t),t)}var Kq=Symbol.for("react.lazy"),Dg=Zb[" use ".trim().toString()];function Wq(t){return typeof t=="object"&&t!==null&&"then"in t}function gD(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Kq&&"_payload"in t&&Wq(t._payload)}function Qq(t){const e=Xq(t),n=S.forwardRef((r,s)=>{let{children:i,...a}=r;gD(i)&&typeof Dg=="function"&&(i=Dg(i._payload));const u=S.Children.toArray(i),h=u.find(Zq);if(h){const d=h.props.children,m=u.map(g=>g===h?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(d)?S.cloneElement(d,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Yq=Qq("Slot");function Xq(t){const e=S.forwardRef((n,r)=>{let{children:s,...i}=n;if(gD(s)&&typeof Dg=="function"&&(s=Dg(s._payload)),S.isValidElement(s)){const a=tG(s),u=eG(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ml(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Jq=Symbol("radix.slottable");function Zq(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Jq}function eG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function tG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const nG=Oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),rs=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?Yq:"button";return x.jsx(a,{className:vt(nG({variant:e,size:n,className:t})),ref:i,...s})});rs.displayName="Button";const bn=by(os);ey(os);const yD=async(t,e={})=>{const n=Ys(bn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Mn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Mn(),updated_at:Mn(),...e};await Cy(n,r);const s=(await ZR(n)).data();let i=null;if(s&&s.created_at&&s.created_at.toDate?i=s.created_at.toDate():s&&s.created_at&&s.created_at.seconds&&(i=new Date(s.created_at.seconds*1e3)),i){await $d(n,{trial_start_date:We.fromDate(i),updated_at:Mn()});const a=new Date(i.getTime()+10080*60*1e3);return await $d(n,{trial_expires_at:We.fromDate(a),updated_at:Mn()}),{...s,trial_start_date:We.fromDate(i),trial_expires_at:We.fromDate(a)}}return s||r},vD=async t=>{const e=Ys(bn,"users",t),n=await ZR(e);return n.exists()?{id:n.id,...n.data()}:await yD(t)},mm=async(t,e)=>{const n=Ys(bn,"users",t);await $d(n,{...e,updated_at:Mn()})},rne=async()=>{const t=Vn(bn,"users");return(await Hs(t)).docs.map(e=>({id:e.id,...e.data()}))},sne=async(t,e)=>{const n=Vn(bn,"gameProgress"),r=Ys(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Mn(),...e};return await Cy(r,s),{id:r.id,...s}},ine=async t=>{const e=Vn(bn,"gameProgress"),n=Gs(e,ts("user_email","==",t),bf("completed_at","desc"));return(await Hs(n)).docs.map(r=>({id:r.id,...r.data()}))},one=(t,e)=>{const n=Vn(bn,"gameProgress"),r=Gs(n,ts("user_email","==",t),bf("completed_at","desc"));return eN(r,s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)})},ane=async()=>{const t=Vn(bn,"gameProgress"),e=Gs(t,bf("score","desc"),YR(100));return(await Hs(e)).docs.map(n=>({id:n.id,...n.data()}))},lne=async(t,e)=>{const n=Vn(bn,"dailyChallenges"),r=Ys(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Mn(),...e};return await Cy(r,s),{id:r.id,...s}},une=async t=>{const e=Vn(bn,"dailyChallenges"),n=Gs(e,ts("user_email","==",t),bf("completed_at","desc"));return(await Hs(n)).docs.map(r=>({id:r.id,...r.data()}))},cne=async()=>{const t=Vn(bn,"dailyChallenges"),e=Gs(t,bf("score","desc"),YR(100));return(await Hs(e)).docs.map(n=>({id:n.id,...n.data()}))},hne=async t=>{const e=Vn(bn,"teamChallenges"),n=Gs(e,ts("creator_email","==",t)),r=Gs(e,ts("team_members","array-contains",t)),[s,i]=await Promise.all([Hs(n),Hs(r)]),a=new Map;return s.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>a.set(u.id,{id:u.id,...u.data()})),Array.from(a.values())},dne=async(t,e)=>{const n=Ys(bn,"teamChallenges",t);await $d(n,{...e,updated_at:Mn()})},fne=async(t,e)=>{const n=Vn(bn,"friendConnections"),r=Ys(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Mn()};return await Cy(r,s),{id:r.id,...s}},pne=async t=>{const e=Vn(bn,"friendConnections"),n=Gs(e,ts("user_email","==",t),ts("status","==","accepted")),r=Gs(e,ts("friend_email","==",t),ts("status","==","accepted")),[s,i]=await Promise.all([Hs(n),Hs(r)]);return[...s.docs.map(a=>({id:a.id,...a.data()})),...i.docs.map(a=>({id:a.id,...a.data()}))]},mne=async t=>{const e=Vn(bn,"friendConnections"),n=Gs(e,ts("friend_email","==",t),ts("status","==","pending"));return(await Hs(n)).docs.map(r=>({id:r.id,...r.data()}))},gne=async(t,e)=>{const n=Ys(bn,"friendConnections",t);await $d(n,{status:e,updated_at:Mn()})},qm=S.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:vt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qm.displayName="Input";function wD(){const[t,e]=S.useState("sign-in"),[n,r]=S.useState(""),[s,i]=S.useState(""),[a,u]=S.useState(""),[h,d]=S.useState(!1),[m,g]=S.useState(""),[v,E]=S.useState(""),[_,k]=S.useState(!1),[I,P]=S.useState(!1),R=()=>{E(""),g("")},M=async()=>{if(R(),!n){E("Email required");return}if(t==="sign-up"){if(!s){E("Password required");return}if(s!==a){E("Passwords do not match");return}}if(t==="sign-in"&&!s){E("Password required");return}d(!0);try{t==="sign-up"?(await w6(M0,n,s),await yD(n),g("Account created. You are signed in.")):t==="sign-in"?(await b6(M0,n,s),await vD(n),g("Signed in.")):t==="reset"&&(await v6(M0,n),g("Reset link sent. Check your email."))}catch(z){E((z==null?void 0:z.message)||"Auth failed")}finally{d(!1)}},V=z=>{R(),e(z)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(qm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:z=>r(z.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(qm,{type:_?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:z=>i(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>k(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(LI,{className:"w-4 h-4"}):x.jsx(jI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(qm,{type:I?"text":"password",placeholder:"Confirm Password",value:a,onChange:z=>u(z.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>P(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(LI,{className:"w-4 h-4"}):x.jsx(jI,{className:"w-4 h-4"})})]})]}),(v||m)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||m}),x.jsx(rs,{onClick:M,disabled:h,className:"w-full bg-purple-600 hover:bg-purple-700",children:h?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>V("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>V("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>V("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>V("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const bD=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},rG=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},sG=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},iG=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||bD(t)&&t.trial_used!==!0):!1;let Og=l8;(async()=>{try{!Og&&await IN()&&(Og=_N(os))}catch{}})();function My(t,e={}){if(Og)try{CN(Og,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const oG=t=>My("trial_start",{method:"auto",user_email:t}),aG=(t,e)=>My("trial_day",{day:e,user_email:t}),lG=t=>My("trial_expired",{user_email:t}),uG=t=>My("trial_grace_lock",{user_email:t}),I1=by(os);async function cG(t){try{await a1(Vn(I1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function hG(t){try{await a1(Vn(I1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function dG(t){try{await a1(Vn(I1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Mn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function fG(){const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(null);return S.useEffect(()=>{const a=ey(os),u=by(os);let h=null;const d=E6(a,async m=>{var g;if(!m){e(null),r(!1);return}try{e(v=>v||{email:m.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=m==null?void 0:m.metadata)!=null&&g.creationTime?new Date(m.metadata.creationTime).getTime():null,E=v?Date.now()-v<1440*60*1e3:!1,_=`optimistic_trial_${m.email}`,k=typeof window<"u"?localStorage.getItem(_):null;E&&!k&&(e(I=>({...I||{},email:m.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(_,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),E=new Date(v+10080*60*1e3);await mm(m.email,{trial_start_date:Mn(),trial_expires_at:We.fromDate(E),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${m.email}`);const _=new URL(window.location.href);_.searchParams.delete("reset_trial"),window.history.replaceState({},"",_.toString()),console.info("[trial] Trial reset performed for",m.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}h&&h(),h=eN(Ys(u,"users",m.email),v=>{var E,_;if(v.exists()){const k={id:v.id,...v.data()};(async()=>{var U,$;try{if(!k.trial_start_date||!k.trial_expires_at){let L=(U=k.created_at)!=null&&U.toDate?k.created_at.toDate():($=k.created_at)!=null&&$.seconds?new Date(k.created_at.seconds*1e3):new Date;const be=new Date(L.getTime()+10080*60*1e3);await mm(m.email,{trial_start_date:We.fromDate(L),trial_expires_at:We.fromDate(be),trial_used:!1,trial_grace_used:!1})}}catch{}})();const I=bD(k)||!k.trial_start_date||!k.trial_expires_at,P=rG(k),R=sG(k),M=7,V=(E=k.trial_start_date)!=null&&E.toDate?Math.floor((Date.now()-k.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,z=P&&V===M&&k.trial_grace_used!==!0;e({...k,isOnTrial:I,trialExpired:P,trialDaysRemaining:R,inGraceDay:z,hasPremiumAccess:iG(k)||I||z});const K=v.id,D=`trial_log_${K}`,C=localStorage.getItem(D);let N=C?JSON.parse(C):{};const j=(_=k.trial_start_date)!=null&&_.toDate?k.trial_start_date.toDate().getTime():null;if(j){const U=N.trial_start_timestamp||null;(!U||U!==j)&&(N={})}if(k.trial_start_date&&!N.trial_start&&(oG(K),N.trial_start=!0,j&&(N.trial_start_timestamp=j)),I&&R>=0&&R<=7){const U=`day_${7-R}`;N[U]||(aG(K,7-R),N[U]=!0),R===1&&!N.notif_day6&&(cG(K),N.notif_day6=!0)}P&&k.subscription_tier==="free"&&!N.trial_expired&&(lG(K),N.trial_expired=!0,k.trial_used!==!0&&mm(v.id,{trial_used:!0}).catch(()=>{}),N.notif_expired||(hG(K),N.notif_expired=!0)),z&&!N.grace_lock&&(uG(K),N.grace_lock=!0,k.trial_grace_used!==!0&&mm(v.id,{trial_grace_used:!0}).catch(()=>{}),N.notif_grace||(dG(K),N.notif_grace=!0));try{localStorage.setItem(D,JSON.stringify(N))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),vD(m.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:m.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{h&&h(),d()}},[]),{user:t,loading:n,error:s}}const xD=S.createContext({user:null,loading:!0,error:null});function pG({children:t}){const e=fG();return x.jsx(xD.Provider,{value:e,children:t})}function C1(){return S.useContext(xD)}const mG=Oy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),SD=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:vt(mG({variant:e}),t),...n}));SD.displayName="Alert";const gG=S.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:vt("mb-1 font-medium leading-none tracking-tight",t),...e}));gG.displayName="AlertTitle";const ED=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm [&_p]:leading-relaxed",t),...e}));ED.displayName="AlertDescription";function yG(){const{user:t}=C1(),e=m1(),[n,r]=vn.useState(!1),[s,i]=vn.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const a=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,h=t.inGraceDay;return x.jsx(SD,{className:`mb-4 ${a?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[h?x.jsx($m,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):a?x.jsx($m,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(j$,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(ED,{className:h?"text-orange-800":a?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:h?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):a?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(rs,{onClick:()=>e("/subscription"),className:`${h?"bg-orange-600 hover:bg-orange-700":a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx($m,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(rs,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(k1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function yne(t,e){const n=S.createContext(e),r=i=>{const{children:a,...u}=i,h=S.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:h,children:a})};r.displayName=t+"Provider";function s(i){const a=S.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function kf(t,e=[]){let n=[];function r(i,a){const u=S.createContext(a),h=n.length;n=[...n,a];const d=g=>{var v;const{scope:E,children:_,...k}=g,I=((v=E==null?void 0:E[t])==null?void 0:v[h])||u,P=S.useMemo(()=>k,Object.values(k));return x.jsx(I.Provider,{value:P,children:_})};d.displayName=i+"Provider";function m(g,v){var E;const _=((E=v==null?void 0:v[t])==null?void 0:E[h])||u,k=S.useContext(_);if(k)return k;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,m]}const s=()=>{const i=n.map(a=>S.createContext(a));return function(a){const u=(a==null?void 0:a[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,vG(s,...e)]}function vG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((a,{useScope:u,scopeName:h})=>{const d=u(s)[`__scope${h}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var Jo=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},wG=Zb[" useInsertionEffect ".trim().toString()]||Jo;function TD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=bG({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:s;{const m=S.useRef(t!==void 0);S.useEffect(()=>{const g=m.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const d=S.useCallback(m=>{var g;if(u){const v=xG(m)?m(t):m;v!==t&&((g=a.current)==null||g.call(a,v))}else i(m)},[u,t,i,a]);return[h,d]}function bG({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),s=S.useRef(n),i=S.useRef(e);return wG(()=>{i.current=e},[e]),S.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function xG(t){return typeof t=="function"}function SG(t){const e=EG(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),h=u.find(kG);if(h){const d=h.props.children,m=u.map(g=>g===h?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(d)?S.cloneElement(d,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function EG(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=IG(s),u=_G(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ml(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TG=Symbol("radix.slottable");function kG(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TG}function _G(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function IG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var CG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bn=CG.reduce((t,e)=>{const n=SG(`Primitive.${e}`),r=S.forwardRef((s,i)=>{const{asChild:a,...u}=s,h=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function kD(t,e){t&&b1.flushSync(()=>t.dispatchEvent(e))}function WI(t){const e=AG(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),h=u.find(RG);if(h){const d=h.props.children,m=u.map(g=>g===h?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(d)?S.cloneElement(d,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function AG(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=DG(s),u=NG(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ml(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PG=Symbol("radix.slottable");function RG(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PG}function NG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function DG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function _D(t){const e=t+"CollectionProvider",[n,r]=kf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:I,children:P}=k,R=vn.useRef(null),M=vn.useRef(new Map).current;return x.jsx(s,{scope:I,itemMap:M,collectionRef:R,children:P})};a.displayName=e;const u=t+"CollectionSlot",h=WI(u),d=vn.forwardRef((k,I)=>{const{scope:P,children:R}=k,M=i(u,P),V=nr(I,M.collectionRef);return x.jsx(h,{ref:V,children:R})});d.displayName=u;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=WI(m),E=vn.forwardRef((k,I)=>{const{scope:P,children:R,...M}=k,V=vn.useRef(null),z=nr(I,V),K=i(m,P);return vn.useEffect(()=>(K.itemMap.set(V,{ref:V,...M}),()=>void K.itemMap.delete(V))),x.jsx(v,{[g]:"",ref:z,children:R})});E.displayName=m;function _(k){const I=i(t+"CollectionConsumer",k);return vn.useCallback(()=>{const P=I.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(I.itemMap.values()).sort((M,V)=>R.indexOf(M.ref.current)-R.indexOf(V.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:a,Slot:d,ItemSlot:E},_,r]}var OG=S.createContext(void 0);function ID(t){const e=S.useContext(OG);return t||e||"ltr"}function Oi(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function MG(t,e=globalThis==null?void 0:globalThis.document){const n=Oi(t);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var LG="DismissableLayer",vb="dismissableLayer.update",jG="dismissableLayer.pointerDownOutside",FG="dismissableLayer.focusOutside",QI,CD=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AD=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:u,...h}=t,d=S.useContext(CD),[m,g]=S.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=S.useState({}),_=nr(e,D=>g(D)),k=Array.from(d.layers),[I]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),P=k.indexOf(I),R=m?k.indexOf(m):-1,M=d.layersWithOutsidePointerEventsDisabled.size>0,V=R>=P,z=BG(D=>{const C=D.target,N=[...d.branches].some(j=>j.contains(C));!V||N||(s==null||s(D),a==null||a(D),D.defaultPrevented||u==null||u())},v),K=zG(D=>{const C=D.target;[...d.branches].some(N=>N.contains(C))||(i==null||i(D),a==null||a(D),D.defaultPrevented||u==null||u())},v);return MG(D=>{R===d.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},v),S.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(QI=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),YI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=QI)}},[m,v,n,d]),S.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),YI())},[m,d]),S.useEffect(()=>{const D=()=>E({});return document.addEventListener(vb,D),()=>document.removeEventListener(vb,D)},[]),x.jsx(Bn.div,{...h,ref:_,style:{pointerEvents:M?V?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,K.onFocusCapture),onBlurCapture:et(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,z.onPointerDownCapture)})});AD.displayName=LG;var UG="DismissableLayerBranch",VG=S.forwardRef((t,e)=>{const n=S.useContext(CD),r=S.useRef(null),s=nr(e,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx(Bn.div,{...t,ref:s})});VG.displayName=UG;function BG(t,e=globalThis==null?void 0:globalThis.document){const n=Oi(t),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let h=function(){PD(jG,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zG(t,e=globalThis==null?void 0:globalThis.document){const n=Oi(t),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&PD(FG,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function YI(){const t=new CustomEvent(vb);document.dispatchEvent(t)}function PD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kD(s,i):s.dispatchEvent(i)}var Q0=0;function $G(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XI()),document.body.insertAdjacentElement("beforeend",t[1]??XI()),Q0++,()=>{Q0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Q0--}},[])}function XI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Y0="focusScope.autoFocusOnMount",X0="focusScope.autoFocusOnUnmount",JI={bubbles:!1,cancelable:!0},qG="FocusScope",RD=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[u,h]=S.useState(null),d=Oi(s),m=Oi(i),g=S.useRef(null),v=nr(e,k=>h(k)),E=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let k=function(M){if(E.paused||!u)return;const V=M.target;u.contains(V)?g.current=V:Do(g.current,{select:!0})},I=function(M){if(E.paused||!u)return;const V=M.relatedTarget;V!==null&&(u.contains(V)||Do(g.current,{select:!0}))},P=function(M){if(document.activeElement===document.body)for(const V of M)V.removedNodes.length>0&&Do(u)};document.addEventListener("focusin",k),document.addEventListener("focusout",I);const R=new MutationObserver(P);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",I),R.disconnect()}}},[r,u,E.paused]),S.useEffect(()=>{if(u){eC.add(E);const k=document.activeElement;if(!u.contains(k)){const I=new CustomEvent(Y0,JI);u.addEventListener(Y0,d),u.dispatchEvent(I),I.defaultPrevented||(GG(YG(ND(u)),{select:!0}),document.activeElement===k&&Do(u))}return()=>{u.removeEventListener(Y0,d),setTimeout(()=>{const I=new CustomEvent(X0,JI);u.addEventListener(X0,m),u.dispatchEvent(I),I.defaultPrevented||Do(k??document.body,{select:!0}),u.removeEventListener(X0,m),eC.remove(E)},0)}}},[u,d,m,E]);const _=S.useCallback(k=>{if(!n&&!r||E.paused)return;const I=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,P=document.activeElement;if(I&&P){const R=k.currentTarget,[M,V]=HG(R);M&&V?!k.shiftKey&&P===V?(k.preventDefault(),n&&Do(M,{select:!0})):k.shiftKey&&P===M&&(k.preventDefault(),n&&Do(V,{select:!0})):P===R&&k.preventDefault()}},[n,r,E.paused]);return x.jsx(Bn.div,{tabIndex:-1,...a,ref:v,onKeyDown:_})});RD.displayName=qG;function GG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Do(r,{select:e}),document.activeElement!==n)return}function HG(t){const e=ND(t),n=ZI(e,t),r=ZI(e.reverse(),t);return[n,r]}function ND(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZI(t,e){for(const n of t)if(!KG(n,{upTo:e}))return n}function KG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function WG(t){return t instanceof HTMLInputElement&&"select"in t}function Do(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&WG(t)&&e&&t.select()}}var eC=QG();function QG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tC(t,e),t.unshift(e)},remove(e){var n;t=tC(t,e),(n=t[0])==null||n.resume()}}}function tC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YG(t){return t.filter(e=>e.tagName!=="A")}var XG=Zb[" useId ".trim().toString()]||(()=>{}),JG=0;function wb(t){const[e,n]=S.useState(XG());return Jo(()=>{n(r=>r??String(JG++))},[t]),e?`radix-${e}`:""}const ZG=["top","right","bottom","left"],Zo=Math.min,pr=Math.max,Mg=Math.round,gm=Math.floor,Vs=t=>({x:t,y:t}),eH={left:"right",right:"left",bottom:"top",top:"bottom"},tH={start:"end",end:"start"};function bb(t,e,n){return pr(t,Zo(e,n))}function Mi(t,e){return typeof t=="function"?t(e):t}function Li(t){return t.split("-")[0]}function Mc(t){return t.split("-")[1]}function A1(t){return t==="x"?"y":"x"}function P1(t){return t==="y"?"height":"width"}const nH=new Set(["top","bottom"]);function Os(t){return nH.has(Li(t))?"y":"x"}function R1(t){return A1(Os(t))}function rH(t,e,n){n===void 0&&(n=!1);const r=Mc(t),s=R1(t),i=P1(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Lg(a)),[a,Lg(a)]}function sH(t){const e=Lg(t);return[xb(t),e,xb(e)]}function xb(t){return t.replace(/start|end/g,e=>tH[e])}const nC=["left","right"],rC=["right","left"],iH=["top","bottom"],oH=["bottom","top"];function aH(t,e,n){switch(t){case"top":case"bottom":return n?e?rC:nC:e?nC:rC;case"left":case"right":return e?iH:oH;default:return[]}}function lH(t,e,n,r){const s=Mc(t);let i=aH(Li(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(xb)))),i}function Lg(t){return t.replace(/left|right|bottom|top/g,e=>eH[e])}function uH(t){return{top:0,right:0,bottom:0,left:0,...t}}function DD(t){return typeof t!="number"?uH(t):{top:t,right:t,bottom:t,left:t}}function jg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function sC(t,e,n){let{reference:r,floating:s}=t;const i=Os(e),a=R1(e),u=P1(a),h=Li(e),d=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let E;switch(h){case"top":E={x:m,y:r.y-s.height};break;case"bottom":E={x:m,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:g};break;case"left":E={x:r.x-s.width,y:g};break;default:E={x:r.x,y:r.y}}switch(Mc(e)){case"start":E[a]-=v*(n&&d?-1:1);break;case"end":E[a]+=v*(n&&d?-1:1);break}return E}const cH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,u=i.filter(Boolean),h=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=sC(d,r,h),v=r,E={},_=0;for(let k=0;k<u.length;k++){const{name:I,fn:P}=u[k],{x:R,y:M,data:V,reset:z}=await P({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:E,rects:d,platform:a,elements:{reference:t,floating:e}});m=R??m,g=M??g,E={...E,[I]:{...E[I],...V}},z&&_<=50&&(_++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(d=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:m,y:g}=sC(d,v,h)),k=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:E}};async function Kd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:u,strategy:h}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:E=0}=Mi(e,t),_=DD(E),k=u[v?g==="floating"?"reference":"floating":g],I=jg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:m,strategy:h})),P=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),M=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},V=jg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:R,strategy:h}):P);return{top:(I.top-V.top+_.top)/M.y,bottom:(V.bottom-I.bottom+_.bottom)/M.y,left:(I.left-V.left+_.left)/M.x,right:(V.right-I.right+_.right)/M.x}}const hH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:u,middlewareData:h}=e,{element:d,padding:m=0}=Mi(t,e)||{};if(d==null)return{};const g=DD(m),v={x:n,y:r},E=R1(s),_=P1(E),k=await a.getDimensions(d),I=E==="y",P=I?"top":"left",R=I?"bottom":"right",M=I?"clientHeight":"clientWidth",V=i.reference[_]+i.reference[E]-v[E]-i.floating[_],z=v[E]-i.reference[E],K=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let D=K?K[M]:0;(!D||!await(a.isElement==null?void 0:a.isElement(K)))&&(D=u.floating[M]||i.floating[_]);const C=V/2-z/2,N=D/2-k[_]/2-1,j=Zo(g[P],N),U=Zo(g[R],N),$=j,L=D-k[_]-U,be=D/2-k[_]/2+C,Ne=bb($,be,L),ye=!h.arrow&&Mc(s)!=null&&be!==Ne&&i.reference[_]/2-(be<$?j:U)-k[_]/2<0,ve=ye?be<$?be-$:be-L:0;return{[E]:v[E]+ve,data:{[E]:Ne,centerOffset:be-Ne-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),dH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:u,platform:h,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:k=!0,...I}=Mi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const P=Li(s),R=Os(u),M=Li(u)===u,V=await(h.isRTL==null?void 0:h.isRTL(d.floating)),z=v||(M||!k?[Lg(u)]:sH(u)),K=_!=="none";!v&&K&&z.push(...lH(u,k,_,V));const D=[u,...z],C=await Kd(e,I),N=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&N.push(C[P]),g){const be=rH(s,a,V);N.push(C[be[0]],C[be[1]])}if(j=[...j,{placement:s,overflows:N}],!N.every(be=>be<=0)){var U,$;const be=(((U=i.flip)==null?void 0:U.index)||0)+1,Ne=D[be];if(Ne&&(!(g==="alignment"&&R!==Os(Ne))||j.every(ve=>Os(ve.placement)===R?ve.overflows[0]>0:!0)))return{data:{index:be,overflows:j},reset:{placement:Ne}};let ye=($=j.filter(ve=>ve.overflows[0]<=0).sort((ve,W)=>ve.overflows[1]-W.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(E){case"bestFit":{var L;const ve=(L=j.filter(W=>{if(K){const ne=Os(W.placement);return ne===R||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function iC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function oC(t){return ZG.some(e=>t[e]>=0)}const fH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Mi(t,e);switch(r){case"referenceHidden":{const i=await Kd(e,{...s,elementContext:"reference"}),a=iC(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:oC(a)}}}case"escaped":{const i=await Kd(e,{...s,altBoundary:!0}),a=iC(i,n.floating);return{data:{escapedOffsets:a,escaped:oC(a)}}}default:return{}}}}},OD=new Set(["left","top"]);async function pH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Li(n),u=Mc(n),h=Os(n)==="y",d=OD.has(a)?-1:1,m=i&&h?-1:1,g=Mi(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:_}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof _=="number"&&(E=u==="end"?_*-1:_),h?{x:E*m,y:v*d}:{x:v*d,y:E*m}}const mH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:u}=e,h=await pH(e,t);return a===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:i+h.y,data:{...h,placement:a}}}}},gH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:u={fn:I=>{let{x:P,y:R}=I;return{x:P,y:R}}},...h}=Mi(t,e),d={x:n,y:r},m=await Kd(e,h),g=Os(Li(s)),v=A1(g);let E=d[v],_=d[g];if(i){const I=v==="y"?"top":"left",P=v==="y"?"bottom":"right",R=E+m[I],M=E-m[P];E=bb(R,E,M)}if(a){const I=g==="y"?"top":"left",P=g==="y"?"bottom":"right",R=_+m[I],M=_-m[P];_=bb(R,_,M)}const k=u.fn({...e,[v]:E,[g]:_});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[v]:i,[g]:a}}}}}},yH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:u=0,mainAxis:h=!0,crossAxis:d=!0}=Mi(t,e),m={x:n,y:r},g=Os(s),v=A1(g);let E=m[v],_=m[g];const k=Mi(u,e),I=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(h){const M=v==="y"?"height":"width",V=i.reference[v]-i.floating[M]+I.mainAxis,z=i.reference[v]+i.reference[M]-I.mainAxis;E<V?E=V:E>z&&(E=z)}if(d){var P,R;const M=v==="y"?"width":"height",V=OD.has(Li(s)),z=i.reference[g]-i.floating[M]+(V&&((P=a.offset)==null?void 0:P[g])||0)+(V?0:I.crossAxis),K=i.reference[g]+i.reference[M]+(V?0:((R=a.offset)==null?void 0:R[g])||0)-(V?I.crossAxis:0);_<z?_=z:_>K&&(_=K)}return{[v]:E,[g]:_}}}},vH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:u}=e,{apply:h=()=>{},...d}=Mi(t,e),m=await Kd(e,d),g=Li(s),v=Mc(s),E=Os(s)==="y",{width:_,height:k}=i.floating;let I,P;g==="top"||g==="bottom"?(I=g,P=v===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(P=g,I=v==="end"?"top":"bottom");const R=k-m.top-m.bottom,M=_-m.left-m.right,V=Zo(k-m[I],R),z=Zo(_-m[P],M),K=!e.middlewareData.shift;let D=V,C=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=R),K&&!v){const j=pr(m.left,0),U=pr(m.right,0),$=pr(m.top,0),L=pr(m.bottom,0);E?C=_-2*(j!==0||U!==0?j+U:pr(m.left,m.right)):D=k-2*($!==0||L!==0?$+L:pr(m.top,m.bottom))}await h({...e,availableWidth:C,availableHeight:D});const N=await a.getDimensions(u.floating);return _!==N.width||k!==N.height?{reset:{rects:!0}}:{}}}};function Ly(){return typeof window<"u"}function Lc(t){return MD(t)?(t.nodeName||"").toLowerCase():"#document"}function vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(MD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MD(t){return Ly()?t instanceof Node||t instanceof vr(t).Node:!1}function as(t){return Ly()?t instanceof Element||t instanceof vr(t).Element:!1}function Qs(t){return Ly()?t instanceof HTMLElement||t instanceof vr(t).HTMLElement:!1}function aC(t){return!Ly()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vr(t).ShadowRoot}const wH=new Set(["inline","contents"]);function _f(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ls(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!wH.has(s)}const bH=new Set(["table","td","th"]);function xH(t){return bH.has(Lc(t))}const SH=[":popover-open",":modal"];function jy(t){return SH.some(e=>{try{return t.matches(e)}catch{return!1}})}const EH=["transform","translate","scale","rotate","perspective"],TH=["transform","translate","scale","rotate","perspective","filter"],kH=["paint","layout","strict","content"];function N1(t){const e=D1(),n=as(t)?ls(t):t;return EH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||TH.some(r=>(n.willChange||"").includes(r))||kH.some(r=>(n.contain||"").includes(r))}function _H(t){let e=ea(t);for(;Qs(e)&&!Ec(e);){if(N1(e))return e;if(jy(e))return null;e=ea(e)}return null}function D1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IH=new Set(["html","body","#document"]);function Ec(t){return IH.has(Lc(t))}function ls(t){return vr(t).getComputedStyle(t)}function Fy(t){return as(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ea(t){if(Lc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||aC(t)&&t.host||Zs(t);return aC(e)?e.host:e}function LD(t){const e=ea(t);return Ec(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qs(e)&&_f(e)?e:LD(e)}function Wd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LD(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=vr(s);if(i){const u=Sb(a);return e.concat(a,a.visualViewport||[],_f(s)?s:[],u&&n?Wd(u):[])}return e.concat(s,Wd(s,[],n))}function Sb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jD(t){const e=ls(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,u=Mg(n)!==i||Mg(r)!==a;return u&&(n=i,r=a),{width:n,height:r,$:u}}function O1(t){return as(t)?t:t.contextElement}function oc(t){const e=O1(t);if(!Qs(e))return Vs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jD(e);let a=(i?Mg(n.width):n.width)/r,u=(i?Mg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const CH=Vs(0);function FD(t){const e=vr(t);return!D1()||!e.visualViewport?CH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vr(t)?!1:e}function Il(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=O1(t);let a=Vs(1);e&&(r?as(r)&&(a=oc(r)):a=oc(t));const u=AH(i,n,r)?FD(i):Vs(0);let h=(s.left+u.x)/a.x,d=(s.top+u.y)/a.y,m=s.width/a.x,g=s.height/a.y;if(i){const v=vr(i),E=r&&as(r)?vr(r):r;let _=v,k=Sb(_);for(;k&&r&&E!==_;){const I=oc(k),P=k.getBoundingClientRect(),R=ls(k),M=P.left+(k.clientLeft+parseFloat(R.paddingLeft))*I.x,V=P.top+(k.clientTop+parseFloat(R.paddingTop))*I.y;h*=I.x,d*=I.y,m*=I.x,g*=I.y,h+=M,d+=V,_=vr(k),k=Sb(_)}}return jg({width:m,height:g,x:h,y:d})}function Uy(t,e){const n=Fy(t).scrollLeft;return e?e.left+n:Il(Zs(t)).left+n}function UD(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Uy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function PH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Zs(r),u=e?jy(e.floating):!1;if(r===a||u&&i)return n;let h={scrollLeft:0,scrollTop:0},d=Vs(1);const m=Vs(0),g=Qs(r);if((g||!g&&!i)&&((Lc(r)!=="body"||_f(a))&&(h=Fy(r)),Qs(r))){const E=Il(r);d=oc(r),m.x=E.x+r.clientLeft,m.y=E.y+r.clientTop}const v=a&&!g&&!i?UD(a,h):Vs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+m.x+v.x,y:n.y*d.y-h.scrollTop*d.y+m.y+v.y}}function RH(t){return Array.from(t.getClientRects())}function NH(t){const e=Zs(t),n=Fy(t),r=t.ownerDocument.body,s=pr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Uy(t);const u=-n.scrollTop;return ls(r).direction==="rtl"&&(a+=pr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:u}}const lC=25;function DH(t,e){const n=vr(t),r=Zs(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,u=0,h=0;if(s){i=s.width,a=s.height;const m=D1();(!m||m&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const d=Uy(r);if(d<=0){const m=r.ownerDocument,g=m.body,v=getComputedStyle(g),E=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(r.clientWidth-g.clientWidth-E);_<=lC&&(i-=_)}else d<=lC&&(i+=d);return{width:i,height:a,x:u,y:h}}const OH=new Set(["absolute","fixed"]);function MH(t,e){const n=Il(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qs(t)?oc(t):Vs(1),a=t.clientWidth*i.x,u=t.clientHeight*i.y,h=s*i.x,d=r*i.y;return{width:a,height:u,x:h,y:d}}function uC(t,e,n){let r;if(e==="viewport")r=DH(t,n);else if(e==="document")r=NH(Zs(t));else if(as(e))r=MH(e,n);else{const s=FD(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return jg(r)}function VD(t,e){const n=ea(t);return n===e||!as(n)||Ec(n)?!1:ls(n).position==="fixed"||VD(n,e)}function LH(t,e){const n=e.get(t);if(n)return n;let r=Wd(t,[],!1).filter(u=>as(u)&&Lc(u)!=="body"),s=null;const i=ls(t).position==="fixed";let a=i?ea(t):t;for(;as(a)&&!Ec(a);){const u=ls(a),h=N1(a);!h&&u.position==="fixed"&&(s=null),(i?!h&&!s:!h&&u.position==="static"&&s&&OH.has(s.position)||_f(a)&&!h&&VD(t,a))?r=r.filter(d=>d!==a):s=u,a=ea(a)}return e.set(t,r),r}function jH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?jy(e)?[]:LH(e,this._c):[].concat(n),r],a=i[0],u=i.reduce((h,d)=>{const m=uC(e,d,s);return h.top=pr(m.top,h.top),h.right=Zo(m.right,h.right),h.bottom=Zo(m.bottom,h.bottom),h.left=pr(m.left,h.left),h},uC(e,a,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function FH(t){const{width:e,height:n}=jD(t);return{width:e,height:n}}function UH(t,e,n){const r=Qs(e),s=Zs(e),i=n==="fixed",a=Il(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const h=Vs(0);function d(){h.x=Uy(s)}if(r||!r&&!i)if((Lc(e)!=="body"||_f(s))&&(u=Fy(e)),r){const E=Il(e,!0,i,e);h.x=E.x+e.clientLeft,h.y=E.y+e.clientTop}else s&&d();i&&!r&&s&&d();const m=s&&!r&&!i?UD(s,u):Vs(0),g=a.left+u.scrollLeft-h.x-m.x,v=a.top+u.scrollTop-h.y-m.y;return{x:g,y:v,width:a.width,height:a.height}}function J0(t){return ls(t).position==="static"}function cC(t,e){if(!Qs(t)||ls(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function BD(t,e){const n=vr(t);if(jy(t))return n;if(!Qs(t)){let s=ea(t);for(;s&&!Ec(s);){if(as(s)&&!J0(s))return s;s=ea(s)}return n}let r=cC(t,e);for(;r&&xH(r)&&J0(r);)r=cC(r,e);return r&&Ec(r)&&J0(r)&&!N1(r)?n:r||_H(t)||n}const VH=async function(t){const e=this.getOffsetParent||BD,n=this.getDimensions,r=await n(t.floating);return{reference:UH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BH(t){return ls(t).direction==="rtl"}const zH={convertOffsetParentRelativeRectToViewportRelativeRect:PH,getDocumentElement:Zs,getClippingRect:jH,getOffsetParent:BD,getElementRects:VH,getClientRects:RH,getDimensions:FH,getScale:oc,isElement:as,isRTL:BH};function zD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $H(t,e){let n=null,r;const s=Zs(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function a(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),i();const d=t.getBoundingClientRect(),{left:m,top:g,width:v,height:E}=d;if(u||e(),!v||!E)return;const _=gm(g),k=gm(s.clientWidth-(m+v)),I=gm(s.clientHeight-(g+E)),P=gm(m),R={rootMargin:-_+"px "+-k+"px "+-I+"px "+-P+"px",threshold:pr(0,Zo(1,h))||1};let M=!0;function V(z){const K=z[0].intersectionRatio;if(K!==h){if(!M)return a();K?a(!1,K):r=setTimeout(()=>{a(!1,1e-7)},1e3)}K===1&&!zD(d,t.getBoundingClientRect())&&a(),M=!1}try{n=new IntersectionObserver(V,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,R)}n.observe(t)}return a(!0),i}function qH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,d=O1(t),m=s||i?[...d?Wd(d):[],...Wd(e)]:[];m.forEach(P=>{s&&P.addEventListener("scroll",n,{passive:!0}),i&&P.addEventListener("resize",n)});const g=d&&u?$H(d,n):null;let v=-1,E=null;a&&(E=new ResizeObserver(P=>{let[R]=P;R&&R.target===d&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=E)==null||M.observe(e)})),n()}),d&&!h&&E.observe(d),E.observe(e));let _,k=h?Il(t):null;h&&I();function I(){const P=Il(t);k&&!zD(k,P)&&n(),k=P,_=requestAnimationFrame(I)}return n(),()=>{var P;m.forEach(R=>{s&&R.removeEventListener("scroll",n),i&&R.removeEventListener("resize",n)}),g==null||g(),(P=E)==null||P.disconnect(),E=null,h&&cancelAnimationFrame(_)}}const GH=mH,HH=gH,KH=dH,WH=vH,QH=fH,hC=hH,YH=yH,XH=(t,e,n)=>{const r=new Map,s={platform:zH,...n},i={...s.platform,_c:r};return cH(t,e,{...s,platform:i})};var JH=typeof document<"u",ZH=function(){},Gm=JH?S.useLayoutEffect:ZH;function Fg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Fg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Fg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function $D(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dC(t,e){const n=$D(t);return Math.round(e*n)/n}function Z0(t){const e=S.useRef(t);return Gm(()=>{e.current=t}),e}function eK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:u=!0,whileElementsMounted:h,open:d}=t,[m,g]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=S.useState(r);Fg(v,r)||E(r);const[_,k]=S.useState(null),[I,P]=S.useState(null),R=S.useCallback(W=>{W!==K.current&&(K.current=W,k(W))},[]),M=S.useCallback(W=>{W!==D.current&&(D.current=W,P(W))},[]),V=i||_,z=a||I,K=S.useRef(null),D=S.useRef(null),C=S.useRef(m),N=h!=null,j=Z0(h),U=Z0(s),$=Z0(d),L=S.useCallback(()=>{if(!K.current||!D.current)return;const W={placement:e,strategy:n,middleware:v};U.current&&(W.platform=U.current),XH(K.current,D.current,W).then(ne=>{const oe={...ne,isPositioned:$.current!==!1};be.current&&!Fg(C.current,oe)&&(C.current=oe,b1.flushSync(()=>{g(oe)}))})},[v,e,n,U,$]);Gm(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[d]);const be=S.useRef(!1);Gm(()=>(be.current=!0,()=>{be.current=!1}),[]),Gm(()=>{if(V&&(K.current=V),z&&(D.current=z),V&&z){if(j.current)return j.current(V,z,L);L()}},[V,z,L,j,N]);const Ne=S.useMemo(()=>({reference:K,floating:D,setReference:R,setFloating:M}),[R,M]),ye=S.useMemo(()=>({reference:V,floating:z}),[V,z]),ve=S.useMemo(()=>{const W={position:n,left:0,top:0};if(!ye.floating)return W;const ne=dC(ye.floating,m.x),oe=dC(ye.floating,m.y);return u?{...W,transform:"translate("+ne+"px, "+oe+"px)",...$D(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,u,ye.floating,m.x,m.y]);return S.useMemo(()=>({...m,update:L,refs:Ne,elements:ye,floatingStyles:ve}),[m,L,Ne,ye,ve])}const tK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hC({element:r.current,padding:s}).fn(n):{}:r?hC({element:r,padding:s}).fn(n):{}}}},nK=(t,e)=>({...GH(t),options:[t,e]}),rK=(t,e)=>({...HH(t),options:[t,e]}),sK=(t,e)=>({...YH(t),options:[t,e]}),iK=(t,e)=>({...KH(t),options:[t,e]}),oK=(t,e)=>({...WH(t),options:[t,e]}),aK=(t,e)=>({...QH(t),options:[t,e]}),lK=(t,e)=>({...tK(t),options:[t,e]});var uK="Arrow",qD=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx(Bn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});qD.displayName=uK;var cK=qD;function hK(t){const[e,n]=S.useState(void 0);return Jo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,u;if("borderBoxSize"in i){const h=i.borderBoxSize,d=Array.isArray(h)?h[0]:h;a=d.inlineSize,u=d.blockSize}else a=t.offsetWidth,u=t.offsetHeight;n({width:a,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var M1="Popper",[GD,HD]=kf(M1),[dK,KD]=GD(M1),WD=t=>{const{__scopePopper:e,children:n}=t,[r,s]=S.useState(null);return x.jsx(dK,{scope:e,anchor:r,onAnchorChange:s,children:n})};WD.displayName=M1;var QD="PopperAnchor",YD=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KD(QD,n),a=S.useRef(null),u=nr(e,a),h=S.useRef(null);return S.useEffect(()=>{const d=h.current;h.current=(r==null?void 0:r.current)||a.current,d!==h.current&&i.onAnchorChange(h.current)}),r?null:x.jsx(Bn.div,{...s,ref:u})});YD.displayName=QD;var L1="PopperContent",[fK,pK]=GD(L1),XD=S.forwardRef((t,e)=>{var n,r,s,i,a,u;const{__scopePopper:h,side:d="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:E=0,avoidCollisions:_=!0,collisionBoundary:k=[],collisionPadding:I=0,sticky:P="partial",hideWhenDetached:R=!1,updatePositionStrategy:M="optimized",onPlaced:V,...z}=t,K=KD(L1,h),[D,C]=S.useState(null),N=nr(e,$n=>C($n)),[j,U]=S.useState(null),$=hK(j),L=($==null?void 0:$.width)??0,be=($==null?void 0:$.height)??0,Ne=d+(g!=="center"?"-"+g:""),ye=typeof I=="number"?I:{top:0,right:0,bottom:0,left:0,...I},ve=Array.isArray(k)?k:[k],W=ve.length>0,ne={padding:ye,boundary:ve.filter(gK),altBoundary:W},{refs:oe,floatingStyles:H,placement:re,isPositioned:pe,middlewareData:me}=eK({strategy:"fixed",placement:Ne,whileElementsMounted:(...$n)=>qH(...$n,{animationFrame:M==="always"}),elements:{reference:K.anchor},middleware:[nK({mainAxis:m+be,alignmentAxis:v}),_&&rK({mainAxis:!0,crossAxis:!1,limiter:P==="partial"?sK():void 0,...ne}),_&&iK({...ne}),oK({...ne,apply:({elements:$n,rects:Gi,availableWidth:Fl,availableHeight:Hi})=>{const{width:ei,height:la}=Gi.reference,ft=$n.floating.style;ft.setProperty("--radix-popper-available-width",`${Fl}px`),ft.setProperty("--radix-popper-available-height",`${Hi}px`),ft.setProperty("--radix-popper-anchor-width",`${ei}px`),ft.setProperty("--radix-popper-anchor-height",`${la}px`)}}),j&&lK({element:j,padding:E}),yK({arrowWidth:L,arrowHeight:be}),R&&aK({strategy:"referenceHidden",...ne})]}),[De,Be]=eO(re),Ce=Oi(V);Jo(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,Ve=(r=me.arrow)==null?void 0:r.y,dt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[br,xr]=S.useState();return Jo(()=>{D&&xr(window.getComputedStyle(D).zIndex)},[D]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:pe?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:br,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(a=me.transformOrigin)==null?void 0:a.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(fK,{scope:h,placedSide:De,onArrowChange:U,arrowX:$e,arrowY:Ve,shouldHideArrow:dt,children:x.jsx(Bn.div,{"data-side":De,"data-align":Be,...z,ref:N,style:{...z.style,animation:pe?void 0:"none"}})})})});XD.displayName=L1;var JD="PopperArrow",mK={top:"bottom",right:"left",bottom:"top",left:"right"},ZD=S.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=pK(JD,n),i=mK[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(cK,{...r,ref:e,style:{...r.style,display:"block"}})})});ZD.displayName=JD;function gK(t){return t!==null}var yK=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:a,middlewareData:u}=e,h=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=h?0:t.arrowWidth,m=h?0:t.arrowHeight,[g,v]=eO(i),E={start:"0%",center:"50%",end:"100%"}[v],_=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,k=(((s=u.arrow)==null?void 0:s.y)??0)+m/2;let I="",P="";return g==="bottom"?(I=h?E:`${_}px`,P=`${-m}px`):g==="top"?(I=h?E:`${_}px`,P=`${a.floating.height+m}px`):g==="right"?(I=`${-m}px`,P=h?E:`${k}px`):g==="left"&&(I=`${a.floating.width+m}px`,P=h?E:`${k}px`),{data:{x:I,y:P}}}});function eO(t){const[e,n="center"]=t.split("-");return[e,n]}var vK=WD,wK=YD,bK=XD,xK=ZD,SK="Portal",tO=S.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,a]=S.useState(!1);Jo(()=>a(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?Rz.createPortal(x.jsx(Bn.div,{...s,ref:e}),u):null});tO.displayName=SK;function EK(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var If=t=>{const{present:e,children:n}=t,r=TK(e),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=nr(r.ref,kK(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};If.displayName="Presence";function TK(t){const[e,n]=S.useState(),r=S.useRef(null),s=S.useRef(t),i=S.useRef("none"),a=t?"mounted":"unmounted",[u,h]=EK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const d=ym(r.current);i.current=u==="mounted"?d:"none"},[u]),Jo(()=>{const d=r.current,m=s.current;if(m!==t){const g=i.current,v=ym(d);t?h("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?h("UNMOUNT"):h(m&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Jo(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=E=>{const _=ym(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&_&&(h("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},v=E=>{E.target===e&&(i.current=ym(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:S.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function ym(t){return(t==null?void 0:t.animationName)||"none"}function kK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var ew="rovingFocusGroup.onEntryFocus",_K={bubbles:!1,cancelable:!0},Cf="RovingFocusGroup",[Eb,nO,IK]=_D(Cf),[CK,rO]=kf(Cf,[IK]),[AK,PK]=CK(Cf),sO=S.forwardRef((t,e)=>x.jsx(Eb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Eb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(RK,{...t,ref:e})})}));sO.displayName=Cf;var RK=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=t,v=S.useRef(null),E=nr(e,v),_=ID(i),[k,I]=TD({prop:a,defaultProp:u??null,onChange:h,caller:Cf}),[P,R]=S.useState(!1),M=Oi(d),V=nO(n),z=S.useRef(!1),[K,D]=S.useState(0);return S.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(ew,M),()=>C.removeEventListener(ew,M)},[M]),x.jsx(AK,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:k,onItemFocus:S.useCallback(C=>I(C),[I]),onItemShiftTab:S.useCallback(()=>R(!0),[]),onFocusableItemAdd:S.useCallback(()=>D(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>D(C=>C-1),[]),children:x.jsx(Bn.div,{tabIndex:P||K===0?-1:0,"data-orientation":r,...g,ref:E,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{z.current=!0}),onFocus:et(t.onFocus,C=>{const N=!z.current;if(C.target===C.currentTarget&&N&&!P){const j=new CustomEvent(ew,_K);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const U=V().filter(Ne=>Ne.focusable),$=U.find(Ne=>Ne.active),L=U.find(Ne=>Ne.id===k),be=[$,L,...U].filter(Boolean).map(Ne=>Ne.ref.current);aO(be,m)}}z.current=!1}),onBlur:et(t.onBlur,()=>R(!1))})})}),iO="RovingFocusGroupItem",oO=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...u}=t,h=wb(),d=i||h,m=PK(iO,n),g=m.currentTabStopId===d,v=nO(n),{onFocusableItemAdd:E,onFocusableItemRemove:_,currentTabStopId:k}=m;return S.useEffect(()=>{if(r)return E(),()=>_()},[r,E,_]),x.jsx(Eb.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx(Bn.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,I=>{r?m.onItemFocus(d):I.preventDefault()}),onFocus:et(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:et(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){m.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const P=OK(I,m.orientation,m.dir);if(P!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let R=v().filter(M=>M.focusable).map(M=>M.ref.current);if(P==="last")R.reverse();else if(P==="prev"||P==="next"){P==="prev"&&R.reverse();const M=R.indexOf(I.currentTarget);R=m.loop?MK(R,M+1):R.slice(M+1)}setTimeout(()=>aO(R))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:k!=null}):a})})});oO.displayName=iO;var NK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function OK(t,e,n){const r=DK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NK[r]}function aO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function MK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var LK=sO,jK=oO;function FK(t){const e=UK(t),n=S.forwardRef((r,s)=>{const{children:i,...a}=r,u=S.Children.toArray(i),h=u.find(BK);if(h){const d=h.props.children,m=u.map(g=>g===h?S.Children.count(d)>1?S.Children.only(null):S.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...a,ref:s,children:S.isValidElement(d)?S.cloneElement(d,void 0,m):null})}return x.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function UK(t){const e=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const a=$K(s),u=zK(i,s.props);return s.type!==S.Fragment&&(u.ref=r?Ml(r,a):a),S.cloneElement(s,u)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VK=Symbol("radix.slottable");function BK(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VK}function zK(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $K(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var qK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vu=new WeakMap,vm=new WeakMap,wm={},tw=0,lO=function(t){return t&&(t.host||lO(t.parentNode))},GK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=lO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},HK=function(t,e,n,r){var s=GK(e,Array.isArray(t)?t:[t]);wm[n]||(wm[n]=new WeakMap);var i=wm[n],a=[],u=new Set,h=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var m=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))m(v);else try{var E=v.getAttribute(r),_=E!==null&&E!=="false",k=(Vu.get(v)||0)+1,I=(i.get(v)||0)+1;Vu.set(v,k),i.set(v,I),a.push(v),k===1&&_&&vm.set(v,!0),I===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(P){console.error("aria-hidden: cannot operate on ",v,P)}})};return m(e),u.clear(),tw++,function(){a.forEach(function(g){var v=Vu.get(g)-1,E=i.get(g)-1;Vu.set(g,v),i.set(g,E),v||(vm.has(g)||g.removeAttribute(r),vm.delete(g)),E||g.removeAttribute(n)}),tw--,tw||(Vu=new WeakMap,Vu=new WeakMap,vm=new WeakMap,wm={})}},KK=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=qK(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),HK(r,s,n,"aria-hidden")):function(){return null}},Rs=function(){return Rs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Rs.apply(this,arguments)};function uO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function WK(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Hm="right-scroll-bar-position",Km="width-before-scroll-bar",QK="with-scroll-bars-hidden",YK="--removed-body-scroll-bar-size";function nw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function XK(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var JK=typeof window<"u"?S.useLayoutEffect:S.useEffect,fC=new WeakMap;function ZK(t,e){var n=XK(null,function(r){return t.forEach(function(s){return nw(s,r)})});return JK(function(){var r=fC.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(u){i.has(u)||nw(u,null)}),i.forEach(function(u){s.has(u)||nw(u,a)})}fC.set(n,t)},[t]),n}function eW(t){return t}function tW(t,e){e===void 0&&(e=eW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(u){return u!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var u=n;n=[],u.forEach(i),a=n}var h=function(){var m=a;a=[],m.forEach(i)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(m){a.push(m),d()},filter:function(m){return a=a.filter(m),n}}}};return s}function nW(t){t===void 0&&(t={});var e=tW(null);return e.options=Rs({async:!0,ssr:!1},t),e}var cO=function(t){var e=t.sideCar,n=uO(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Rs({},n))};cO.isSideCarExport=!0;function rW(t,e){return t.useMedium(e),cO}var hO=nW(),rw=function(){},Vy=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:rw,onWheelCapture:rw,onTouchMoveCapture:rw}),s=r[0],i=r[1],a=t.forwardProps,u=t.children,h=t.className,d=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,E=t.noRelative,_=t.noIsolation,k=t.inert,I=t.allowPinchZoom,P=t.as,R=P===void 0?"div":P,M=t.gapMode,V=uO(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=v,K=ZK([n,e]),D=Rs(Rs({},V),s);return S.createElement(S.Fragment,null,m&&S.createElement(z,{sideCar:hO,removeScrollBar:d,shards:g,noRelative:E,noIsolation:_,inert:k,setCallbacks:i,allowPinchZoom:!!I,lockRef:n,gapMode:M}),a?S.cloneElement(S.Children.only(u),Rs(Rs({},D),{ref:K})):S.createElement(R,Rs({},D,{className:h,ref:K}),u))});Vy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vy.classNames={fullWidth:Km,zeroRight:Hm};var sW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sW();return e&&t.setAttribute("nonce",e),t}function oW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iW())&&(oW(e,n),aW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uW=function(){var t=lW();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dO=function(){var t=uW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},cW={left:0,top:0,right:0,gap:0},sw=function(t){return parseInt(t||"",10)||0},hW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[sw(n),sw(r),sw(s)]},dW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cW;var e=hW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fW=dO(),ac="data-scroll-locked",pW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(QK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ac,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Km,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Hm," .").concat(Hm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ac,`] {
    `).concat(YK,": ").concat(u,`px;
  }
`)},pC=function(){var t=parseInt(document.body.getAttribute(ac)||"0",10);return isFinite(t)?t:0},mW=function(){S.useEffect(function(){return document.body.setAttribute(ac,(pC()+1).toString()),function(){var t=pC()-1;t<=0?document.body.removeAttribute(ac):document.body.setAttribute(ac,t.toString())}},[])},gW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;mW();var i=S.useMemo(function(){return dW(s)},[s]);return S.createElement(fW,{styles:pW(i,!e,s,n?"":"!important")})},Tb=!1;if(typeof window<"u")try{var bm=Object.defineProperty({},"passive",{get:function(){return Tb=!0,!0}});window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{Tb=!1}var Bu=Tb?{passive:!1}:!1,yW=function(t){return t.tagName==="TEXTAREA"},fO=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!yW(t)&&n[e]==="visible")},vW=function(t){return fO(t,"overflowY")},wW=function(t){return fO(t,"overflowX")},mC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pO(t,r);if(s){var i=mO(t,r),a=i[1],u=i[2];if(a>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pO=function(t,e){return t==="v"?vW(e):wW(e)},mO=function(t,e){return t==="v"?bW(e):xW(e)},SW=function(t,e){return t==="h"&&e==="rtl"?-1:1},EW=function(t,e,n,r,s){var i=SW(t,window.getComputedStyle(e).direction),a=i*r,u=n.target,h=e.contains(u),d=!1,m=a>0,g=0,v=0;do{if(!u)break;var E=mO(t,u),_=E[0],k=E[1],I=E[2],P=k-I-i*_;(_||P)&&pO(t,u)&&(g+=P,v+=_);var R=u.parentNode;u=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(d=!0),d},xm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gC=function(t){return[t.deltaX,t.deltaY]},yC=function(t){return t&&"current"in t?t.current:t},TW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_W=0,zu=[];function IW(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(_W++)[0],i=S.useState(dO)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var k=WK([t.lockRef.current],(t.shards||[]).map(yC)).filter(Boolean);return k.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=S.useCallback(function(k,I){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!a.current.allowPinchZoom;var P=xm(k),R=n.current,M="deltaX"in k?k.deltaX:R[0]-P[0],V="deltaY"in k?k.deltaY:R[1]-P[1],z,K=k.target,D=Math.abs(M)>Math.abs(V)?"h":"v";if("touches"in k&&D==="h"&&K.type==="range")return!1;var C=mC(D,K);if(!C)return!0;if(C?z=D:(z=D==="v"?"h":"v",C=mC(D,K)),!C)return!1;if(!r.current&&"changedTouches"in k&&(M||V)&&(r.current=z),!z)return!0;var N=r.current||z;return EW(N,I,k,N==="h"?M:V)},[]),h=S.useCallback(function(k){var I=k;if(!(!zu.length||zu[zu.length-1]!==i)){var P="deltaY"in I?gC(I):xm(I),R=e.current.filter(function(z){return z.name===I.type&&(z.target===I.target||I.target===z.shadowParent)&&TW(z.delta,P)})[0];if(R&&R.should){I.cancelable&&I.preventDefault();return}if(!R){var M=(a.current.shards||[]).map(yC).filter(Boolean).filter(function(z){return z.contains(I.target)}),V=M.length>0?u(I,M[0]):!a.current.noIsolation;V&&I.cancelable&&I.preventDefault()}}},[]),d=S.useCallback(function(k,I,P,R){var M={name:k,delta:I,target:P,should:R,shadowParent:CW(P)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(V){return V!==M})},1)},[]),m=S.useCallback(function(k){n.current=xm(k),r.current=void 0},[]),g=S.useCallback(function(k){d(k.type,gC(k),k.target,u(k,t.lockRef.current))},[]),v=S.useCallback(function(k){d(k.type,xm(k),k.target,u(k,t.lockRef.current))},[]);S.useEffect(function(){return zu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Bu),document.addEventListener("touchmove",h,Bu),document.addEventListener("touchstart",m,Bu),function(){zu=zu.filter(function(k){return k!==i}),document.removeEventListener("wheel",h,Bu),document.removeEventListener("touchmove",h,Bu),document.removeEventListener("touchstart",m,Bu)}},[]);var E=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(i,{styles:kW(s)}):null,E?S.createElement(gW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const AW=rW(hO,IW);var gO=S.forwardRef(function(t,e){return S.createElement(Vy,Rs({},t,{ref:e,sideCar:AW}))});gO.classNames=Vy.classNames;var kb=["Enter"," "],PW=["ArrowDown","PageUp","Home"],yO=["ArrowUp","PageDown","End"],RW=[...PW,...yO],NW={ltr:[...kb,"ArrowRight"],rtl:[...kb,"ArrowLeft"]},DW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Af="Menu",[Qd,OW,MW]=_D(Af),[Ll,vO]=kf(Af,[MW,HD,rO]),By=HD(),wO=rO(),[LW,jl]=Ll(Af),[jW,Pf]=Ll(Af),bO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,u=By(e),[h,d]=S.useState(null),m=S.useRef(!1),g=Oi(i),v=ID(s);return S.useEffect(()=>{const E=()=>{m.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>m.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),x.jsx(vK,{...u,children:x.jsx(LW,{scope:e,open:n,onOpenChange:g,content:h,onContentChange:d,children:x.jsx(jW,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:a,children:r})})})};bO.displayName=Af;var FW="MenuAnchor",j1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=By(n);return x.jsx(wK,{...s,...r,ref:e})});j1.displayName=FW;var F1="MenuPortal",[UW,xO]=Ll(F1,{forceMount:void 0}),SO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=jl(F1,e);return x.jsx(UW,{scope:e,forceMount:n,children:x.jsx(If,{present:n||i.open,children:x.jsx(tO,{asChild:!0,container:s,children:r})})})};SO.displayName=F1;var jr="MenuContent",[VW,U1]=Ll(jr),EO=S.forwardRef((t,e)=>{const n=xO(jr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=jl(jr,t.__scopeMenu),a=Pf(jr,t.__scopeMenu);return x.jsx(Qd.Provider,{scope:t.__scopeMenu,children:x.jsx(If,{present:r||i.open,children:x.jsx(Qd.Slot,{scope:t.__scopeMenu,children:a.modal?x.jsx(BW,{...s,ref:e}):x.jsx(zW,{...s,ref:e})})})})}),BW=S.forwardRef((t,e)=>{const n=jl(jr,t.__scopeMenu),r=S.useRef(null),s=nr(e,r);return S.useEffect(()=>{const i=r.current;if(i)return KK(i)},[]),x.jsx(V1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),zW=S.forwardRef((t,e)=>{const n=jl(jr,t.__scopeMenu);return x.jsx(V1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$W=FK("MenuContent.ScrollLock"),V1=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:E,disableOutsideScroll:_,...k}=t,I=jl(jr,n),P=Pf(jr,n),R=By(n),M=wO(n),V=OW(n),[z,K]=S.useState(null),D=S.useRef(null),C=nr(e,D,I.onContentChange),N=S.useRef(0),j=S.useRef(""),U=S.useRef(0),$=S.useRef(null),L=S.useRef("right"),be=S.useRef(0),Ne=_?gO:S.Fragment,ye=_?{as:$W,allowPinchZoom:!0}:void 0,ve=ne=>{var oe,H;const re=j.current+ne,pe=V().filter(Ve=>!Ve.disabled),me=document.activeElement,De=(oe=pe.find(Ve=>Ve.ref.current===me))==null?void 0:oe.textValue,Be=pe.map(Ve=>Ve.textValue),Ce=tQ(Be,re,De),$e=(H=pe.find(Ve=>Ve.textValue===Ce))==null?void 0:H.ref.current;(function Ve(dt){j.current=dt,window.clearTimeout(N.current),dt!==""&&(N.current=window.setTimeout(()=>Ve(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};S.useEffect(()=>()=>window.clearTimeout(N.current),[]),$G();const W=S.useCallback(ne=>{var oe,H;return L.current===((oe=$.current)==null?void 0:oe.side)&&rQ(ne,(H=$.current)==null?void 0:H.area)},[]);return x.jsx(VW,{scope:n,searchRef:j,onItemEnter:S.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),onItemLeave:S.useCallback(ne=>{var oe;W(ne)||((oe=D.current)==null||oe.focus(),K(null))},[W]),onTriggerLeave:S.useCallback(ne=>{W(ne)&&ne.preventDefault()},[W]),pointerGraceTimerRef:U,onPointerGraceIntentChange:S.useCallback(ne=>{$.current=ne},[]),children:x.jsx(Ne,{...ye,children:x.jsx(RD,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var oe;ne.preventDefault(),(oe=D.current)==null||oe.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(AD,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:E,children:x.jsx(LK,{asChild:!0,...M,dir:P.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:K,onEntryFocus:et(h,ne=>{P.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(bK,{role:"menu","aria-orientation":"vertical","data-state":UO(I.open),"data-radix-menu-content":"",dir:P.dir,...R,...k,ref:C,style:{outline:"none",...k.style},onKeyDown:et(k.onKeyDown,ne=>{const oe=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,H=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;oe&&(ne.key==="Tab"&&ne.preventDefault(),!H&&re&&ve(ne.key));const pe=D.current;if(ne.target!==pe||!RW.includes(ne.key))return;ne.preventDefault();const me=V().filter(De=>!De.disabled).map(De=>De.ref.current);yO.includes(ne.key)&&me.reverse(),ZW(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:et(t.onPointerMove,Yd(ne=>{const oe=ne.target,H=be.current!==ne.clientX;if(ne.currentTarget.contains(oe)&&H){const re=ne.clientX>be.current?"right":"left";L.current=re,be.current=ne.clientX}}))})})})})})})});EO.displayName=jr;var qW="MenuGroup",B1=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Bn.div,{role:"group",...r,ref:e})});B1.displayName=qW;var GW="MenuLabel",TO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Bn.div,{...r,ref:e})});TO.displayName=GW;var Ug="MenuItem",vC="menu.itemSelect",zy=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=S.useRef(null),a=Pf(Ug,t.__scopeMenu),u=U1(Ug,t.__scopeMenu),h=nr(e,i),d=S.useRef(!1),m=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(vC,{bubbles:!0,cancelable:!0});g.addEventListener(vC,E=>r==null?void 0:r(E),{once:!0}),kD(g,v),v.defaultPrevented?d.current=!1:a.onClose()}};return x.jsx(kO,{...s,ref:h,disabled:n,onClick:et(t.onClick,m),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||kb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});zy.displayName=Ug;var kO=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=U1(Ug,n),u=wO(n),h=S.useRef(null),d=nr(e,h),[m,g]=S.useState(!1),[v,E]=S.useState("");return S.useEffect(()=>{const _=h.current;_&&E((_.textContent??"").trim())},[i.children]),x.jsx(Qd.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(jK,{asChild:!0,...u,focusable:!r,children:x.jsx(Bn.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,Yd(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Yd(_=>a.onItemLeave(_))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),HW="MenuCheckboxItem",_O=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(RO,{scope:t.__scopeMenu,checked:n,children:x.jsx(zy,{role:"menuitemcheckbox","aria-checked":Vg(n)?"mixed":n,...s,ref:e,"data-state":$1(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(Vg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_O.displayName=HW;var IO="MenuRadioGroup",[KW,WW]=Ll(IO,{value:void 0,onValueChange:()=>{}}),CO=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Oi(r);return x.jsx(KW,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(B1,{...s,ref:e})})});CO.displayName=IO;var AO="MenuRadioItem",PO=S.forwardRef((t,e)=>{const{value:n,...r}=t,s=WW(AO,t.__scopeMenu),i=n===s.value;return x.jsx(RO,{scope:t.__scopeMenu,checked:i,children:x.jsx(zy,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":$1(i),onSelect:et(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});PO.displayName=AO;var z1="MenuItemIndicator",[RO,QW]=Ll(z1,{checked:!1}),NO=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=QW(z1,n);return x.jsx(If,{present:r||Vg(i.checked)||i.checked===!0,children:x.jsx(Bn.span,{...s,ref:e,"data-state":$1(i.checked)})})});NO.displayName=z1;var YW="MenuSeparator",DO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx(Bn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});DO.displayName=YW;var XW="MenuArrow",OO=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=By(n);return x.jsx(xK,{...s,...r,ref:e})});OO.displayName=XW;var JW="MenuSub",[vne,MO]=Ll(JW),ud="MenuSubTrigger",LO=S.forwardRef((t,e)=>{const n=jl(ud,t.__scopeMenu),r=Pf(ud,t.__scopeMenu),s=MO(ud,t.__scopeMenu),i=U1(ud,t.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=i,d={__scopeMenu:t.__scopeMenu},m=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>m,[m]),S.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),x.jsx(j1,{asChild:!0,...d,children:x.jsx(kO,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":UO(n.open),...t,ref:Ml(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Yd(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:et(t.onPointerLeave,Yd(g=>{var v,E;m();const _=(v=n.content)==null?void 0:v.getBoundingClientRect();if(_){const k=(E=n.content)==null?void 0:E.dataset.side,I=k==="right",P=I?-5:5,R=_[I?"left":"right"],M=_[I?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+P,y:g.clientY},{x:R,y:_.top},{x:M,y:_.top},{x:M,y:_.bottom},{x:R,y:_.bottom}],side:k}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const E=i.searchRef.current!=="";t.disabled||E&&g.key===" "||NW[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});LO.displayName=ud;var jO="MenuSubContent",FO=S.forwardRef((t,e)=>{const n=xO(jr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=jl(jr,t.__scopeMenu),a=Pf(jr,t.__scopeMenu),u=MO(jO,t.__scopeMenu),h=S.useRef(null),d=nr(e,h);return x.jsx(Qd.Provider,{scope:t.__scopeMenu,children:x.jsx(If,{present:r||i.open,children:x.jsx(Qd.Slot,{scope:t.__scopeMenu,children:x.jsx(V1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var g;a.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:et(t.onFocusOutside,m=>{m.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:et(t.onKeyDown,m=>{var g;const v=m.currentTarget.contains(m.target),E=DW[a.dir].includes(m.key);v&&E&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),m.preventDefault())})})})})})});FO.displayName=jO;function UO(t){return t?"open":"closed"}function Vg(t){return t==="indeterminate"}function $1(t){return Vg(t)?"indeterminate":t?"checked":"unchecked"}function ZW(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function eQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function tQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=eQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const a=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function nQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const u=e[i],h=e[a],d=u.x,m=u.y,g=h.x,v=h.y;m>r!=v>r&&n<(g-d)*(r-m)/(v-m)+d&&(s=!s)}return s}function rQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return nQ(n,e)}function Yd(t){return e=>e.pointerType==="mouse"?t(e):void 0}var sQ=bO,iQ=j1,oQ=SO,aQ=EO,lQ=B1,uQ=TO,cQ=zy,hQ=_O,dQ=CO,fQ=PO,pQ=NO,mQ=DO,gQ=OO,yQ=LO,vQ=FO,$y="DropdownMenu",[wQ]=kf($y,[vO]),zn=vO(),[bQ,VO]=wQ($y),BO=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:u=!0}=t,h=zn(e),d=S.useRef(null),[m,g]=TD({prop:s,defaultProp:i??!1,onChange:a,caller:$y});return x.jsx(bQ,{scope:e,triggerId:wb(),triggerRef:d,contentId:wb(),open:m,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(sQ,{...h,open:m,onOpenChange:g,dir:r,modal:u,children:n})})};BO.displayName=$y;var zO="DropdownMenuTrigger",$O=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=VO(zO,n),a=zn(n);return x.jsx(iQ,{asChild:!0,...a,children:x.jsx(Bn.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ml(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});$O.displayName=zO;var xQ="DropdownMenuPortal",qO=t=>{const{__scopeDropdownMenu:e,...n}=t,r=zn(e);return x.jsx(oQ,{...r,...n})};qO.displayName=xQ;var GO="DropdownMenuContent",HO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=VO(GO,n),i=zn(n),a=S.useRef(!1);return x.jsx(aQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var h;a.current||(h=s.triggerRef.current)==null||h.focus(),a.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const h=u.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,m=h.button===2||d;(!s.modal||m)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HO.displayName=GO;var SQ="DropdownMenuGroup",EQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(lQ,{...s,...r,ref:e})});EQ.displayName=SQ;var TQ="DropdownMenuLabel",KO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(uQ,{...s,...r,ref:e})});KO.displayName=TQ;var kQ="DropdownMenuItem",WO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(cQ,{...s,...r,ref:e})});WO.displayName=kQ;var _Q="DropdownMenuCheckboxItem",QO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(hQ,{...s,...r,ref:e})});QO.displayName=_Q;var IQ="DropdownMenuRadioGroup",CQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(dQ,{...s,...r,ref:e})});CQ.displayName=IQ;var AQ="DropdownMenuRadioItem",YO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(fQ,{...s,...r,ref:e})});YO.displayName=AQ;var PQ="DropdownMenuItemIndicator",XO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(pQ,{...s,...r,ref:e})});XO.displayName=PQ;var RQ="DropdownMenuSeparator",JO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(mQ,{...s,...r,ref:e})});JO.displayName=RQ;var NQ="DropdownMenuArrow",DQ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(gQ,{...s,...r,ref:e})});DQ.displayName=NQ;var OQ="DropdownMenuSubTrigger",ZO=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(yQ,{...s,...r,ref:e})});ZO.displayName=OQ;var MQ="DropdownMenuSubContent",eM=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=zn(n);return x.jsx(vQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eM.displayName=MQ;var LQ=BO,jQ=$O,FQ=qO,tM=HO,nM=KO,rM=WO,sM=QO,iM=YO,oM=XO,aM=JO,lM=ZO,uM=eM;const UQ=LQ,VQ=jQ,BQ=S.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(lM,{ref:s,className:vt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(A$,{className:"ml-auto"})]}));BQ.displayName=lM.displayName;const zQ=S.forwardRef(({className:t,...e},n)=>x.jsx(uM,{ref:n,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));zQ.displayName=uM.displayName;const cM=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(FQ,{children:x.jsx(tM,{ref:r,sideOffset:e,className:vt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));cM.displayName=tM.displayName;const Qa=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(rM,{ref:r,className:vt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Qa.displayName=rM.displayName;const $Q=S.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(sM,{ref:s,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(oM,{children:x.jsx(I$,{className:"h-4 w-4"})})}),e]}));$Q.displayName=sM.displayName;const qQ=S.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(iM,{ref:r,className:vt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(oM,{children:x.jsx(M$,{className:"h-2 w-2 fill-current"})})}),e]}));qQ.displayName=iM.displayName;const GQ=S.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(nM,{ref:r,className:vt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));GQ.displayName=nM.displayName;const hM=S.forwardRef(({className:t,...e},n)=>x.jsx(aM,{ref:n,className:vt("-mx-1 my-1 h-px bg-muted",t),...e}));hM.displayName=aM.displayName;function us(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Cl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const dM=6048e5,HQ=864e5;let KQ={};function qy(){return KQ}function Xd(t,e){var n,r,s,i;const a=qy(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??a.weekStartsOn??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,h=us(t),d=h.getDay(),m=(d<u?7:0)+d-u;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function Bg(t){return Xd(t,{weekStartsOn:1})}function fM(t){const e=us(t),n=e.getFullYear(),r=Cl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Bg(r),i=Cl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Bg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function _b(t){const e=us(t);return e.setHours(0,0,0,0),e}function wC(t){const e=us(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function WQ(t,e){const n=_b(t),r=_b(e),s=+n-wC(n),i=+r-wC(r);return Math.round((s-i)/HQ)}function QQ(t){const e=fM(t),n=Cl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Bg(n)}function YQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XQ(t){if(!YQ(t)&&typeof t!="number")return!1;const e=us(t);return!isNaN(Number(e))}function JQ(t){const e=us(t),n=Cl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ZQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eY=(t,e,n)=>{let r;const s=ZQ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function iw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const tY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sY={date:iw({formats:tY,defaultWidth:"full"}),time:iw({formats:nY,defaultWidth:"full"}),dateTime:iw({formats:rY,defaultWidth:"full"})},iY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oY=(t,e,n,r)=>iY[t];function Zh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;s=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const aY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pY={ordinalNumber:fY,era:Zh({values:aY,defaultWidth:"wide"}),quarter:Zh({values:lY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zh({values:uY,defaultWidth:"wide"}),day:Zh({values:cY,defaultWidth:"wide"}),dayPeriod:Zh({values:hY,defaultWidth:"wide",formattingValues:dY,defaultFormattingWidth:"wide"})};function ed(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?gY(u,g=>g.test(a)):mY(u,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(a.length);return{value:d,rest:m}}}function mY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(s.length);return{value:a,rest:u}}}const vY=/^(\d+)(th|st|nd|rd)?/i,wY=/\d+/i,bY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xY={any:[/^b/i,/^(a|c)/i]},SY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EY={any:[/1/i,/2/i,/3/i,/4/i]},TY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Y={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PY={ordinalNumber:yY({matchPattern:vY,parsePattern:wY,valueCallback:t=>parseInt(t,10)}),era:ed({matchPatterns:bY,defaultMatchWidth:"wide",parsePatterns:xY,defaultParseWidth:"any"}),quarter:ed({matchPatterns:SY,defaultMatchWidth:"wide",parsePatterns:EY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ed({matchPatterns:TY,defaultMatchWidth:"wide",parsePatterns:kY,defaultParseWidth:"any"}),day:ed({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:IY,defaultParseWidth:"any"}),dayPeriod:ed({matchPatterns:CY,defaultMatchWidth:"any",parsePatterns:AY,defaultParseWidth:"any"})},RY={code:"en-US",formatDistance:eY,formatLong:sY,formatRelative:oY,localize:pY,match:PY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function NY(t){const e=us(t);return WQ(e,JQ(e))+1}function DY(t){const e=us(t),n=+Bg(e)-+QQ(e);return Math.round(n/dM)+1}function pM(t,e){var n,r,s,i;const a=us(t),u=a.getFullYear(),h=qy(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??h.firstWeekContainsDate??((i=(s=h.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,m=Cl(t,0);m.setFullYear(u+1,0,d),m.setHours(0,0,0,0);const g=Xd(m,e),v=Cl(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const E=Xd(v,e);return a.getTime()>=g.getTime()?u+1:a.getTime()>=E.getTime()?u:u-1}function OY(t,e){var n,r,s,i;const a=qy(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??((i=(s=a.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,h=pM(t,e),d=Cl(t,0);return d.setFullYear(h,0,u),d.setHours(0,0,0,0),Xd(d,e)}function MY(t,e){const n=us(t),r=+Xd(n,e)-+OY(n,e);return Math.round(r/dM)+1}function it(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const No={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return it(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):it(n+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return it(s,e.length)}},$u={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return No.y(t,e)},Y:function(t,e,n,r){const s=pM(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return it(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):it(i,e.length)},R:function(t,e){const n=fM(t);return it(n,e.length)},u:function(t,e){const n=t.getFullYear();return it(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return it(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return it(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return No.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return it(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=MY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):it(s,e.length)},I:function(t,e,n){const r=DY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):it(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):No.d(t,e)},D:function(t,e,n){const r=NY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):it(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return it(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return it(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return it(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=$u.noon:r===0?s=$u.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=$u.evening:r>=12?s=$u.afternoon:r>=4?s=$u.morning:s=$u.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return No.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):No.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):it(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):No.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):No.s(t,e)},S:function(t,e){return No.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return SC(r);case"XXXX":case"XX":return Ya(r);case"XXXXX":case"XXX":default:return Ya(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return SC(r);case"xxxx":case"xx":return Ya(r);case"xxxxx":case"xxx":default:return Ya(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xC(r,":");case"OOOO":default:return"GMT"+Ya(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xC(r,":");case"zzzz":default:return"GMT"+Ya(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return it(r,e.length)},T:function(t,e,n){const r=t.getTime();return it(r,e.length)}};function xC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+it(i,2)}function SC(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):Ya(t,e)}function Ya(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=it(Math.trunc(r/60),2),i=it(r%60,2);return n+s+e+i}const EC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return EC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",EC(r,e)).replace("{{time}}",mM(s,e))},jY={p:mM,P:LY},FY=/^D+$/,UY=/^Y+$/,VY=["D","DD","YY","YYYY"];function BY(t){return FY.test(t)}function zY(t){return UY.test(t)}function $Y(t,e,n){const r=qY(t,e,n);if(console.warn(r),VY.includes(t))throw new RangeError(r)}function qY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KY=/^'([^]*?)'?$/,WY=/''/g,QY=/[a-zA-Z]/;function YY(t,e,n){var r,s,i,a;const u=qy(),h=u.locale??RY,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,m=u.weekStartsOn??((a=(i=u.locale)==null?void 0:i.options)==null?void 0:a.weekStartsOn)??0,g=us(t);if(!XQ(g))throw new RangeError("Invalid time value");let v=e.match(HY).map(_=>{const k=_[0];if(k==="p"||k==="P"){const I=jY[k];return I(_,h.formatLong)}return _}).join("").match(GY).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const k=_[0];if(k==="'")return{isToken:!1,value:XY(_)};if(bC[k])return{isToken:!0,value:_};if(k.match(QY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:_}});h.localize.preprocessor&&(v=h.localize.preprocessor(g,v));const E={firstWeekContainsDate:d,weekStartsOn:m,locale:h};return v.map(_=>{if(!_.isToken)return _.value;const k=_.value;(zY(k)||BY(k))&&$Y(k,e,String(t));const I=bC[k[0]];return I(g,k,h.localize,E)}).join("")}function XY(t){const e=t.match(KY);return e?e[1].replace(WY,"'"):t}class Ib extends vn.Component{constructor(e){super(e),DT(this,"hardReload",()=>{window.location.reload(!0)}),DT(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const JY=vn.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./AvatarDisplay-Bq8KvINC-Bkjcf5GX-CYSbrbbG.js"),[]),[]),[]));vn.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./PetDisplay-CWJwigaH-Dn1kB1rT-DC_LFbLk.js"),__vite__mapDeps([0,1])),$t([0,1])),Gt([0,1])));const ZY=vn.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./InstallPrompt-DgpoMmSN-7-1KwCIk-DbIVIKDj.js"),__vite__mapDeps([2,3])),$t([2,3])),Gt([2,3])));function eX({children:t,currentPageName:e}){const n=qi(),[r,s]=S.useState(!1),{user:i,loading:a}=C1(),[u,h]=S.useState(()=>localStorage.getItem("app.theme")==="dark");S.useEffect(()=>{const P=()=>{h(localStorage.getItem("app.theme")==="dark")};P(),window.addEventListener("storage",P);const R=setInterval(P,500);return()=>{window.removeEventListener("storage",P),clearInterval(R)}},[]),S.useEffect(()=>{const P=document.createElement("link");P.rel="manifest",P.href="/manifest.json",document.head.appendChild(P);const R=document.createElement("meta");R.name="theme-color",R.content=u?"#1e293b":"#9333ea",document.head.appendChild(R);const M=document.createElement("meta");M.name="apple-mobile-web-app-capable",M.content="yes",document.head.appendChild(M);const V=document.createElement("meta");V.name="apple-mobile-web-app-status-bar-style",V.content="black-translucent",document.head.appendChild(V);let z=document.querySelector('link[rel="apple-touch-icon"]'),K=!1;return z||(z=document.createElement("link"),z.rel="apple-touch-icon",z.href="/icons/apple-touch-icon.png",document.head.appendChild(z),K=!0),()=>{K&&z&&z.parentNode&&z.remove()}},[u]);const[d,m]=S.useState(0);S.useEffect(()=>{i!=null&&i.email&&m(0)},[i==null?void 0:i.email]);const g=YY(_b(new Date),"yyyy-MM-dd"),{data:v=[]}=m$({queryKey:["dailyChallenges",g],initialData:[],enabled:!!i});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!i)return x.jsx(x.Fragment,{children:t});if(!i)return a?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(WT,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(wD,{})]})});const E=v.some(P=>P.created_by===(i==null?void 0:i.email)),_=i?{avatar_skin_tone:i.avatar_skin_tone||"medium",avatar_hair_style:i.avatar_hair_style||"short",avatar_hair_color:i.avatar_hair_color||"brown",avatar_eyes:i.avatar_eyes||"normal",avatar_outfit:i.avatar_outfit||"casual",avatar_accessory:i.avatar_accessory||"none"}:null;i==null||i.active_pet,i!=null&&i.subscription_tier;const k=async()=>{const P=ey(os);await T6(P),localStorage.clear(),window.location.href="/"},I=({to:P,label:R,icon:M})=>{const V=n.pathname===yt(P);return x.jsxs(ln,{to:yt(P),onClick:()=>s(!1),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-all font-medium ${V?"bg-purple-500 text-white shadow-lg":u?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[M&&x.jsx(M,{className:"w-5 h-5"}),R]})};return x.jsxs("div",{className:`min-h-screen ${u?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(yG,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${u?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${u?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ln,{to:yt("Home"),className:"flex items-center gap-3",children:[x.jsx(WT,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${u&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[i&&x.jsxs(x.Fragment,{children:[x.jsx(ln,{to:yt("Home"),className:"hidden md:inline-block",children:x.jsxs(rs,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(rD,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),x.jsxs(UQ,{children:[x.jsx(VQ,{asChild:!0,children:x.jsxs(rs,{variant:"ghost",className:"flex items-center gap-2 px-3",children:[x.jsx(H0,{className:"w-5 h-5"}),x.jsx("span",{className:"hidden md:inline-block font-medium",children:i.displayName||i.email||"Account"})]})}),x.jsxs(cM,{align:"end",children:[x.jsx(Qa,{asChild:!0,children:x.jsx(ln,{to:yt("Avatar"),children:"Profile"})}),x.jsx(Qa,{asChild:!0,children:x.jsx(ln,{to:yt("Settings"),children:"Settings"})}),x.jsx(Qa,{asChild:!0,children:x.jsx(ln,{to:yt("Subscription"),children:"Subscription"})}),x.jsx(Qa,{asChild:!0,children:x.jsx(ln,{to:yt("PrivacyPolicy"),children:"Privacy Policy"})}),(i==null?void 0:i.is_admin)&&x.jsx(Qa,{asChild:!0,children:x.jsx(ln,{to:yt("AdminTestAccount"),children:"Admin"})}),x.jsx(hM,{}),x.jsx(Qa,{onClick:k,className:"text-red-600",children:"Logout"})]})]})]}),x.jsx(rs,{variant:"ghost",size:"icon",onClick:()=>s(!r),className:`ml-2 ${u?"text-gray-50 hover:bg-slate-700":""}`,"aria-label":"Open navigation menu",children:r?x.jsx(k1,{className:"w-6 h-6"}):x.jsx(Q$,{className:"w-6 h-6"})})]})]}),r&&x.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex justify-end",children:x.jsx("div",{className:`w-full max-w-xs h-full bg-white dark:bg-slate-800 shadow-xl p-6 overflow-y-auto ${u?"border-l border-slate-700":""}`,children:i&&x.jsxs("div",{className:`${u?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs(ln,{to:yt("Home"),children:[" "," "]}),x.jsxs(rs,{children:[" "," "]})]}),x.jsxs("div",{children:[x.jsx(I,{to:"Avatar",label:"Profile",icon:H0}),x.jsx(I,{to:"Settings",label:"Settings",icon:tq}),x.jsx(I,{to:"Subscription",label:"Subscription",icon:$m}),x.jsx(I,{to:"PrivacyPolicy",label:"Privacy Policy",icon:D$}),(i==null?void 0:i.is_admin)&&x.jsx(I,{to:"AdminTestAccount",label:"Admin",icon:k$}),x.jsxs("button",{onClick:()=>{s(!1),k()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl mt-4 ${u?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(K$,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})})})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${u?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-6 gap-1 px-2 py-2",children:[x.jsxs(ln,{to:yt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Home")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(G$,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ln,{to:yt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("DailyChallenge")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(E$,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!E&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ln,{to:yt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("AITutor")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(nD,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ln,{to:yt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Shop")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(iq,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ln,{to:yt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${n.pathname===yt("Avatar")?"bg-purple-500 text-white":u?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:_?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(JY,{avatarData:_,size:"small"})}):x.jsx(H0,{className:"w-6 h-6"})})]})}),x.jsx(Ib,{children:x.jsx(vn.Suspense,{fallback:null,children:x.jsx(ZY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Ib,{children:x.jsx(vn.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${u?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${u?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ln,{to:yt("PrivacyPolicy"),className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:u?"text-gray-600":"text-gray-300",children:""}),x.jsx(ln,{to:yt("Subscription"),className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:u?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${u?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const tX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));tX.displayName="Card";const nX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("flex flex-col space-y-1.5 p-6",t),...e}));nX.displayName="CardHeader";const rX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("font-semibold leading-none tracking-tight",t),...e}));rX.displayName="CardTitle";const sX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm text-muted-foreground",t),...e}));sX.displayName="CardDescription";const iX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("p-6 pt-0",t),...e}));iX.displayName="CardContent";const oX=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("flex items-center p-6 pt-0",t),...e}));oX.displayName="CardFooter";const gM=S.createContext({});function aX(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const q1=typeof window<"u",lX=q1?S.useLayoutEffect:S.useEffect,G1=S.createContext(null);function H1(t,e){t.indexOf(e)===-1&&t.push(e)}function K1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ji=(t,e,n)=>n>e?e:n<t?t:n;let W1=()=>{};const Fi={},yM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vM(t){return typeof t=="object"&&t!==null}const wM=t=>/^0[^.\s]+$/u.test(t);function Q1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fr=t=>t,uX=(t,e)=>n=>e(t(n)),Rf=(...t)=>t.reduce(uX),Jd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Y1{constructor(){this.subscriptions=[]}add(e){return H1(this.subscriptions,e),()=>K1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bs=t=>t*1e3,Mr=t=>t/1e3;function bM(t,e){return e?t*(1e3/e):0}const xM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cX=1e-7,hX=12;function dX(t,e,n,r,s){let i,a,u=0;do a=e+(n-e)/2,i=xM(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>cX&&++u<hX);return a}function Nf(t,e,n,r){if(t===e&&n===r)return Fr;const s=i=>dX(i,0,1,t,n);return i=>i===0||i===1?i:xM(s(i),e,r)}const SM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EM=t=>e=>1-t(1-e),TM=Nf(.33,1.53,.69,.99),X1=EM(TM),kM=SM(X1),_M=t=>(t*=2)<1?.5*X1(t):.5*(2-Math.pow(2,-10*(t-1))),J1=t=>1-Math.sin(Math.acos(t)),IM=EM(J1),CM=SM(J1),fX=Nf(.42,0,1,1),pX=Nf(0,0,.58,1),AM=Nf(.42,0,.58,1),mX=t=>Array.isArray(t)&&typeof t[0]!="number",PM=t=>Array.isArray(t)&&typeof t[0]=="number",gX={linear:Fr,easeIn:fX,easeInOut:AM,easeOut:pX,circIn:J1,circInOut:CM,circOut:IM,backIn:X1,backInOut:kM,backOut:TM,anticipate:_M},yX=t=>typeof t=="string",TC=t=>{if(PM(t)){W1(t.length===4);const[e,n,r,s]=t;return Nf(e,n,r,s)}else if(yX(t))return gX[t];return t},Sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){a.has(m)&&(d.schedule(m),t()),m(u)}const d={schedule:(m,g=!1,v=!1)=>{const E=v&&s?n:r;return g&&a.add(m),E.has(m)||E.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(u=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,i&&(i=!1,d.process(m))}};return d}const wX=40;function RM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Sm.reduce((P,R)=>(P[R]=vX(i),P),{}),{setup:u,read:h,resolveKeyframes:d,preUpdate:m,update:g,preRender:v,render:E,postRender:_}=a,k=()=>{const P=Fi.useManualTiming?s.timestamp:performance.now();n=!1,Fi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(P-s.timestamp,wX),1)),s.timestamp=P,s.isProcessing=!0,u.process(s),h.process(s),d.process(s),m.process(s),g.process(s),v.process(s),E.process(s),_.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(k))},I=()=>{n=!0,r=!0,s.isProcessing||t(k)};return{schedule:Sm.reduce((P,R)=>{const M=a[R];return P[R]=(V,z=!1,K=!1)=>(n||I(),M.schedule(V,z,K)),P},{}),cancel:P=>{for(let R=0;R<Sm.length;R++)a[Sm[R]].cancel(P)},state:s,steps:a}}const{schedule:xt,cancel:ta,state:mn,steps:ow}=RM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0);let Wm;function bX(){Wm=void 0}const er={now:()=>(Wm===void 0&&er.set(mn.isProcessing||Fi.useManualTiming?mn.timestamp:performance.now()),Wm),set:t=>{Wm=t,queueMicrotask(bX)}},NM=t=>e=>typeof e=="string"&&e.startsWith(t),Z1=NM("--"),xX=NM("var(--"),eS=t=>xX(t)?SX.test(t.split("/*")[0].trim()):!1,SX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zd={...jc,transform:t=>ji(0,1,t)},Em={...jc,default:1},xd=t=>Math.round(t*1e5)/1e5,tS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EX(t){return t==null}const TX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nS=(t,e)=>n=>!!(typeof n=="string"&&TX.test(n)&&n.startsWith(t)||e&&!EX(n)&&Object.prototype.hasOwnProperty.call(n,e)),DM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,u]=r.match(tS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:u!==void 0?parseFloat(u):1}},kX=t=>ji(0,255,t),aw={...jc,transform:t=>Math.round(kX(t))},il={test:nS("rgb","red"),parse:DM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+aw.transform(t)+", "+aw.transform(e)+", "+aw.transform(n)+", "+xd(Zd.transform(r))+")"};function _X(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cb={test:nS("#"),parse:_X,transform:il.transform},Df=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oo=Df("deg"),zs=Df("%"),Le=Df("px"),IX=Df("vh"),CX=Df("vw"),kC={...zs,parse:t=>zs.parse(t)/100,transform:t=>zs.transform(t*100)},Yu={test:nS("hsl","hue"),parse:DM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zs.transform(xd(e))+", "+zs.transform(xd(n))+", "+xd(Zd.transform(r))+")"},Yt={test:t=>il.test(t)||Cb.test(t)||Yu.test(t),parse:t=>il.test(t)?il.parse(t):Yu.test(t)?Yu.parse(t):Cb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?il.transform(t):Yu.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},AX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(tS))==null?void 0:e.length)||0)+(((n=t.match(AX))==null?void 0:n.length)||0)>0}const OM="number",MM="color",RX="var",NX="var(",_C="${}",DX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ef(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(DX,u=>(Yt.test(u)?(r.color.push(i),s.push(MM),n.push(Yt.parse(u))):u.startsWith(NX)?(r.var.push(i),s.push(RX),n.push(u)):(r.number.push(i),s.push(OM),n.push(parseFloat(u))),++i,_C)).split(_C);return{values:n,split:a,indexes:r,types:s}}function LM(t){return ef(t).values}function jM(t){const{split:e,types:n}=ef(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const u=n[a];u===OM?i+=xd(s[a]):u===MM?i+=Yt.transform(s[a]):i+=s[a]}return i}}const OX=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function MX(t){const e=LM(t);return jM(t)(e.map(OX))}const na={test:PX,parse:LM,createTransformer:jM,getAnimatableNone:MX};function lw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=lw(h,u,t+1/3),i=lw(h,u,t),a=lw(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function zg(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,uw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},jX=[Cb,il,Yu],FX=t=>jX.find(e=>e.test(t));function IC(t){const e=FX(t);if(!e)return!1;let n=e.parse(t);return e===Yu&&(n=LX(n)),n}const CC=(t,e)=>{const n=IC(t),r=IC(e);if(!n||!r)return zg(t,e);const s={...n};return i=>(s.red=uw(n.red,r.red,i),s.green=uw(n.green,r.green,i),s.blue=uw(n.blue,r.blue,i),s.alpha=_t(n.alpha,r.alpha,i),il.transform(s))},Ab=new Set(["none","hidden"]);function UX(t,e){return Ab.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function VX(t,e){return n=>_t(t,e,n)}function rS(t){return typeof t=="number"?VX:typeof t=="string"?eS(t)?zg:Yt.test(t)?CC:$X:Array.isArray(t)?FM:typeof t=="object"?Yt.test(t)?CC:BX:zg}function FM(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>rS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function BX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=rS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function zX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],u=t.values[a]??0;n[s]=u,r[i]++}return n}const $X=(t,e)=>{const n=na.createTransformer(e),r=ef(t),s=ef(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ab.has(t)&&!s.values.length||Ab.has(e)&&!r.values.length?UX(t,e):Rf(FM(zX(r,s),s.values),n):zg(t,e)};function UM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):rS(t)(t,e)}const qX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>ta(e),now:()=>mn.isProcessing?mn.timestamp:er.now()}},VM=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$g=2e4;function sS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$g;)e+=n,r=t.next(e);return e>=$g?1/0:e}function GX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(sS(r),$g);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Mr(s)}}const HX=5;function BM(t,e,n){const r=Math.max(e-HX,0);return bM(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cw=.001;function KX({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,a=1-e;a=ji(Rt.minDamping,Rt.maxDamping,a),t=ji(Rt.minDuration,Rt.maxDuration,Mr(t)),a<1?(s=d=>{const m=d*a,g=m*t,v=m-n,E=Pb(d,a),_=Math.exp(-g);return cw-v/E*_},i=d=>{const m=d*a*t,g=m*n+n,v=Math.pow(a,2)*Math.pow(d,2)*t,E=Math.exp(-m),_=Pb(Math.pow(d,2),a);return(-s(d)+cw>0?-1:1)*((g-v)*E)/_}):(s=d=>{const m=Math.exp(-d*t),g=(d-n)*t+1;return-cw+m*g},i=d=>{const m=Math.exp(-d*t),g=(n-d)*(t*t);return m*g});const u=5/t,h=QX(s,i,u);if(t=Bs(t),isNaN(h))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const d=Math.pow(h,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const WX=12;function QX(t,e,n){let r=n;for(let s=1;s<WX;s++)r=r-t(r)/e(r);return r}function Pb(t,e){return t*Math.sqrt(1-e*e)}const YX=["duration","bounce"],XX=["stiffness","damping","mass"];function AC(t,e){return e.some(n=>t[n]!==void 0)}function JX(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!AC(t,XX)&&AC(t,YX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ji(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Rt.mass,stiffness:s,damping:i}}else{const n=KX(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function qg(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:h,damping:d,mass:m,duration:g,velocity:v,isResolvedFromDuration:E}=JX({...n,velocity:-Mr(n.velocity||0)}),_=v||0,k=d/(2*Math.sqrt(h*m)),I=a-i,P=Mr(Math.sqrt(h/m)),R=Math.abs(I)<5;r||(r=R?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=R?Rt.restDelta.granular:Rt.restDelta.default);let M;if(k<1){const z=Pb(P,k);M=K=>{const D=Math.exp(-k*P*K);return a-D*((_+k*P*I)/z*Math.sin(z*K)+I*Math.cos(z*K))}}else if(k===1)M=z=>a-Math.exp(-P*z)*(I+(_+P*I)*z);else{const z=P*Math.sqrt(k*k-1);M=K=>{const D=Math.exp(-k*P*K),C=Math.min(z*K,300);return a-D*((_+k*P*I)*Math.sinh(C)+z*I*Math.cosh(C))/z}}const V={calculatedDuration:E&&g||null,next:z=>{const K=M(z);if(E)u.done=z>=g;else{let D=z===0?_:0;k<1&&(D=z===0?Bs(_):BM(M,z,K));const C=Math.abs(D)<=r,N=Math.abs(a-K)<=s;u.done=C&&N}return u.value=u.done?a:K,u},toString:()=>{const z=Math.min(sS(V),$g),K=VM(D=>V.next(z*D).value,z,30);return z+"ms "+K},toTransition:()=>{}};return V}qg.applyToOptions=t=>{const e=GX(t,100,qg);return t.ease=e.ease,t.duration=Bs(e.duration),t.type="keyframes",t};function Rb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:u,max:h,restDelta:d=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},E=C=>u!==void 0&&C<u||h!==void 0&&C>h,_=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let k=n*e;const I=g+k,P=a===void 0?I:a(I);P!==I&&(k=P-g);const R=C=>-k*Math.exp(-C/r),M=C=>P+R(C),V=C=>{const N=R(C),j=M(C);v.done=Math.abs(N)<=d,v.value=v.done?P:j};let z,K;const D=C=>{E(v.value)&&(z=C,K=qg({keyframes:[v.value,_(v.value)],velocity:BM(M,C,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let N=!1;return!K&&z===void 0&&(N=!0,V(C),D(C)),z!==void 0&&C>=z?K.next(C-z):(!N&&V(C),v)}}}function ZX(t,e,n){const r=[],s=n||Fi.mix||UM,i=t.length-1;for(let a=0;a<i;a++){let u=s(t[a],t[a+1]);if(e){const h=Array.isArray(e)?e[a]||Fr:e;u=Rf(h,u)}r.push(u)}return r}function eJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(W1(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=ZX(e,r,s),h=u.length,d=m=>{if(a&&m<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=Jd(t[g],t[g+1],m);return u[g](v)};return n?m=>d(ji(t[0],t[i-1],m)):d}function tJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Jd(0,e,r);t.push(_t(n,1,s))}}function nJ(t){const e=[0];return tJ(e,t.length-1),e}function rJ(t,e){return t.map(n=>n*e)}function sJ(t,e){return t.map(()=>e||AM).splice(0,t.length-1)}function Sd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=mX(r)?r.map(TC):TC(r),i={done:!1,value:e[0]},a=rJ(n&&n.length===e.length?n:nJ(e),t),u=eJ(a,e,{ease:Array.isArray(s)?s:sJ(e,s)});return{calculatedDuration:t,next:h=>(i.value=u(h),i.done=h>=t,i)}}const iJ=t=>t!==null;function iS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(iJ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const oJ={decay:Rb,inertia:Rb,tween:Sd,keyframes:Sd,spring:qg};function zM(t){typeof t.type=="string"&&(t.type=oJ[t.type])}class oS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const aJ=t=>t/100;class aS extends oS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==er.now()&&this.tick(er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zM(e);const{type:n=Sd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:u}=e;const h=n||Sd;h!==Sd&&typeof u[0]!="number"&&(this.mixKeyframes=Rf(aJ,UM(u[0],u[1])),u=[0,100]);const d=h({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=sS(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:E,type:_,onUpdate:k,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?P<0:P>s;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,V=r;if(g){const C=Math.min(this.currentTime,s)/u;let N=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&N--,N=Math.min(N,g+1),N%2&&(v==="reverse"?(j=1-j,E&&(j-=E/u)):v==="mirror"&&(V=a)),M=ji(0,1,j)*u}const z=R?{done:!1,value:m[0]}:V.next(M);i&&(z.value=i(z.value));let{done:K}=z;!R&&h!==null&&(K=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return D&&_!==Rb&&(z.value=iS(m,this.options,I,this.speed)),k&&k(z.value),D&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return Mr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mr(e)}get time(){return Mr(this.currentTime)}set time(e){var n;e=Bs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(er.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=qX,startTime:s}=this.options;this.driver||(this.driver=r(a=>this.tick(a))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function lJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ol=t=>t*180/Math.PI,Nb=t=>{const e=ol(Math.atan2(t[1],t[0]));return Db(e)},uJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Nb,rotateZ:Nb,skewX:t=>ol(Math.atan(t[1])),skewY:t=>ol(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Db=t=>(t=t%360,t<0&&(t+=360),t),PC=Nb,RC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),NC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),cJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RC,scaleY:NC,scale:t=>(RC(t)+NC(t))/2,rotateX:t=>Db(ol(Math.atan2(t[6],t[5]))),rotateY:t=>Db(ol(Math.atan2(-t[2],t[0]))),rotateZ:PC,rotate:PC,skewX:t=>ol(Math.atan(t[4])),skewY:t=>ol(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ob(t){return t.includes("scale")?1:0}function Mb(t,e){if(!t||t==="none")return Ob(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=cJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uJ,s=u}if(!s)return Ob(e);const i=r[e],a=s[1].split(",").map(dJ);return typeof i=="function"?i(a):a[i]}const hJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Mb(n,e)};function dJ(t){return parseFloat(t.trim())}const Fc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(Fc),DC=t=>t===jc||t===Le,fJ=new Set(["x","y","z"]),pJ=Fc.filter(t=>!fJ.has(t));function mJ(t){const e=[];return pJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const dl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Mb(e,"x"),y:(t,{transform:e})=>Mb(e,"y")};dl.translateX=dl.x;dl.translateY=dl.y;const fl=new Set;let Lb=!1,jb=!1,Fb=!1;function $M(){if(jb){const t=Array.from(fl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=mJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var u;(u=r.getValue(i))==null||u.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jb=!1,Lb=!1,fl.forEach(t=>t.complete(Fb)),fl.clear()}function qM(){fl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jb=!0)})}function gJ(){Fb=!0,qM(),$M(),Fb=!1}class lS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(fl.add(this),Lb||(Lb=!0,xt.read(qM),xt.resolveKeyframes($M))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}lJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fl.delete(this)}cancel(){this.state==="scheduled"&&(fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yJ=t=>t.startsWith("--");function vJ(t,e,n){yJ(e)?t.style.setProperty(e,n):t.style[e]=n}const wJ=Q1(()=>window.ScrollTimeline!==void 0),bJ={};function xJ(t,e){const n=Q1(t);return()=>bJ[e]??n()}const GM=xJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,OC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cd([0,.65,.55,1]),circOut:cd([.55,0,1,.45]),backIn:cd([.31,.01,.66,-.59]),backOut:cd([.33,1.53,.69,.99])};function HM(t,e){if(t)return typeof t=="function"?GM()?VM(t,e):"ease-out":PM(t)?cd(t):Array.isArray(t)?t.map(n=>HM(n,e)||OC.easeOut):OC[t]}function SJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:u="easeOut",times:h}={},d=void 0){const m={[e]:n};h&&(m.offset=h);const g=HM(u,s);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(m,v)}function KM(t){return typeof t=="function"&&"applyToOptions"in t}function EJ({type:t,...e}){return KM(t)&&GM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TJ extends oS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,W1(typeof e.type!="string");const d=EJ(e);this.animation=SJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=iS(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):vJ(n,r,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Mr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mr(e)}get time(){return Mr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wJ()?(this.animation.timeline=e,Fr):n(this)}}const WM={anticipate:_M,backInOut:kM,circInOut:CM};function kJ(t){return t in WM}function _J(t){typeof t.ease=="string"&&kJ(t.ease)&&(t.ease=WM[t.ease])}const MC=10;class IJ extends TJ{constructor(e){_J(e),zM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new aS({...a,autoplay:!1}),h=Bs(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-MC).value,u.sample(h).value,MC),u.stop()}}const LC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function CJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=LC(s,e),u=LC(i,e);return!a||!u?!1:CJ(t)||(n==="spring"||KM(n))&&r}function Ub(t){t.duration=0,t.type="keyframes"}const PJ=new Set(["opacity","clipPath","filter","transform"]),RJ=Q1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NJ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:d}=n.owner.getProps();return RJ()&&r&&PJ.has(r)&&(r!=="transform"||!d)&&!h&&!s&&i!=="mirror"&&a!==0&&u!=="inertia"}const DJ=40;class OJ extends oS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:u,name:h,motionValue:d,element:m,...g}){var v;super(),this.stop=()=>{var k,I;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=er.now();const E={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:h,motionValue:d,element:m,...g},_=(m==null?void 0:m.KeyframeResolver)||lS;this.keyframeResolver=new _(u,(k,I,P)=>this.onKeyframesResolved(k,I,E,!P),h,d,m),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:u,delay:h,isHandoff:d,onUpdate:m}=r;this.resolvedAt=er.now(),AJ(e,i,a,u)||((Fi.instantAnimations||!h)&&(m==null||m(iS(e,r,n))),e[0]=e[e.length-1],Ub(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>DJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&NJ(g)?new IJ({...g,element:g.motionValue.owner.current}):new aS(g);v.finished.then(()=>this.notifyFinished()).catch(Fr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),gJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const MJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LJ(t){const e=MJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function QM(t,e,n=1){const[r,s]=LJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return yM(a)?parseFloat(a):a}return eS(s)?QM(s,e,n+1):s}function uS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const YM=new Set(["width","height","top","left","right","bottom",...Fc]),jJ={test:t=>t==="auto",parse:t=>t},XM=t=>e=>e.test(t),JM=[jc,Le,zs,Oo,CX,IX,jJ],jC=t=>JM.find(XM(t));function FJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wM(t):!0}const UJ=new Set(["brightness","contrast","saturate","opacity"]);function VJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(tS)||[];if(!r)return t;const s=n.replace(r,"");let i=UJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const BJ=/\b([a-z-]*)\(.*?\)/gu,Vb={...na,getAnimatableNone:t=>{const e=t.match(BJ);return e?e.map(VJ).join(" "):t}},FC={...jc,transform:Math.round},zJ={rotate:Oo,rotateX:Oo,rotateY:Oo,rotateZ:Oo,scale:Em,scaleX:Em,scaleY:Em,scaleZ:Em,skew:Oo,skewX:Oo,skewY:Oo,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Zd,originX:kC,originY:kC,originZ:Le},cS={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...zJ,zIndex:FC,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:FC},$J={...cS,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Vb,WebkitFilter:Vb},ZM=t=>$J[t];function eL(t,e){let n=ZM(t);return n!==Vb&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qJ=new Set(["auto","none","0"]);function GJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!qJ.has(i)&&ef(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=eL(n,s)}class HJ extends lS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let d=e[h];if(typeof d=="string"&&(d=d.trim(),eS(d))){const m=QM(d,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!YM.has(r)||e.length!==2)return;const[s,i]=e,a=jC(s),u=jC(i);if(a!==u)if(DC(a)&&DC(u))for(let h=0;h<e.length;h++){const d=e[h];typeof d=="string"&&(e[h]=parseFloat(d))}else dl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||FJ(e[s]))&&r.push(s);r.length&&GJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,u=s[a];s[a]=dl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([h,d])=>{n.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function KJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const tL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function WJ(t){return vM(t)&&"offsetHeight"in t}const UC=30,QJ=t=>!isNaN(parseFloat(t));class YJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=er.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Y1);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>UC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UC);return bM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tc(t,e){return new YJ(t,e)}const{schedule:hS}=RM(queueMicrotask,!1),Jr={x:!1,y:!1};function nL(){return Jr.x||Jr.y}function XJ(t){return t==="x"||t==="y"?Jr[t]?null:(Jr[t]=!0,()=>{Jr[t]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function rL(t,e){const n=KJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function VC(t){return!(t.pointerType==="touch"||nL())}function JJ(t,e,n={}){const[r,s,i]=rL(t,n),a=u=>{if(!VC(u))return;const{target:h}=u,d=e(h,u);if(typeof d!="function"||!h)return;const m=g=>{VC(g)&&(d(g),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return r.forEach(u=>{u.addEventListener("pointerenter",a,s)}),i}const sL=(t,e)=>e?t===e?!0:sL(t,e.parentElement):!1,dS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eZ(t){return ZJ.has(t.tagName)||t.tabIndex!==-1}const Qm=new WeakSet;function BC(t){return e=>{e.key==="Enter"&&t(e)}}function hw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=BC(()=>{if(Qm.has(n))return;hw(n,"down");const s=BC(()=>{hw(n,"up")}),i=()=>hw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zC(t){return dS(t)&&!nL()}function nZ(t,e,n={}){const[r,s,i]=rL(t,n),a=u=>{const h=u.currentTarget;if(!zC(u))return;Qm.add(h);const d=e(h,u),m=(E,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Qm.has(h)&&Qm.delete(h),zC(E)&&typeof d=="function"&&d(E,{success:_})},g=E=>{m(E,h===window||h===document||n.useGlobalTarget||sL(h,E.target))},v=E=>{m(E,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",a,s),WJ(u)&&(u.addEventListener("focus",h=>tZ(h,s)),!eZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function iL(t){return vM(t)&&"ownerSVGElement"in t}function rZ(t){return iL(t)&&t.tagName==="svg"}const Pn=t=>!!(t&&t.getVelocity),sZ=[...JM,Yt,na],iZ=t=>sZ.find(XM(t)),oL=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oZ(t=!0){const e=S.useContext(G1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{if(t)return s(i)},[t]);const a=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const aL=S.createContext({strict:!1}),$C={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in $C)kc[t]={isEnabled:e=>$C[t].some(n=>!!e[n])};function aZ(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const lZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lZ.has(t)}let lL=t=>!Gg(t);function uZ(t){typeof t=="function"&&(lL=e=>e.startsWith("on")?!Gg(e):t(e))}try{uZ(require("@emotion/is-prop-valid").default)}catch{}function cZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(lL(s)||n===!0&&Gg(s)||!e&&!Gg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Gy=S.createContext({});function Hy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tf(t){return typeof t=="string"||Array.isArray(t)}const fS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pS=["initial",...fS];function Ky(t){return Hy(t.animate)||pS.some(e=>tf(t[e]))}function uL(t){return!!(Ky(t)||t.variants)}function hZ(t,e){if(Ky(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tf(n)?n:void 0,animate:tf(r)?r:void 0}}return t.inherit!==!1?e:{}}function dZ(t){const{initial:e,animate:n}=hZ(t,S.useContext(Gy));return S.useMemo(()=>({initial:e,animate:n}),[qC(e),qC(n)])}function qC(t){return Array.isArray(t)?t.join(" "):t}const nf={};function fZ(t){for(const e in t)nf[e]=t[e],Z1(e)&&(nf[e].isCSSVariable=!0)}function cL(t,{layout:e,layoutId:n}){return Uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nf[t]||t==="opacity")}const pZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mZ=Fc.length;function gZ(t,e,n){let r="",s=!0;for(let i=0;i<mZ;i++){const a=Fc[i],u=t[a];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(a.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const d=tL(u,cS[a]);if(!h){s=!1;const m=pZ[a]||a;r+=`${m}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function mS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,u=!1;for(const h in e){const d=e[h];if(Uc.has(h)){a=!0;continue}else if(Z1(h)){s[h]=d;continue}else{const m=tL(d,cS[h]);h.startsWith("origin")?(u=!0,i[h]=m):r[h]=m}}if(e.transform||(a||n?r.transform=gZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:d="50%",originZ:m=0}=i;r.transformOrigin=`${h} ${d} ${m}`}}const gS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hL(t,e,n){for(const r in e)!Pn(e[r])&&!cL(r,n)&&(t[r]=e[r])}function yZ({transformTemplate:t},e){return S.useMemo(()=>{const n=gS();return mS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vZ(t,e){const n=t.style||{},r={};return hL(r,n,t),Object.assign(r,yZ(t,e)),r}function wZ(t,e){const n={},r=vZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},xZ={offset:"strokeDashoffset",array:"strokeDasharray"};function SZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?bZ:xZ;t[i.offset]=Le.transform(-r);const a=Le.transform(e),u=Le.transform(n);t[i.array]=`${a} ${u}`}function dL(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...u},h,d,m){if(mS(t,u,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&SZ(g,s,i,a,!1)}const fL=()=>({...gS(),attrs:{}}),pL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EZ(t,e,n,r){const s=S.useMemo(()=>{const i=fL();return dL(i,e,pL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};hL(i,t.style,t),s.style={...i,...s.style}}return s}const TZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yS(t){return typeof t!="string"||t.includes("-")?!1:!!(TZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function kZ(t,e,n,{latestValues:r},s,i=!1){const a=(yS(t)?EZ:wZ)(e,r,s,t),u=cZ(e,typeof t=="string",i),h=t!==S.Fragment?{...u,...a,ref:n}:{},{children:d}=e,m=S.useMemo(()=>Pn(d)?d.get():d,[d]);return S.createElement(t,{...h,children:m})}function GC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vS(t,e,n,r){if(typeof e=="function"){const[s,i]=GC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=GC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Ym(t){return Pn(t)?t.get():t}function _Z({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:IZ(n,r,s,t),renderState:e()}}function IZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Ym(i[v]);let{initial:a,animate:u}=t;const h=Ky(t),d=uL(t);e&&d&&!h&&t.inherit!==!1&&(a===void 0&&(a=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const g=m?u:a;if(g&&typeof g!="boolean"&&!Hy(g)){const v=Array.isArray(g)?g:[g];for(let E=0;E<v.length;E++){const _=vS(t,v[E]);if(_){const{transitionEnd:k,transition:I,...P}=_;for(const R in P){let M=P[R];if(Array.isArray(M)){const V=m?M.length-1:0;M=M[V]}M!==null&&(s[R]=M)}for(const R in k)s[R]=k[R]}}}return s}const mL=t=>(e,n)=>{const r=S.useContext(Gy),s=S.useContext(G1),i=()=>_Z(t,e,r,s);return n?i():aX(i)};function wS(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(Pn(s[a])||e.style&&Pn(e.style[a])||cL(a,t)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}const CZ=mL({scrapeMotionValuesFromProps:wS,createRenderState:gS});function gL(t,e,n){const r=wS(t,e,n);for(const s in t)if(Pn(t[s])||Pn(e[s])){const i=Fc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const AZ=mL({scrapeMotionValuesFromProps:gL,createRenderState:fL}),PZ=Symbol.for("motionComponentSymbol");function Xu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RZ(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xu(n)&&(n.current=r))},[e])}const bS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NZ="framerAppearId",yL="data-"+bS(NZ),vL=S.createContext({});function DZ(t,e,n,r,s){var i,a;const{visualElement:u}=S.useContext(Gy),h=S.useContext(aL),d=S.useContext(G1),m=S.useContext(oL).reducedMotion,g=S.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,E=S.useContext(vL);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&OZ(g.current,n,s,E);const _=S.useRef(!1);S.useInsertionEffect(()=>{v&&_.current&&v.update(n,d)});const k=n[yL],I=S.useRef(!!k&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,k))&&((a=window.MotionHasOptimisedAnimation)==null?void 0:a.call(window,k)));return lX(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),I.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,k)}),I.current=!1),v.enteringChildren=void 0)}),v}function OZ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:u,layoutScroll:h,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||u&&Xu(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:h,layoutRoot:d})}function wL(t){if(t)return t.options.allowProjection!==!1?t.projection:wL(t.parent)}function dw(t,{forwardMotionProps:e=!1}={},n,r){n&&aZ(n);const s=yS(t)?AZ:CZ;function i(u,h){let d;const m={...S.useContext(oL),...u,layoutId:MZ(u)},{isStatic:g}=m,v=dZ(u),E=s(u,g);if(!g&&q1){LZ();const _=jZ(m);d=_.MeasureLayout,v.visualElement=DZ(t,E,m,r,_.ProjectionNode)}return x.jsxs(Gy.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...m}):null,kZ(t,u,RZ(E,v.visualElement,h),E,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=S.forwardRef(i);return a[PZ]=t,a}function MZ({layoutId:t}){const e=S.useContext(gM).id;return e&&t!==void 0?e+"-"+t:t}function LZ(t,e){S.useContext(aL).strict}function jZ(t){const{drag:e,layout:n}=kc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function FZ(t,e){if(typeof Proxy>"u")return dw;const n=new Map,r=(i,a)=>dw(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,dw(a,void 0,t,e)),n.get(a))})}function bL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function UZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fw(t){return t===void 0||t===1}function Bb({scale:t,scaleX:e,scaleY:n}){return!fw(t)||!fw(e)||!fw(n)}function Xa(t){return Bb(t)||xL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xL(t){return HC(t.x)||HC(t.y)}function HC(t){return t&&t!=="0%"}function Hg(t,e,n){const r=t-n,s=e*r;return n+s}function KC(t,e,n,r,s){return s!==void 0&&(t=Hg(t,s,r)),Hg(t,n,r)+e}function zb(t,e=0,n=1,r,s){t.min=KC(t.min,e,n,r,s),t.max=KC(t.max,e,n,r,s)}function SL(t,{x:e,y:n}){zb(t.x,e.translate,e.scale,e.originPoint),zb(t.y,n.translate,n.scale,n.originPoint)}const WC=.999999999999,QC=1.0000000000001;function BZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let u=0;u<s;u++){i=n[u],a=i.projectionDelta;const{visualElement:h}=i.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,SL(t,a)),r&&Xa(i.latestValues)&&Zu(t,i.latestValues))}e.x<QC&&e.x>WC&&(e.x=1),e.y<QC&&e.y>WC&&(e.y=1)}function Ju(t,e){t.min=t.min+e,t.max=t.max+e}function YC(t,e,n,r,s=.5){const i=_t(t.min,t.max,s);zb(t,e,n,i,r)}function Zu(t,e){YC(t.x,e.x,e.scaleX,e.scale,e.originX),YC(t.y,e.y,e.scaleY,e.scale,e.originY)}function EL(t,e){return bL(VZ(t.getBoundingClientRect(),e))}function zZ(t,e,n){const r=EL(t,n),{scroll:s}=e;return s&&(Ju(r.x,s.offset.x),Ju(r.y,s.offset.y)),r}const XC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ec=()=>({x:XC(),y:XC()}),JC=()=>({min:0,max:0}),Bt=()=>({x:JC(),y:JC()}),$b={current:null},TL={current:!1};function $Z(){if(TL.current=!0,!!q1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$b.current=t.matches;t.addEventListener("change",e),e()}else $b.current=!1}const qZ=new WeakMap;function GZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Pn(s))t.addValue(r,s);else if(Pn(i))t.addValue(r,Tc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Tc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=er.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,xt.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=a;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Ky(n),this.isVariantNode=uL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const E=g[v];h[v]!==void 0&&Pn(E)&&E.set(h[v])}}mount(e){var n;this.current=e,qZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),TL.current||$Z(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$b.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Uc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kc){const n=kc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZC.length;r++){const s=ZC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=GZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Tc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yM(r)||wM(r))?r=parseFloat(r):!iZ(r)&&na.test(n)&&(r=eL(e,n)),this.setBaseTarget(e,Pn(r)?r.get():r)),Pn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=vS(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Y1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){hS.render(this.render)}}class kL extends HZ{constructor(){super(...arguments),this.KeyframeResolver=HJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _L(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function KZ(t){return window.getComputedStyle(t)}class WZ extends kL{constructor(){super(...arguments),this.type="html",this.renderInstance=_L}readValueFromInstance(e,n){var r;if(Uc.has(n))return(r=this.projection)!=null&&r.isProjecting?Ob(n):hJ(e,n);{const s=KZ(e),i=(Z1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EL(e,n)}build(e,n,r){mS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wS(e,n,r)}}const IL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QZ(t,e,n,r){_L(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(IL.has(s)?s:bS(s),e.attrs[s])}class YZ extends kL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uc.has(n)){const r=ZM(n);return r&&r.default||0}return n=IL.has(n)?n:bS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gL(e,n,r)}build(e,n,r){dL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){QZ(e,n,r,s)}mount(e){this.isSVGTag=pL(e.tagName),super.mount(e)}}const XZ=(t,e)=>yS(t)?new YZ(e):new WZ(e,{allowProjection:t!==S.Fragment});function lc(t,e,n){const r=t.getProps();return vS(r,e,n!==void 0?n:r.custom,t)}const qb=t=>Array.isArray(t);function JZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tc(n))}function ZZ(t){return qb(t)?t[t.length-1]||0:t}function eee(t,e){const n=lc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const u=ZZ(i[a]);JZ(t,a,u)}}function tee(t){return!!(Pn(t)&&t.add)}function Gb(t,e){const n=t.getValue("willChange");if(tee(n))return n.add(e);if(!n&&Fi.WillChange){const r=new Fi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function CL(t){return t.props[yL]}const nee=t=>t!==null;function ree(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(nee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const see={type:"spring",stiffness:500,damping:25,restSpeed:10},iee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oee={type:"keyframes",duration:.8},aee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lee=(t,{keyframes:e})=>e.length>2?oee:Uc.has(t)?t.startsWith("scale")?iee(e[1]):see:aee;function uee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:u,from:h,elapsed:d,...m}){return!!Object.keys(m).length}const xS=(t,e,n,r={},s,i)=>a=>{const u=uS(r,t)||{},h=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Bs(h);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{a(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};uee(u)||Object.assign(m,lee(t,m)),m.duration&&(m.duration=Bs(m.duration)),m.repeatDelay&&(m.repeatDelay=Bs(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Ub(m),m.delay===0&&(g=!0)),(Fi.instantAnimations||Fi.skipAnimations)&&(g=!0,Ub(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=ree(m.keyframes,u);if(v!==void 0){xt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new aS(m):new OJ(m)};function cee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function AL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(i=r);const h=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),v=u[m];if(v===void 0||d&&cee(d,m))continue;const E={delay:n,...uS(i||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===_&&!E.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const P=CL(t);if(P){const R=window.MotionHandoffAnimation(P,m,xt);R!==null&&(E.startTime=R,k=!0)}}Gb(t,m),g.start(xS(m,g,v,t.shouldReduceMotion&&YM.has(m)?{type:!1}:E,t,k));const I=g.animation;I&&h.push(I)}return a&&Promise.all(h).then(()=>{xt.update(()=>{a&&eee(t,a)})}),h}function PL(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,d)=>h.sortNodePosition(d)).indexOf(e),a=t.size,u=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:u-i*r}function Hb(t,e,n={}){var r;const s=lc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(AL(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return hee(t,e,d,m,g,v,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[d,m]=h==="beforeChildren"?[a,u]:[u,a];return d().then(()=>m())}else return Promise.all([a(),u(n.delay)])}function hee(t,e,n=0,r=0,s=0,i=1,a){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Hb(h,e,{...a,delay:n+(typeof r=="function"?0:r)+PL(t.variantChildren,h,r,s,i)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function dee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Hb(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Hb(t,e,n);else{const s=typeof e=="function"?lc(t,e,n.custom):e;r=Promise.all(AL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function RL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const fee=pS.length;function NL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fee;n++){const r=pS[n],s=t.props[r];(tf(s)||s===!1)&&(e[r]=s)}return e}const pee=[...fS].reverse(),mee=fS.length;function gee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dee(t,n,r)))}function yee(t){let e=gee(t),n=e2(),r=!0;const s=h=>(d,m)=>{var g;const v=lc(t,m,h==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:E,transitionEnd:_,...k}=v;d={...d,...k,..._}}return d};function i(h){e=h(t)}function a(h){const{props:d}=t,m=NL(t.parent)||{},g=[],v=new Set;let E={},_=1/0;for(let I=0;I<mee;I++){const P=pee[I],R=n[P],M=d[P]!==void 0?d[P]:m[P],V=tf(M),z=P===h?R.isActive:null;z===!1&&(_=I);let K=M===m[P]&&M!==d[P]&&V;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),R.protectedKeys={...E},!R.isActive&&z===null||!M&&!R.prevProp||Hy(M)||typeof M=="boolean")continue;const D=vee(R.prevProp,M);let C=D||P===h&&R.isActive&&!K&&V||I>_&&V,N=!1;const j=Array.isArray(M)?M:[M];let U=j.reduce(s(P),{});z===!1&&(U={});const{prevResolvedValues:$={}}=R,L={...$,...U},be=ye=>{C=!0,v.has(ye)&&(N=!0,v.delete(ye)),R.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=U[ye],W=$[ye];if(E.hasOwnProperty(ye))continue;let ne=!1;qb(ve)&&qb(W)?ne=!RL(ve,W):ne=ve!==W,ne?ve!=null?be(ye):v.add(ye):ve!==void 0&&v.has(ye)?be(ye):R.protectedKeys[ye]=!0}R.prevProp=M,R.prevResolvedValues=U,R.isActive&&(E={...E,...U}),r&&t.blockInitialAnimation&&(C=!1);const Ne=K&&D;C&&(!Ne||N)&&g.push(...j.map(ye=>{const ve={type:P};if(typeof ye=="string"&&r&&!Ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,ne=lc(W,ye);if(W.enteringChildren&&ne){const{delayChildren:oe}=ne.transition||{};ve.delay=PL(W.enteringChildren,t,oe)}}return{animation:ye,options:ve}}))}if(v.size){const I={};if(typeof d.initial!="boolean"){const P=lc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);P&&P.transition&&(I.transition=P.transition)}v.forEach(P=>{const R=t.getBaseTarget(P),M=t.getValue(P);M&&(M.liveStyle=!0),I[P]=R??null}),g.push({animation:I})}let k=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(g):Promise.resolve()}function u(h,d){var m;if(n[h].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(v=>{var E;return(E=v.animationState)==null?void 0:E.setActive(h,d)}),n[h].isActive=d;const g=a(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:a,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=e2()}}}function vee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RL(e,t):!1}function Ga(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function e2(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wee extends aa{constructor(e){super(e),e.animationState||(e.animationState=yee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let bee=0;class xee extends aa{constructor(){super(...arguments),this.id=bee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const See={animation:{Feature:wee},exit:{Feature:xee}};function rf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Of(t){return{point:{x:t.pageX,y:t.pageY}}}const Eee=t=>e=>dS(e)&&t(e,Of(e));function Ed(t,e,n,r){return rf(t,e,Eee(n),r)}const DL=1e-4,Tee=1-DL,kee=1+DL,OL=.01,_ee=0-OL,Iee=0+OL;function Ln(t){return t.max-t.min}function Cee(t,e,n){return Math.abs(t-e)<=n}function t2(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Tee&&t.scale<=kee||isNaN(t.scale))&&(t.scale=1),(t.translate>=_ee&&t.translate<=Iee||isNaN(t.translate))&&(t.translate=0)}function Td(t,e,n,r){t2(t.x,e.x,n.x,r?r.originX:void 0),t2(t.y,e.y,n.y,r?r.originY:void 0)}function n2(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function Aee(t,e,n){n2(t.x,e.x,n.x),n2(t.y,e.y,n.y)}function r2(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function kd(t,e,n){r2(t.x,e.x,n.x),r2(t.y,e.y,n.y)}function Rr(t){return[t("x"),t("y")]}const ML=({current:t})=>t?t.ownerDocument.defaultView:null,s2=(t,e)=>Math.abs(t-e);function Pee(t,e){const n=s2(t.x,e.x),r=s2(t.y,e.y);return Math.sqrt(n**2+r**2)}class LL{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=mw(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,_=Pee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!_)return;const{point:k}=v,{timestamp:I}=mn;this.history.push({...k,timestamp:I});const{onStart:P,onMove:R}=this.handlers;E||(P&&P(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=pw(E,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=mw(v.type==="pointercancel"?this.lastMoveEventInfo:pw(E,this.transformPagePoint),this.history);this.startEvent&&_&&_(v,P),k&&k(v,P)},!dS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const u=Of(e),h=pw(u,this.transformPagePoint),{point:d}=h,{timestamp:m}=mn;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,mw(h,this.history)),this.removeListeners=Rf(Ed(this.contextWindow,"pointermove",this.handlePointerMove),Ed(this.contextWindow,"pointerup",this.handlePointerUp),Ed(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function pw(t,e){return e?{point:e(t.point)}:t}function i2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mw({point:t},e){return{point:t,delta:i2(t,jL(e)),offset:i2(t,Ree(e)),velocity:Nee(e,.1)}}function Ree(t){return t[0]}function jL(t){return t[t.length-1]}function Nee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=jL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Bs(e)));)n--;if(!r)return{x:0,y:0};const i=Mr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Dee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function o2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Oee(t,{top:e,left:n,bottom:r,right:s}){return{x:o2(t.x,n,s),y:o2(t.y,e,r)}}function a2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Mee(t,e){return{x:a2(t.x,e.x),y:a2(t.y,e.y)}}function Lee(t,e){let n=.5;const r=Ln(t),s=Ln(e);return s>r?n=Jd(e.min,e.max-r,t.min):r>s&&(n=Jd(t.min,t.max-s,e.min)),ji(0,1,n)}function jee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kb=.35;function Fee(t=Kb){return t===!1?t=0:t===!0&&(t=Kb),{x:l2(t,"left","right"),y:l2(t,"top","bottom")}}function l2(t,e,n){return{min:u2(t,e),max:u2(t,n)}}function u2(t,e){return typeof t=="number"?t:t[e]||0}const Uee=new WeakMap;class Vee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Of(g).point)},a=(g,v)=>{const{drag:E,dragPropagation:_,onDragStart:k}=this.getProps();if(E&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XJ(E),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(P=>{let R=this.getAxisMotionValue(P).get()||0;if(zs.test(R)){const{projection:M}=this.visualElement;if(M&&M.layout){const V=M.layout.layoutBox[P];V&&(R=Ln(V)*(parseFloat(R)/100))}}this.originPoint[P]=R}),k&&xt.postRender(()=>k(g,v)),Gb(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:E,dragDirectionLock:_,onDirectionLock:k,onDrag:I}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:P}=v;if(_&&this.currentDirection===null){this.currentDirection=Bee(P),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,P),this.updateAxis("y",v.point,P),this.visualElement.render(),I&&I(g,v)},h=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Rr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new LL(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:ML(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&xt.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Tm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Dee(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&Xu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Oee(s.layoutBox,n):this.constraints=!1,this.elastic=Fee(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Rr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=jee(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=zZ(r,s.root,this.visualElement.getTransformPagePoint());let a=Mee(s.layout.layoutBox,i);if(n){const u=n(UZ(a));this.hasMutatedConstraints=!!u,u&&(a=bL(u))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},d=Rr(m=>{if(!Tm(m,n,this.currentDirection))return;let g=h&&h[m]||{};a&&(g={min:0,max:0});const v=s?200:1e6,E=s?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Gb(this.visualElement,e),r.start(xS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rr(n=>{const{drag:r}=this.getProps();if(!Tm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:u}=s.layout.layoutBox[n];i.set(e[n]-_t(a,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rr(a=>{const u=this.getAxisMotionValue(a);if(u&&this.constraints!==!1){const h=u.get();s[a]=Lee({min:h,max:h},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rr(a=>{if(!Tm(a,e,null))return;const u=this.getAxisMotionValue(a),{min:h,max:d}=this.constraints[a];u.set(_t(h,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;Uee.set(this.visualElement,this);const e=this.visualElement.current,n=Ed(e,"pointerdown",h=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Xu(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xt.read(r);const a=rf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Kb,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:u}}}function Tm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Bee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zee extends aa{constructor(e){super(e),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new Vee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const c2=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class $ee extends aa{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(e){this.session=new LL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ML(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:c2(e),onStart:c2(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&xt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Ed(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const td={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=h2(t,e.target.x),r=h2(t,e.target.y);return`${n}% ${r}%`}},qee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=na.parse(t);if(s.length>5)return r;const i=na.createTransformer(t),a=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+a]/=u,s[1+a]/=h;const d=_t(u,h,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};let gw=!1;class Gee extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;fZ(Hee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),gw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,gw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||xt.postRender(()=>{const u=a.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;gw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FL(t){const[e,n]=oZ(),r=S.useContext(gM);return x.jsx(Gee,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(vL),isPresent:e,safeToRemove:n})}const Hee={borderRadius:{...td,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:td,borderTopRightRadius:td,borderBottomLeftRadius:td,borderBottomRightRadius:td,boxShadow:qee};function Kee(t,e,n){const r=Pn(t)?t:Tc(t);return r.start(xS("",r,e,n)),r.animation}const Wee=(t,e)=>t.depth-e.depth;class Qee{constructor(){this.children=[],this.isDirty=!1}add(e){H1(this.children,e),this.isDirty=!0}remove(e){K1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wee),this.isDirty=!1,this.children.forEach(e)}}function Yee(t,e){const n=er.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ta(r),t(i-e))};return xt.setup(r,!0),()=>ta(r)}const UL=["TopLeft","TopRight","BottomLeft","BottomRight"],Xee=UL.length,d2=t=>typeof t=="string"?parseFloat(t):t,f2=t=>typeof t=="number"||Le.test(t);function Jee(t,e,n,r,s,i){s?(t.opacity=_t(0,n.opacity??1,Zee(r)),t.opacityExit=_t(e.opacity??1,0,ete(r))):i&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let a=0;a<Xee;a++){const u=`border${UL[a]}Radius`;let h=p2(e,u),d=p2(n,u);h===void 0&&d===void 0||(h||(h=0),d||(d=0),h===0||d===0||f2(h)===f2(d)?(t[u]=Math.max(_t(d2(h),d2(d),r),0),(zs.test(d)||zs.test(h))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function p2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Zee=VL(0,.5,IM),ete=VL(.5,.95,Fr);function VL(t,e,n){return r=>r<t?0:r>e?1:n(Jd(t,e,r))}function m2(t,e){t.min=e.min,t.max=e.max}function Pr(t,e){m2(t.x,e.x),m2(t.y,e.y)}function g2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function y2(t,e,n,r,s){return t-=e,t=Hg(t,1/n,r),s!==void 0&&(t=Hg(t,1/s,r)),t}function tte(t,e=0,n=1,r=.5,s,i=t,a=t){if(zs.test(e)&&(e=parseFloat(e),e=_t(a.min,a.max,e/100)-a.min),typeof e!="number")return;let u=_t(i.min,i.max,r);t===i&&(u-=e),t.min=y2(t.min,e,n,u,s),t.max=y2(t.max,e,n,u,s)}function v2(t,e,[n,r,s],i,a){tte(t,e[n],e[r],e[s],e.scale,i,a)}const nte=["x","scaleX","originX"],rte=["y","scaleY","originY"];function w2(t,e,n,r){v2(t.x,e,nte,n?n.x:void 0,r?r.x:void 0),v2(t.y,e,rte,n?n.y:void 0,r?r.y:void 0)}function b2(t){return t.translate===0&&t.scale===1}function BL(t){return b2(t.x)&&b2(t.y)}function x2(t,e){return t.min===e.min&&t.max===e.max}function ste(t,e){return x2(t.x,e.x)&&x2(t.y,e.y)}function S2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function zL(t,e){return S2(t.x,e.x)&&S2(t.y,e.y)}function E2(t){return Ln(t.x)/Ln(t.y)}function T2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ite{constructor(){this.members=[]}add(e){H1(this.members,e),e.scheduleRender()}remove(e){if(K1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ote(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:v,skewX:E,skewY:_}=n;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),E&&(r+=`skewX(${E}deg) `),_&&(r+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const yw=["","X","Y","Z"],ate=1e3;let lte=0;function vw(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $L(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=CL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$L(r)}function qL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=lte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hte),this.nodes.forEach(mte),this.nodes.forEach(gte),this.nodes.forEach(dte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qee)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Y1),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const u=this.eventHandlers.get(i);u&&u.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=iL(i)&&!rZ(i),this.instance=i;const{layoutId:a,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let d,m=0;const g=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{m=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,d&&d(),d=Yee(g,250),Xm.hasAnimatedSinceResize&&(Xm.hasAnimatedSinceResize=!1,this.nodes.forEach(I2)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&h&&(a||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||xte,{onLayoutAnimationStart:_,onLayoutAnimationComplete:k}=h.getProps(),I=!this.targetLayout||!zL(this.targetLayout,v),P=!m&&g;if(this.options.layoutRoot||this.resumeFrom||P||m&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...uS(E,"layout"),onPlay:_,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(d,P)}else m||I2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$L(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pte),this.nodes.forEach(ute),this.nodes.forEach(cte)):this.nodes.forEach(_2),this.clearAllSnapshots();const i=er.now();mn.delta=ji(0,1e3/60,i-mn.timestamp),mn.timestamp=i,mn.isProcessing=!0,ow.update.process(mn),ow.preRender.process(mn),ow.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fte),this.sharedNodes.forEach(vte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!BL(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;i&&this.instance&&(a||Xa(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return i&&(u=this.removeTransform(u)),Ste(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:a}=this.options;if(!a)return Bt();const u=a.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some(Ete))){const{scroll:h}=this.root;h&&(Ju(u.x,h.offset.x),Ju(u.y,h.offset.y))}return u}removeElementScroll(i){var a;const u=Bt();if(Pr(u,i),(a=this.scroll)!=null&&a.wasRoot)return u;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Pr(u,i),Ju(u.x,m.offset.x),Ju(u.y,m.offset.y))}return u}applyTransform(i,a=!1){const u=Bt();Pr(u,i);for(let h=0;h<this.path.length;h++){const d=this.path[h];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zu(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xa(d.latestValues)&&Zu(u,d.latestValues)}return Xa(this.latestValues)&&Zu(u,this.latestValues),u}removeTransform(i){const a=Bt();Pr(a,i);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Xa(h.latestValues))continue;Bb(h.latestValues)&&h.updateSnapshot();const d=Bt(),m=h.measurePageBox();Pr(d,m),w2(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Xa(this.latestValues)&&w2(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(i||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(a=this.parent)!=null&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),kd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Aee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),SL(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),kd(this.relativeTargetOrigin,this.target,g.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bb(this.parent.latestValues)||xL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let h=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Pr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;BZ(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Bt());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g2(this.prevProjectionDelta.x,this.projectionDelta.x),g2(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!T2(this.projectionDelta.x,this.prevProjectionDelta.x)||!T2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ec(),this.projectionDelta=ec(),this.projectionDeltaWithTransform=ec()}setAnimationOrigin(i,a=!1){const u=this.snapshot,h=u?u.latestValues:{},d={...this.latestValues},m=ec();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Bt(),v=u?u.source:void 0,E=this.layout?this.layout.source:void 0,_=v!==E,k=this.getStack(),I=!k||k.members.length<=1,P=!!(_&&!I&&this.options.crossfade===!0&&!this.path.some(bte));this.animationProgress=0;let R;this.mixTargetDelta=M=>{const V=M/1e3;C2(m.x,i.x,V),C2(m.y,i.y,V),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wte(this.relativeTarget,this.relativeTargetOrigin,g,V),R&&ste(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Bt()),Pr(R,this.relativeTarget)),_&&(this.animationValues=d,Jee(d,h,this.latestValues,V,P,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var a,u,h;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Xm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tc(0)),this.currentAnimation=Kee(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ate),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:u,layout:h,latestValues:d}=i;if(!(!a||!u||!h)){if(this!==i&&this.layout&&h&&GL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Bt();const m=Ln(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+m;const g=Ln(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Pr(a,u),Zu(a,d),Td(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ite),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const h={};u.z&&vw("z",i,h,this.animationValues);for(let d=0;d<yw.length;d++)vw(`rotate${yw[d]}`,i,h,this.animationValues),vw(`skew${yw[d]}`,i,h,this.animationValues);i.render();for(const d in h)i.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);i.scheduleRender()}applyProjectionStyles(i,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Ym(a==null?void 0:a.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Ym(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=ote(this.projectionDeltaWithTransform,this.treeScale,d);u&&(m=u(d,m)),i.transform=m;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?i.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const E in nf){if(d[E]===void 0)continue;const{correct:_,applyTo:k,isCSSVariable:I}=nf[E],P=m==="none"?d[E]:_(d[E],h);if(k){const R=k.length;for(let M=0;M<R;M++)i[k[M]]=P}else I?this.options.visualElement.renderState.vars[E]=P:i[E]=P}this.options.layoutId&&(i.pointerEvents=h===this?Ym(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(k2),this.root.sharedNodes.clear()}}}function ute(t){t.updateLayout()}function cte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Rr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],E=Ln(v);v.min=r[g].min,v.max=v.min+E}):GL(i,n.layoutBox,r)&&Rr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],E=Ln(r[g]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const u=ec();Td(u,r,n.layoutBox);const h=ec();a?Td(h,t.applyTransform(s,!0),n.measuredBox):Td(h,r,n.layoutBox);const d=!BL(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:E}=g;if(v&&E){const _=Bt();kd(_,n.layoutBox,v.layoutBox);const k=Bt();kd(k,r,E.layoutBox),zL(_,k)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fte(t){t.clearSnapshot()}function k2(t){t.clearMeasurements()}function _2(t){t.isLayoutDirty=!1}function pte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mte(t){t.resolveTargetDelta()}function gte(t){t.calcProjection()}function yte(t){t.resetSkewAndRotation()}function vte(t){t.removeLeadSnapshot()}function C2(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A2(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function wte(t,e,n,r){A2(t.x,e.x,n.x,r),A2(t.y,e.y,n.y,r)}function bte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xte={duration:.45,ease:[.4,0,.1,1]},P2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R2=P2("applewebkit/")&&!P2("chrome/")?Math.round:Fr;function N2(t){t.min=R2(t.min),t.max=R2(t.max)}function Ste(t){N2(t.x),N2(t.y)}function GL(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cee(E2(e),E2(n),.2)}function Ete(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Tte=qL({attachResizeListener:(t,e)=>rf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ww={current:void 0},HL=qL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ww.current){const t=new Tte({});t.mount(window),t.setOptions({layoutScroll:!0}),ww.current=t}return ww.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kte={pan:{Feature:$ee},drag:{Feature:zee,ProjectionNode:HL,MeasureLayout:FL}};function D2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&xt.postRender(()=>i(e,Of(e)))}class _te extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=JJ(e,(n,r)=>(D2(this.node,r,"Start"),s=>D2(this.node,s,"End"))))}unmount(){}}class Ite extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rf(rf(this.node.current,"focus",()=>this.onFocus()),rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&xt.postRender(()=>i(e,Of(e)))}class Cte extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=nZ(e,(n,r)=>(O2(this.node,r,"Start"),(s,{success:i})=>O2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wb=new WeakMap,bw=new WeakMap,Ate=t=>{const e=Wb.get(t.target);e&&e(t)},Pte=t=>{t.forEach(Ate)};function Rte({root:t,...e}){const n=t||document;bw.has(n)||bw.set(n,{});const r=bw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Pte,{root:t,...e})),r[s]}function Nte(t,e,n){const r=Rte(e);return Wb.set(t,n),r.observe(t),()=>{Wb.delete(t),r.unobserve(t)}}const Dte={some:0,all:1};class Ote extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Dte[s]},u=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=d?m:g;v&&v(h)};return Nte(this.node.current,a,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Mte(e,n))&&this.startObserver()}unmount(){}}function Mte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Lte={inView:{Feature:Ote},tap:{Feature:Cte},focus:{Feature:Ite},hover:{Feature:_te}},jte={layout:{ProjectionNode:HL,MeasureLayout:FL}},Fte={...See,...Lte,...kte,...jte},Ut=FZ(Fte,XZ);function Qb(){const t=m1(),{user:e,loading:n}=C1(),[r,s]=vn.useState(!1);S.useEffect(()=>{!n&&e&&t(yt("Home"))},[e,n,t]);const i=()=>{e?t(yt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const a=[{icon:z$,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:nD,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:UI,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:G0,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:VI,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:rq,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],h=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:UI,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:G0,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:VI,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:FI,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],m=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Ut.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Ut.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Ut.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Ut.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Ut.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Ut.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Ut.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Ut.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Ut.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Ut.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(pm,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(R$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(pm,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(FI,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(pm,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(rD,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Ut.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(rs,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(Z$,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(rs,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(b$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Ut.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const E=g.icon;return x.jsxs(Ut.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(E,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:m.map((g,v)=>x.jsxs(Ut.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Ut.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(pm,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((g,v)=>{const E=g.icon;return x.jsxs(Ut.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(E,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Ut.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Ut.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Ut.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:h.map((g,v)=>x.jsxs(Ut.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((E,_)=>x.jsx(G0,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},_))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Ut.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(rs,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(X$,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(wD,{onSuccess:()=>t(yt("Home"))})]})})]})}const KL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Home-CyglPuDJ-D9CUbwlO-Dn0JEjKr.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),$t([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18])),Gt([4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),WL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Game-Car3f5Hl-Cd-6q65H-DycnM-eA.js"),__vite__mapDeps([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7])),$t([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7])),Gt([19,20,1,21,22,10,23,24,16,11,17,9,25,15,26,27,28,29,7]))),QL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Avatar-D3Vaufpw-BPf8_-ke-_cfin1pE.js"),__vite__mapDeps([30,20,31,32,33,34,15,0,1,14,35,26])),$t([30,20,31,32,33,34,15,0,1,14,35,26])),Gt([30,20,31,32,33,34,15,0,1,14,35,26]))),YL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./DailyChallenge-B_TmHe71-9_GzLfER-CsxzqZM3.js"),__vite__mapDeps([36,20,1,21,22,17,10,37,27,29,5,7])),$t([36,20,1,21,22,17,10,37,27,29,5,7])),Gt([36,20,1,21,22,17,10,37,27,29,5,7]))),XL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./ParentPortal-uD_6EQCB-BlSm9-Pl-CqRX-Mqx.js"),__vite__mapDeps([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14])),$t([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14])),Gt([38,20,32,33,39,9,16,25,40,31,41,42,34,1,10,12,43,35,15,26,11,44,45,3,17,46,28,14]))),JL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Shop-Dpi3jNOM-DBLOEYJG-BF_sU9CL.js"),__vite__mapDeps([47,20,32,0,1,23,15,28,18,7])),$t([47,20,32,0,1,23,15,28,18,7])),Gt([47,20,32,0,1,23,15,28,18,7]))),ZL=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Leaderboards-CYLEtOqi-D_0nKBrZ-8wsJcEna.js"),__vite__mapDeps([48,20,32,49,9,17,7,12,10,37,46])),$t([48,20,32,49,9,17,7,12,10,37,46])),Gt([48,20,32,49,9,17,7,12,10,37,46]))),e4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./TeamChallenges-2GLMQU7M-DGgliDx1-BiEgICqP.js"),__vite__mapDeps([50,20,1,17,23,9,10])),$t([50,20,1,17,23,9,10])),Gt([50,20,1,17,23,9,10]))),t4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Subscription-BwkMZCw3-CEKs35DZ-Ca0AxS_j.js"),__vite__mapDeps([51,20,6,26])),$t([51,20,6,26])),Gt([51,20,6,26]))),n4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./GenerateIcons-B2dbw11g-DbI9Llo8-DSH_4hZW.js"),__vite__mapDeps([52,53,26,3,8])),$t([52,53,26,3,8])),Gt([52,53,26,3,8]))),r4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./TestIconGeneration-CQ_anw_c-DHgdrWEA-CQ8b8X2E.js"),__vite__mapDeps([54,53])),$t([54,53])),Gt([54,53]))),s4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Messages-Ro3POV2v-CReMRa01-C3gv55fU.js"),__vite__mapDeps([55,20,39,45,44,16,43])),$t([55,20,39,45,44,16,43])),Gt([55,20,39,45,44,16,43]))),i4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./ColorByNumbers-C-wguKtm-Bn3BlVF7-BLo1ZjK5.js"),__vite__mapDeps([56,20,41,42,34,29,18,12,13,44,24,3,57])),$t([56,20,41,42,34,29,18,12,13,44,24,3,57])),Gt([56,20,41,42,34,29,18,12,13,44,24,3,57]))),o4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Settings-8809jpiZ-B7_Y2-Lf-Ob_cgABU.js"),__vite__mapDeps([58,42,22,18,44,10,12,13,57,24,26,43])),$t([58,42,22,18,44,10,12,13,57,24,26,43])),Gt([58,42,22,18,44,10,12,13,57,24,26,43]))),a4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./PrivacyPolicy-BVigO746-wx1walw0-DZa-2oPw.js"),__vite__mapDeps([59,26,15,45])),$t([59,26,15,45])),Gt([59,26,15,45]))),l4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./AITutor-pphYUSPx-B8CYTmba-CJp6NfrQ.js"),__vite__mapDeps([60,32,10,25,16,7,27,1,9,40,17,28,15,11])),$t([60,32,10,25,16,7,27,1,9,40,17,28,15,11])),Gt([60,32,10,25,16,7,27,1,9,40,17,28,15,11]))),u4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./AdminTestAccount-vgF3JIMZ-DLwBWfuV-B6y8j50m.js"),__vite__mapDeps([61,31,49,26])),$t([61,31,49,26])),Gt([61,31,49,26]))),c4=S.lazy(()=>Ht(()=>qt(()=>zt(()=>import("./Subscribe-CBrYcDKc-BQQoBtfw-x_C8Mm2o.js"),__vite__mapDeps([62,53])),$t([62,53])),Gt([62,53]))),M2={Home:KL,Game:WL,Avatar:QL,DailyChallenge:YL,ParentPortal:XL,Shop:JL,Leaderboards:ZL,TeamChallenges:e4,Subscription:t4,GenerateIcons:n4,TestIconGeneration:r4,Landing:Qb,Messages:s4,ColorByNumbers:i4,Settings:o4,PrivacyPolicy:a4,AITutor:l4,AdminTestAccount:u4,Subscribe:c4};function Ute(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(M2).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(M2)[0]}const Vte=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function Bte(){const t=qi(),e=Ute(t.pathname);return x.jsx(eX,{currentPageName:e,children:x.jsx(Ib,{children:x.jsx(S.Suspense,{fallback:x.jsx(Vte,{}),children:x.jsxs(J8,{children:[x.jsx(Vt,{path:"/",element:x.jsx(Qb,{})}),x.jsx(Vt,{path:"/Home",element:x.jsx(KL,{})}),x.jsx(Vt,{path:"/Game",element:x.jsx(WL,{})}),x.jsx(Vt,{path:"/Avatar",element:x.jsx(QL,{})}),x.jsx(Vt,{path:"/DailyChallenge",element:x.jsx(YL,{})}),x.jsx(Vt,{path:"/ParentPortal",element:x.jsx(XL,{})}),x.jsx(Vt,{path:"/Shop",element:x.jsx(JL,{})}),x.jsx(Vt,{path:"/Leaderboards",element:x.jsx(ZL,{})}),x.jsx(Vt,{path:"/TeamChallenges",element:x.jsx(e4,{})}),x.jsx(Vt,{path:"/Subscription",element:x.jsx(t4,{})}),x.jsx(Vt,{path:"/GenerateIcons",element:x.jsx(n4,{})}),x.jsx(Vt,{path:"/TestIconGeneration",element:x.jsx(r4,{})}),x.jsx(Vt,{path:"/Landing",element:x.jsx(Qb,{})}),x.jsx(Vt,{path:"/Messages",element:x.jsx(s4,{})}),x.jsx(Vt,{path:"/ColorByNumbers",element:x.jsx(i4,{})}),x.jsx(Vt,{path:"/Settings",element:x.jsx(o4,{})}),x.jsx(Vt,{path:"/PrivacyPolicy",element:x.jsx(a4,{})}),x.jsx(Vt,{path:"/AITutor",element:x.jsx(l4,{})}),x.jsx(Vt,{path:"/AdminTestAccount",element:x.jsx(u4,{})}),x.jsx(Vt,{path:"/Subscribe",element:x.jsx(c4,{})})]})})})})}function zte(){return x.jsx(xz,{children:x.jsx(Bte,{})})}const $te=20,qte=1e6,_i={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let xw=0;function Gte(){return xw=(xw+1)%Number.MAX_VALUE,xw.toString()}const Sw=new Map,L2=t=>{if(Sw.has(t))return;const e=setTimeout(()=>{Sw.delete(t),_d({type:_i.REMOVE_TOAST,toastId:t})},qte);Sw.set(t,e)},Hte=(t,e)=>{switch(e.type){case _i.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,$te)};case _i.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case _i.DISMISS_TOAST:{const{toastId:n}=e;return n?L2(n):t.toasts.forEach(r=>{L2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case _i.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Jm=[];let Zm={toasts:[]};function _d(t){Zm=Hte(Zm,t),Jm.forEach(e=>{e(Zm)})}function Kte({...t}){const e=Gte(),n=s=>_d({type:_i.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>_d({type:_i.DISMISS_TOAST,toastId:e});return _d({type:_i.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Wte(){const[t,e]=S.useState(Zm);return S.useEffect(()=>(Jm.push(e),()=>{const n=Jm.indexOf(e);n>-1&&Jm.splice(n,1)}),[t]),{...t,toast:Kte,dismiss:n=>_d({type:_i.DISMISS_TOAST,toastId:n})}}const h4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));h4.displayName="ToastProvider";const d4=S.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));d4.displayName="ToastViewport";const Qte=Oy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f4=S.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:vt(Qte({variant:e}),t),...n}));f4.displayName="Toast";const Yte=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Yte.displayName="ToastAction";const p4=S.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:vt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(k1,{className:"h-4 w-4"})}));p4.displayName="ToastClose";const m4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm font-semibold",t),...e}));m4.displayName="ToastTitle";const g4=S.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:vt("text-sm opacity-90",t),...e}));g4.displayName="ToastDescription";function Xte(){const{toasts:t}=Wte();return x.jsxs(h4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(f4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(m4,{children:n}),r&&x.jsx(g4,{children:r})]}),s,x.jsx(p4,{})]},e)}),x.jsx(d4,{})]})}function Jte(){return x.jsxs(x.Fragment,{children:[x.jsx(zte,{}),x.jsx(Xte,{})]})}const Zte=new t$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});Fj.createRoot(document.getElementById("root")).render(x.jsx(r$,{client:Zte,children:x.jsx(pG,{children:x.jsx(Jte,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{G1 as $,vn as A,rq as B,_b as C,R$ as D,S as E,vt as F,I$ as G,by as H,os as I,rX as J,Gs as K,UI as L,ts as M,Vn as N,Hs as O,j$ as P,ine as Q,hne as R,k1 as S,m1 as T,fG as U,Ut as V,YY as W,tX as X,n$ as Y,nD as Z,C1 as _,oZ as a,Jn as a$,nne as a0,G$ as a1,b$ as a2,D$ as a3,A$ as a4,sne as a5,mm as a6,H0 as a7,qm as a8,Cy as a9,hK as aA,Xb as aB,ZR as aC,Wte as aD,WQ as aE,MY as aF,gne as aG,fne as aH,rne as aI,ane as aJ,cne as aK,pne as aL,mne as aM,dne as aN,une as aO,KK as aP,gO as aQ,$G as aR,RD as aS,yne as aT,Ml as aU,ID as aV,_D as aW,Jo as aX,b1 as aY,Oi as aZ,wn as a_,Ys as aa,iq as ab,kf as ac,HD as ad,wb as ae,TD as af,vK as ag,nr as ah,wK as ai,Bn as aj,et as ak,If as al,tO as am,AD as an,bK as ao,xK as ap,lne as aq,tq as ar,Xd as as,a1 as at,tne as au,$d as av,FI as aw,us as ax,Cl as ay,iD as az,oL as b,Vz as b0,Tf as b1,ab as b2,Gd as b3,Jz as b4,jI as b5,ene as b6,rO as b7,LK as b8,jK as b9,Qq as ba,Oy as bb,WJ as c,m$ as d,iX as e,gM as f,one as g,G0 as h,pm as i,VI as j,ln as k,lt as l,SD as m,aX as n,ED as o,rD as p,nX as q,lX as r,WT as s,rs as t,wD as u,E$ as v,k$ as w,x,yt as y,$m as z};
