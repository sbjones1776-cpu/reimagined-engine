import{c as Z,j as e,C as m,d as x,A as L,y as Q,I as A,J as k,B as C,h as G,r as N,E,t as se,X as te,v as D,x as ae,L as re,g as le,b as ce,Z as ne,u as R,R as ie,q as F,w as B,l as H,m as K}from"./index-C0XnwW1J.js";import{T as oe,a as de,b as Y,c as O}from"./tabs-CHDP_n8y.js";import{T as I}from"./target-CKjL3a7Z.js";import{T as $}from"./trending-down-DyY_-Dls.js";import{C as me}from"./circle-alert-BiIT3tKc.js";import{Z as J}from"./zap-w4f_OL2g.js";import{g as W}from"./QuestionGenerator-z-c728t7.js";import{P as V}from"./progress-D8Mly-oi.js";import{T as U}from"./trending-up-Bw7UHNpS.js";import{R as xe,P as he,M as ue,X as pe,Y as ge,N as be,O as je,Q as Ne}from"./LineChart-0kDBnRpG.js";import{A as ee}from"./award-DsC9STJ2.js";import{P as ye}from"./PremiumFeatureLock-DOt-wJcj.js";import{B as X}from"./book-open-ChO3lU0J.js";import"./lock-C1-5gGAl.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ve=Z("Book",fe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],z=Z("Play",we);function Ce({progress:n,tutorSessions:w,onPracticeClick:b}){const T=()=>{const t=[],c={};return n.forEach(r=>{c[r.operation]||(c[r.operation]={operation:r.operation,level:r.level,totalGames:0,totalCorrect:0,totalQuestions:0,totalTime:0}),c[r.operation].totalGames++,c[r.operation].totalCorrect+=r.correct_answers,c[r.operation].totalQuestions+=r.total_questions,c[r.operation].totalTime+=r.time_taken}),Object.values(c).forEach(r=>{const o=r.totalCorrect/r.totalQuestions*100;if(o<75||r.totalGames<3){let l="medium",d="";o<50?(l="high",d="Very low accuracy"):o<65?(l="high",d="Low accuracy"):o<75?(l="medium",d="Room for improvement"):r.totalGames<3&&(l="low",d="Need more practice"),t.push({operation:r.operation,level:r.level,accuracy:Math.round(o),totalGames:r.totalGames,severity:l,reason:d})}}),t.sort((r,o)=>{const l={high:0,medium:1,low:2};return l[r.severity]-l[o.severity]})},f=()=>{const t={};return w.forEach(c=>{const r=`${c.operation}-${c.level}`;t[r]||(t[r]={operation:c.operation,level:c.level,count:0,examples:[]}),t[r].count++,t[r].examples.length<3&&t[r].examples.push(c.question)}),Object.values(t).sort((c,r)=>r.count-c.count).slice(0,5)},p=T(),j=f(),g=(()=>{const t=[];if(p.length===0)t.push({type:"success",title:"Great Job!",message:"You're performing well across all topics! Keep practicing to maintain your skills.",icon:"ðŸŽ‰"});else{const c=p.filter(o=>o.severity==="high");c.length>0&&t.push({type:"urgent",title:"Priority Practice Areas",message:`Focus on ${c.map(o=>o.operation).join(", ")} to improve quickly.`,icon:"ðŸŽ¯"});const r=p.filter(o=>o.totalGames<3);r.length>0&&t.push({type:"info",title:"Try New Topics",message:`Play more games in ${r.map(o=>o.operation).join(", ")} to build confidence.`,icon:"ðŸ’ª"})}return t})();return n.length===0?e.jsx(m,{className:"text-center py-12",children:e.jsxs(x,{children:[e.jsx(I,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No Data Yet"}),e.jsx("p",{className:"text-gray-600",children:"Play some games first, then I'll identify areas to improve!"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:g.map((t,c)=>e.jsxs(L,{className:`${t.type==="urgent"?"bg-red-50 border-red-300":t.type==="success"?"bg-green-50 border-green-300":"bg-blue-50 border-blue-300"}`,children:[e.jsx("span",{className:"text-2xl mr-2",children:t.icon}),e.jsxs(Q,{children:[e.jsxs("strong",{children:[t.title,":"]})," ",t.message]})]},c))}),p.length>0&&e.jsxs(m,{className:"border-2 border-orange-200",children:[e.jsx(A,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-6 h-6 text-orange-600"}),"Areas Needing Improvement"]})}),e.jsx(x,{className:"space-y-4",children:p.map((t,c)=>e.jsxs("div",{className:`p-4 rounded-xl border-2 ${t.severity==="high"?"bg-red-50 border-red-300":t.severity==="medium"?"bg-orange-50 border-orange-300":"bg-yellow-50 border-yellow-300"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-lg capitalize",children:t.operation.replace(/_/g," ")}),e.jsx(C,{className:`${t.severity==="high"?"bg-red-500":t.severity==="medium"?"bg-orange-500":"bg-yellow-500"} text-white`,children:t.severity==="high"?"High Priority":t.severity==="medium"?"Medium":"Low"}),e.jsx(C,{variant:"outline",children:t.level})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Accuracy"}),e.jsxs("div",{className:"text-2xl font-bold",children:[t.accuracy,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Games Played"}),e.jsx("div",{className:"text-2xl font-bold",children:t.totalGames})]})]}),e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:[e.jsx(me,{className:"w-4 h-4 inline mr-1"}),t.reason]})]}),e.jsxs(G,{onClick:()=>b({operation:t.operation,level:t.level}),className:"bg-blue-500 hover:bg-blue-600 ml-4",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Practice Now"]})]}),e.jsxs("div",{className:"bg-white/50 p-3 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-700 font-medium mb-1",children:[e.jsx(J,{className:"w-4 h-4 inline mr-1 text-yellow-500"}),"AI Tip:"]}),e.jsx("p",{className:"text-sm text-gray-600",children:Ae(t)})]})]},c))})]}),j.length>0&&e.jsxs(m,{className:"border-2 border-purple-200",children:[e.jsx(A,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-6 h-6 text-purple-600"}),"Common Mistakes to Review"]})}),e.jsx(x,{className:"space-y-3",children:j.map((t,c)=>e.jsxs("div",{className:"p-4 bg-purple-50 rounded-xl border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-bold capitalize",children:[t.operation," (",t.level,")"]}),e.jsxs(C,{className:"bg-purple-500 text-white",children:[t.count," mistakes"]})]}),t.examples.length>0&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Examples:"})," ",t.examples.join(", ")]})]},c))})]})]})}function Ae(n){return{addition:"Try breaking down larger numbers into smaller, easier pieces. Practice counting up from the first number.",subtraction:"Use a number line to visualize taking away. Count backwards or think 'what do I add to get to the bigger number?'",multiplication:"Memorize the times tables! Look for patterns like doubling or skip counting.",division:"Think of division as 'sharing equally' or 'how many groups'. Draw circles to visualize!",fractions:"Draw pictures to see the parts. Remember: the bottom number shows how many pieces total.",decimals:"Line up the decimal points! Think of money - $1.50 is 1 dollar and 50 cents.",word_problems:"Read carefully! Underline key numbers and words like 'total', 'difference', or 'each'."}[n.operation]||"Practice regularly and take your time. You can do this!"}function ke({selectedWeakness:n,progress:w}){const[b,T]=N.useState(null),[f,p]=N.useState(""),[j,P]=N.useState(null),[g,t]=N.useState(0),[c,r]=N.useState(0),[o,l]=N.useState(!1),[d,q]=N.useState(null),s=()=>{const i=[],v={};return w.forEach(u=>{v[u.operation]||(v[u.operation]={operation:u.operation,level:u.level,totalCorrect:0,totalQuestions:0}),v[u.operation].totalCorrect+=u.correct_answers,v[u.operation].totalQuestions+=u.total_questions}),Object.values(v).forEach(u=>{const M=u.totalCorrect/u.totalQuestions*100;M<75&&i.push({operation:u.operation,level:u.level,accuracy:Math.round(M),priority:M<60?"high":"medium"})}),i.sort((u,M)=>u.accuracy-M.accuracy).slice(0,5)},a=()=>{if(d){const i=W(d.operation,d.level);T(i),p(""),P(null),l(!1)}},h=(i,v)=>{q({operation:i,level:v}),t(0),r(0);const u=W(i,v);T(u),p(""),P(null),l(!1)},y=()=>{if(!b||f==="")return;const i=parseInt(f)===b.answer;P(i),t(g+1),i?r(c+1):l(!0)},S=()=>{a()},_=s();return N.useEffect(()=>{n&&!d&&h(n.operation,n.level)},[n]),e.jsxs("div",{className:"space-y-6",children:[d&&g>0&&e.jsx(m,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:g}),e.jsx("div",{className:"text-sm text-gray-600",children:"Questions"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:c}),e.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[g>0?Math.round(c/g*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Accuracy"})]})]})})}),d&&b?e.jsxs(m,{className:"border-4 border-purple-300 shadow-2xl",children:[e.jsx(A,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:e.jsxs(k,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-6 h-6"}),e.jsxs("span",{className:"capitalize",children:[d.operation," Practice"]})]}),e.jsx(C,{className:"bg-white text-purple-600",children:d.level})]})}),e.jsx(x,{className:"p-8",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-5xl md:text-6xl font-bold mb-6 text-gray-800",children:b.question}),j===null&&e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("input",{type:"number",value:f,onChange:i=>p(i.target.value),onKeyPress:i=>{i.key==="Enter"&&y()},placeholder:"Type your answer...",className:"w-full text-3xl font-bold text-center p-4 border-4 border-purple-300 rounded-xl mb-4",autoFocus:!0}),e.jsx(G,{onClick:y,disabled:f==="",className:"w-full h-14 text-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:"Check Answer"})]}),j!==null&&e.jsxs("div",{className:"space-y-6",children:[j?e.jsxs(L,{className:"bg-green-50 border-green-300",children:[e.jsx(se,{className:"w-6 h-6 text-green-600"}),e.jsxs(Q,{className:"text-green-800 text-lg",children:[e.jsx("strong",{children:"Correct! ðŸŽ‰"})," Great job!"]})]}):e.jsxs(L,{className:"bg-red-50 border-red-300",children:[e.jsx(te,{className:"w-6 h-6 text-red-600"}),e.jsxs(Q,{className:"text-red-800 text-lg",children:[e.jsx("strong",{children:"Not quite."})," The correct answer is ",e.jsx("strong",{children:b.answer})]})]}),!j&&o&&b.explanation&&e.jsx(m,{className:"bg-blue-50 border-2 border-blue-300",children:e.jsxs(x,{className:"p-6",children:[e.jsxs("h4",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-blue-600"}),"Let me explain:"]}),e.jsx("p",{className:"text-gray-700",children:b.explanation})]})}),e.jsxs(G,{onClick:S,className:"w-full h-14 text-lg bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:["Next Question",e.jsx(z,{className:"w-5 h-5 ml-2"})]})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[_.length>0&&e.jsxs(m,{className:"border-2 border-orange-200",children:[e.jsx(A,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-6 h-6 text-orange-600"}),"Recommended Practice Topics"]})}),e.jsx(x,{className:"space-y-3",children:_.map((i,v)=>e.jsxs("div",{className:"p-4 bg-orange-50 rounded-xl border-2 border-orange-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold capitalize mb-1",children:i.operation.replace(/_/g," ")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:`${i.priority==="high"?"bg-red-500":"bg-orange-500"} text-white`,children:i.priority==="high"?"High Priority":"Medium"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Current: ",i.accuracy,"% accuracy"]})]})]}),e.jsxs(G,{onClick:()=>h(i.operation,i.level),className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Start Practice"]})]},v))})]}),e.jsxs(m,{className:"border-2 border-purple-200",children:[e.jsx(A,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-6 h-6 text-purple-600"}),"Quick Practice by Topic"]})}),e.jsx(x,{children:e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["addition","subtraction","multiplication","division"].map(i=>e.jsx(G,{onClick:()=>h(i,"medium"),variant:"outline",className:"h-16 text-lg capitalize",children:i},i))})})]}),e.jsx(m,{className:"bg-gradient-to-r from-purple-100 to-pink-100 border-2 border-purple-300",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready for a Full Challenge?"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Try a complete game with stars and rewards!"}),e.jsx(re,{to:le("Home"),children:e.jsxs(G,{className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"Go to Games"]})})]})})]})]})}function Te({progress:n,tutorSessions:w,onWeaknessClick:b}){const[T,f]=N.useState(!1),p=()=>{if(n.length===0)return 0;const s=n.reduce((a,h)=>a+h.correct_answers/h.total_questions*100,0);return Math.round(s/n.length)},j=()=>{if(n.length===0)return 0;const s=n.reduce((a,h)=>a+h.time_taken,0);return Math.round(s/n.length)},P=()=>{if(n.length<5)return"neutral";const s=n.slice(0,5),a=n.slice(5,10),h=s.reduce((S,_)=>S+_.correct_answers/_.total_questions*100,0)/s.length,y=a.length>0?a.reduce((S,_)=>S+_.correct_answers/_.total_questions*100,0)/a.length:h;return h>y+5?"improving":h<y-5?"declining":"stable"},g=()=>{const s={};return n.forEach(a=>{s[a.operation]||(s[a.operation]={operation:a.operation,totalGames:0,totalCorrect:0,totalQuestions:0,averageTime:0,totalTime:0}),s[a.operation].totalGames++,s[a.operation].totalCorrect+=a.correct_answers,s[a.operation].totalQuestions+=a.total_questions,s[a.operation].totalTime+=a.time_taken}),Object.values(s).map(a=>({...a,accuracy:Math.round(a.totalCorrect/a.totalQuestions*100),averageTime:Math.round(a.totalTime/a.totalGames)})).sort((a,h)=>a.accuracy-h.accuracy)},t=()=>{const s={};return n.forEach(a=>{s[a.level]||(s[a.level]={level:a.level,totalGames:0,totalCorrect:0,totalQuestions:0}),s[a.level].totalGames++,s[a.level].totalCorrect+=a.correct_answers,s[a.level].totalQuestions+=a.total_questions}),Object.values(s).map(a=>({...a,accuracy:Math.round(a.totalCorrect/a.totalQuestions*100)}))},c=()=>{const s=[],a=g(),h=P(),y=p();h==="improving"?s.push({type:"positive",icon:U,title:"You're Improving!",message:"Your recent performance shows great progress. Keep it up!"}):h==="declining"&&s.push({type:"warning",icon:$,title:"Need More Practice",message:"Your recent scores are lower. Let's focus on practice!"}),y>=90?s.push({type:"positive",icon:ee,title:"Excellent Accuracy!",message:`You're at ${y}% accuracy. You're a math champion!`}):y<70&&s.push({type:"warning",icon:I,title:"Let's Boost Your Score",message:`Your accuracy is ${y}%. Practice will help you improve!`}),a.length>0&&a[0].accuracy<75&&s.push({type:"action",icon:E,title:"Focus Area Identified",message:`${a[0].operation} needs attention (${a[0].accuracy}% accuracy)`,action:()=>b({operation:a[0].operation,level:"mixed"})});const S=j();return S<90&&y>=80&&s.push({type:"positive",icon:U,title:"Fast and Accurate!",message:`You're solving problems in ${S}s with great accuracy!`}),s},r=g();t();const o=c(),l=P(),d=p(),q=n.slice(0,10).reverse().map((s,a)=>({game:`Game ${a+1}`,accuracy:Math.round(s.correct_answers/s.total_questions*100),speed:Math.max(0,120-s.time_taken)}));return n.length===0?e.jsx(m,{className:"text-center py-12",children:e.jsxs(x,{children:[e.jsx(E,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Start Playing to Get Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Play some math games and I'll analyze your performance!"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{className:"border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsx(A,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-6 h-6 text-blue-600"}),"Overall Performance Analysis"]})}),e.jsxs(x,{children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:[d,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Overall Accuracy"}),e.jsx(V,{value:d,className:"mt-2"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[e.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-1",children:[j(),"s"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Time per Game"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-1",children:n.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Games Analyzed"})]})]}),e.jsxs("div",{className:"flex justify-center",children:[l==="improving"&&e.jsxs(C,{className:"bg-green-500 text-white text-lg px-6 py-2",children:[e.jsx(U,{className:"w-5 h-5 mr-2"}),"Improving Trend"]}),l==="declining"&&e.jsxs(C,{className:"bg-orange-500 text-white text-lg px-6 py-2",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Needs Practice"]}),l==="stable"&&e.jsxs(C,{className:"bg-blue-500 text-white text-lg px-6 py-2",children:[e.jsx(ce,{className:"w-5 h-5 mr-2"}),"Steady Progress"]})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:o.map((s,a)=>e.jsx(m,{className:`border-2 ${s.type==="positive"?"border-green-300 bg-green-50":s.type==="warning"?"border-orange-300 bg-orange-50":"border-blue-300 bg-blue-50"}`,children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s.type==="positive"?"bg-green-500":s.type==="warning"?"bg-orange-500":"bg-blue-500"}`,children:e.jsx(s.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:s.message}),s.action&&e.jsx(G,{size:"sm",onClick:s.action,className:"bg-blue-500 hover:bg-blue-600",children:"Start Practice"})]})]})})},a))}),e.jsxs(m,{className:"border-2 border-purple-200",children:[e.jsx(A,{children:e.jsx(k,{children:"Performance by Math Topic"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:r.map((s,a)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium capitalize",children:s.operation.replace(/_/g," ")}),e.jsxs(C,{variant:"outline",children:[s.totalGames," games"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[s.accuracy,"%"]}),s.accuracy<70&&e.jsx(G,{size:"sm",onClick:()=>b({operation:s.operation,level:"mixed"}),className:"bg-orange-500 hover:bg-orange-600",children:"Practice"})]})]}),e.jsx(V,{value:s.accuracy,className:`h-3 ${s.accuracy>=80?"bg-green-200":s.accuracy>=60?"bg-yellow-200":"bg-red-200"}`})]},s.operation))})})]}),q.length>0&&e.jsxs(m,{className:"border-2 border-blue-200",children:[e.jsx(A,{children:e.jsx(k,{children:"Recent Performance Trend"})}),e.jsx(x,{children:e.jsx(xe,{width:"100%",height:300,children:e.jsxs(he,{data:q,children:[e.jsx(ue,{strokeDasharray:"3 3"}),e.jsx(pe,{dataKey:"game"}),e.jsx(ge,{}),e.jsx(be,{}),e.jsx(je,{}),e.jsx(Ne,{type:"monotone",dataKey:"accuracy",stroke:"#8b5cf6",strokeWidth:3,name:"Accuracy %"})]})})})]})]})}function Oe(){const[n,w]=N.useState("analysis"),[b,T]=N.useState(null),[f,p]=N.useState(!1),{user:j}=ne(),{data:P}=R({queryKey:["currentUser"],queryFn:async()=>{const l=await firebaseAuth.currentUser;return l?{email:l.email}:null}}),{data:g=[]}=R({queryKey:["gameProgress"],queryFn:async()=>{const l=firebaseAuth.currentUser;if(!l)return[];const d=F(H(db,"gameProgress"),B("user_email","==",l.email));return(await K(d)).docs.map(s=>s.data())},initialData:[]}),{data:t=[]}=R({queryKey:["tutorSessions"],queryFn:async()=>{const l=firebaseAuth.currentUser;if(!l)return[];const d=F(H(db,"tutorSessions"),B("created_by","==",l.email));return(await K(d)).docs.map(s=>s.data())},initialData:[]}),c=()=>t.length,r=()=>t.filter(l=>l.hint_requested).length,o=()=>t.filter(l=>l.explanation_viewed).length;return ie.useEffect(()=>{j&&!j.hasPremiumAccess&&p(!0)},[j]),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[f&&e.jsx(ye,{featureName:"AI Math Tutor",description:"Get personalized AI assistance with hints, explanations, and practice exercises tailored to your learning needs.",isOpen:f,onClose:()=>p(!1)}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-block mb-6",children:e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center shadow-2xl animate-pulse",children:e.jsx(E,{className:"w-12 h-12 text-white"})})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Math Tutor"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Your personal learning assistant powered by AI"})]}),e.jsxs(L,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-blue-300",children:[e.jsx(D,{className:"w-5 h-5 text-blue-600"}),e.jsxs(Q,{className:"text-blue-800",children:[e.jsx("strong",{children:"Welcome to your AI Tutor!"})," I analyze your performance, identify areas for improvement, and create personalized practice exercises just for you. Let's make math fun and easy! ðŸš€"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(m,{className:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(E,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:c()}),e.jsx("p",{className:"text-sm text-white/90",children:"Tutoring Sessions"})]})}),e.jsx(m,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(J,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:r()}),e.jsx("p",{className:"text-sm text-white/90",children:"Hints Received"})]})}),e.jsx(m,{className:"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(X,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:o()}),e.jsx("p",{className:"text-sm text-white/90",children:"Explanations Read"})]})}),e.jsx(m,{className:"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(ee,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-3xl font-bold mb-1",children:g.length}),e.jsx("p",{className:"text-sm text-white/90",children:"Games Analyzed"})]})})]}),e.jsx(m,{className:"border-4 border-purple-200 shadow-xl",children:e.jsx(x,{className:"p-6",children:e.jsxs(oe,{value:n,onValueChange:w,className:"w-full",children:[e.jsxs(de,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(Y,{value:"analysis",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Performance Analysis"]}),e.jsxs(Y,{value:"weaknesses",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Areas to Improve"]}),e.jsxs(Y,{value:"practice",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Practice Exercises"]})]}),e.jsx(O,{value:"analysis",className:"space-y-6",children:e.jsx(Te,{progress:g,tutorSessions:t,onWeaknessClick:l=>{T(l),w("practice")}})}),e.jsx(O,{value:"weaknesses",className:"space-y-6",children:e.jsx(Ce,{progress:g,tutorSessions:t,onPracticeClick:l=>{T(l),w("practice")}})}),e.jsx(O,{value:"practice",className:"space-y-6",children:e.jsx(ke,{selectedWeakness:b,progress:g})})]})})}),e.jsxs(m,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200",children:[e.jsx(A,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-6 h-6 text-purple-600"}),"How Your AI Tutor Works"]})}),e.jsxs(x,{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx($,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-2",children:"1. Analyze Performance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI reviews your games and identifies patterns in mistakes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(I,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-2",children:"2. Find Weaknesses"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Discover specific topics where you need more practice"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(X,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold mb-2",children:"3. Personalized Practice"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get custom exercises designed just for you"})]})]})]})]})}export{Oe as default};
