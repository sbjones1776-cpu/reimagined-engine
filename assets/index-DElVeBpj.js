const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl-CsboKJzw.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC-Bl-czKV-.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v-C5wUw2Vm.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn-DmAk7113.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim-CvVM-oS5.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm--C6gMXIY9.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic-BbyIY-I5.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94-HosS9mN8.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy-O-KDOf0X.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L-g8gOaACh.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS-fZgn63xH.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB-CjKaN8Uy.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00--C_pq6P6f.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX-CX9NrSmo.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb-Dr0QtMK_.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG-IHAvCb5d.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF-DwxXGwoF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N-Bzq5Fnxx.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp-DYs6Ix-S.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR-DyIfcPD2.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ-D0Avu4LI.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6-CrPSaO5S.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe-BCwC00ff.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC-2bqbjn29.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla-OJoxH8iZ.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI-BCygjE_3.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe-CcEtxDqH.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_-DxLoG_6R.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U-Bj1cSb-g.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a-T6z-VvbV.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal-CQjYJdsc.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19-BGlWs2JA.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S-QRFYV4zs.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg-XAlziMFr.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU-xSybLC5-.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a-XUvNzI20.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1-BAixi3Eh.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2-BmQ8DISc.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const LL="modulepreload",FL=function(t){return"/"+t},zk={},Ot=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=o(n.map(d=>{if(d=FL(d),d in zk)return;zk[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":LL,p||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((S,I)=>{v.addEventListener("load",S),v.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},Lt=(t,e=Lt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62.js","assets/progress-DswiN-jt-CRkTvpyk-D1KYlrjl.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb.js","assets/download-k8BXtbsE-hJBy54oi-W-SMHhYC.js","assets/Home-B1e5oU6L-BnLx-1kh-B_y-JVsf.js","assets/flame-Z4NDYWf0-CPLPmaZ3-COfAtn_v.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v-BiPmLhpn.js","assets/zap-BUGd4PS--D5Rx8Je6-38BwrXim.js","assets/external-link-B3vh6vLr-IAJFuuQW-DkoGCdm-.js","assets/trending-up-DOxCo9I6-CjyZKRpy-BwiJPOic.js","assets/target-1p2ICMDN-CvDzxGjB-qkOcir94.js","assets/book-open-CsZLkRie-CnloTbZU-ChOf-sMy.js","assets/plus-CzE6Y-vE-CTS6AMhf-DQnCZw7L.js","assets/minus-CxnUEU8f-CdSPzO8E-D-4i4AlS.js","assets/lock-DVJmOJtR-CPCpectf-CAbDyxwB.js","assets/circle-alert-D0KxAb-N-CBSI-qzf-C23EQ00-.js","assets/palette-C1tdbQoO-D9zv_SnR-dpSQlzRX.js","assets/Game-BSxN8OV2-DCbKaoIo-CoKI_H68.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu-xvhDPSZb.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O-B1v40KzG.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H-M_MuP7jF.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N-B62Xtj9N.js","assets/trending-down-CtEqn-BB-zOpygq96-CNt4ZELp.js","assets/triangle-alert-BF04o9wv-5R0uES8i-B0nBc2eR.js","assets/QuestionGenerator-z-c728t7-CSzYVewV-BkEMOThz.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH-ABaij4QQ.js","assets/arrow-left-8gFWt4dJ-CSNboBK9-xHDhZtE6.js","assets/Progress-CJyc2nxx-CCph28do-Dvk4WEI3.js","assets/LineChart-Boznw0oC-BjVvaeYB-BHo1DAUe.js","assets/gift-gU3fLUyU-xa62twJ2-CA8s9oVC.js","assets/Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2.js","assets/label-ClTmKTiT-BGzEp_4m-ePFqNJla.js","assets/tabs-BCUfDdd3-DRpA79_--UQJ3H5nI.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX.js","assets/index-DytiPzxp-BK84tApl-D69EGyDe.js","assets/save-WpcaPzdX-CJl6cnmk-B2n1mQt_.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm.js","assets/medal-iK-ypg-g-C4SGU5mg-BNIgUb0U.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858.js","assets/textarea-CqrSSpqj-CdkJNOEe-BjFPPF_a.js","assets/select-CEEjSQMd-D2Q8_Gex-v90sRaal.js","assets/index-K24GeIQO-pPWQlksM-BpwW-z19.js","assets/trash-2-jwsEREBw-DdJfLY0z-Di6zSu_S.js","assets/info-BwmiXNr9-k9-UA3eH-BktW3SKg.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh-Dy-xtlLU.js","assets/Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu.js","assets/Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md.js","assets/user-plus-DvDth6Co-mjoHpJFL-BN7sEb4a.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H.js","assets/GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa.js","assets/loader-circle-BANzzYJc-B3uLjLZr-ARQp8sU1.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW.js","assets/Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q.js","assets/ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo-BmabdUi2.js","assets/Settings-DBhk2Jxw-eoqk1yaj-CaU4638V.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn.js","assets/AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf.js","assets/Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const UL="modulepreload",VL=function(t){return"/"+t},Bk={},Ft=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=VL(c),c in Bk)return;Bk[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":UL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Ut=(t,e=Ut,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq-CgXjoFIZ.js","assets/progress-DswiN-jt-CRkTvpyk.js","assets/InstallPrompt-CYulZlIm-CLe6ZTMx.js","assets/download-k8BXtbsE-hJBy54oi.js","assets/Home-B1e5oU6L-BnLx-1kh.js","assets/flame-Z4NDYWf0-CPLPmaZ3.js","assets/AppTrialPromo-fh-8uCNN-DKo9sh4v.js","assets/zap-BUGd4PS--D5Rx8Je6.js","assets/external-link-B3vh6vLr-IAJFuuQW.js","assets/trending-up-DOxCo9I6-CjyZKRpy.js","assets/target-1p2ICMDN-CvDzxGjB.js","assets/book-open-CsZLkRie-CnloTbZU.js","assets/plus-CzE6Y-vE-CTS6AMhf.js","assets/minus-CxnUEU8f-CdSPzO8E.js","assets/lock-DVJmOJtR-CPCpectf.js","assets/circle-alert-D0KxAb-N-CBSI-qzf.js","assets/palette-C1tdbQoO-D9zv_SnR.js","assets/Game-BSxN8OV2-DCbKaoIo.js","assets/useMutation-Dw-sPjxD-CEUn9Yuu.js","assets/CelebrationAnimation-Dc0BowXO-4Xv1ol_O.js","assets/TextToSpeech-AHz3T4an-Bb6-aa6H.js","assets/rotate-ccw-D8vHVTX7-B0EUTX0N.js","assets/trending-down-CtEqn-BB-zOpygq96.js","assets/triangle-alert-BF04o9wv-5R0uES8i.js","assets/QuestionGenerator-z-c728t7-CSzYVewV.js","assets/PremiumFeatureLock-DUuDI_YH-C25OdOdH.js","assets/arrow-left-8gFWt4dJ-CSNboBK9.js","assets/Progress-CJyc2nxx-CCph28do.js","assets/LineChart-Boznw0oC-BjVvaeYB.js","assets/gift-gU3fLUyU-xa62twJ2.js","assets/Avatar-DWsPiGGF-BsRh6I0m.js","assets/label-ClTmKTiT-BGzEp_4m.js","assets/tabs-BCUfDdd3-DRpA79_-.js","assets/AvatarDisplay-BzkYfhqx-DhuaIq-T.js","assets/index-DytiPzxp-BK84tApl.js","assets/save-WpcaPzdX-CJl6cnmk.js","assets/DailyChallenge-Bdw758IQ-B_O2g2VE.js","assets/medal-iK-ypg-g-C4SGU5mg.js","assets/ParentPortal-ujdsGIsq-B8zz3Rxm.js","assets/textarea-CqrSSpqj-CdkJNOEe.js","assets/select-CEEjSQMd-D2Q8_Gex.js","assets/index-K24GeIQO-pPWQlksM.js","assets/trash-2-jwsEREBw-DdJfLY0z.js","assets/info-BwmiXNr9-k9-UA3eH.js","assets/startOfMonth-D3h4jTlt-D4WVPLzh.js","assets/Shop-CVZgRxJn-CVz_4LS0.js","assets/Leaderboards-Bm79OtXC-B_odZ22w.js","assets/user-plus-DvDth6Co-mjoHpJFL.js","assets/TeamChallenges-YLDuyulC-UWmKqbgB.js","assets/Subscription-BXM5wPAK-Cm6w4Qsz.js","assets/GenerateIcons-irEsrbiy-D96HRozy.js","assets/loader-circle-BANzzYJc-B3uLjLZr.js","assets/TestIconGeneration-oHdXBYrX-Ci09WhjD.js","assets/Messages-BRMZI1jn-BJW4UB3P.js","assets/ColorByNumbers-JzUc735X-263wB9fx.js","assets/paint-bucket-C2C9L7S8-Cx88u2Wo.js","assets/Settings-DBhk2Jxw-eoqk1yaj.js","assets/PrivacyPolicy-CiiZkyoZ-BGAqDCmQ.js","assets/AITutor-CiJvOfzv-b-ne1DOj.js","assets/AdminTestAccount-DOgC3vLm-CviO_HwC.js","assets/Subscribe-D5mtZK-4-DoW00_oc.js"]))=>t.map(r=>n[r]);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const zL="modulepreload",BL=function(t){return"/"+t},$k={},Vt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=BL(c),c in $k)return;$k[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":zL,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},zt=(t,e=zt,n=e.f||(e.f=["assets/PetDisplay-T8ztPqrq.js","assets/progress-DswiN-jt.js","assets/InstallPrompt-CYulZlIm.js","assets/download-k8BXtbsE.js","assets/Home-B1e5oU6L.js","assets/flame-Z4NDYWf0.js","assets/AppTrialPromo-fh-8uCNN.js","assets/zap-BUGd4PS-.js","assets/external-link-B3vh6vLr.js","assets/trending-up-DOxCo9I6.js","assets/target-1p2ICMDN.js","assets/book-open-CsZLkRie.js","assets/plus-CzE6Y-vE.js","assets/minus-CxnUEU8f.js","assets/lock-DVJmOJtR.js","assets/circle-alert-D0KxAb-N.js","assets/palette-C1tdbQoO.js","assets/Game-BSxN8OV2.js","assets/useMutation-Dw-sPjxD.js","assets/CelebrationAnimation-Dc0BowXO.js","assets/TextToSpeech-AHz3T4an.js","assets/rotate-ccw-D8vHVTX7.js","assets/trending-down-CtEqn-BB.js","assets/triangle-alert-BF04o9wv.js","assets/QuestionGenerator-z-c728t7.js","assets/PremiumFeatureLock-DUuDI_YH.js","assets/arrow-left-8gFWt4dJ.js","assets/Progress-CJyc2nxx.js","assets/LineChart-Boznw0oC.js","assets/gift-gU3fLUyU.js","assets/Avatar-DWsPiGGF.js","assets/label-ClTmKTiT.js","assets/tabs-BCUfDdd3.js","assets/AvatarDisplay-BzkYfhqx.js","assets/index-DytiPzxp.js","assets/save-WpcaPzdX.js","assets/DailyChallenge-Bdw758IQ.js","assets/medal-iK-ypg-g.js","assets/ParentPortal-ujdsGIsq.js","assets/textarea-CqrSSpqj.js","assets/select-CEEjSQMd.js","assets/index-K24GeIQO.js","assets/trash-2-jwsEREBw.js","assets/info-BwmiXNr9.js","assets/startOfMonth-D3h4jTlt.js","assets/Shop-CVZgRxJn.js","assets/Leaderboards-Bm79OtXC.js","assets/user-plus-DvDth6Co.js","assets/TeamChallenges-YLDuyulC.js","assets/Subscription-BXM5wPAK.js","assets/GenerateIcons-irEsrbiy.js","assets/loader-circle-BANzzYJc.js","assets/TestIconGeneration-oHdXBYrX.js","assets/Messages-BRMZI1jn.js","assets/ColorByNumbers-JzUc735X.js","assets/paint-bucket-C2C9L7S8.js","assets/Settings-DBhk2Jxw.js","assets/PrivacyPolicy-CiiZkyoZ.js","assets/AITutor-CiJvOfzv.js","assets/AdminTestAccount-DOgC3vLm.js","assets/Subscribe-D5mtZK-4.js"]))=>t.map(r=>n[r]);var $L=Object.defineProperty,J2=t=>{throw TypeError(t)},qL=(t,e,n)=>e in t?$L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qk=(t,e,n)=>qL(t,typeof e!="symbol"?e+"":e,n),ix=(t,e,n)=>e.has(t)||J2("Cannot "+n),q=(t,e,n)=>(ix(t,e,"read from private field"),n?n.call(t):e.get(t)),Ae=(t,e,n)=>e.has(t)?J2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ge=(t,e,n,r)=>(ix(t,e,"write to private field"),e.set(t,n),n),Ze=(t,e,n)=>(ix(t,e,"access private method"),n),Rw=(t,e,n,r)=>({set _(s){ge(t,e,s)},get _(){return q(t,e,r)}});function WL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var bne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ax(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wk={exports:{}},Lh={},Hk={exports:{}},He={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Kk;function HL(){if(Kk)return He;Kk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function _(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||S}_.prototype.isReactComponent={},_.prototype.setState=function(K,re){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,re,"setState")},_.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function N(){}N.prototype=_.prototype;function D(K,re,pe){this.props=K,this.context=re,this.refs=T,this.updater=pe||S}var j=D.prototype=new N;j.constructor=D,I(j,_.prototype),j.isPureReactComponent=!0;var V=Array.isArray,B=Object.prototype.hasOwnProperty,H={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function C(K,re,pe){var me,Me={},ze=null,Ce=null;if(re!=null)for(me in re.ref!==void 0&&(Ce=re.ref),re.key!==void 0&&(ze=""+re.key),re)B.call(re,me)&&!M.hasOwnProperty(me)&&(Me[me]=re[me]);var $e=arguments.length-2;if($e===1)Me.children=pe;else if(1<$e){for(var Ve=Array($e),pt=0;pt<$e;pt++)Ve[pt]=arguments[pt+2];Me.children=Ve}if(K&&K.defaultProps)for(me in $e=K.defaultProps,$e)Me[me]===void 0&&(Me[me]=$e[me]);return{$$typeof:t,type:K,key:ze,ref:Ce,props:Me,_owner:H.current}}function R(K,re){return{$$typeof:t,type:K.type,key:re,ref:K.ref,props:K.props,_owner:K._owner}}function O(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function U(K){var re={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return re[pe]})}var $=/\/+/g;function L(K,re){return typeof K=="object"&&K!==null&&K.key!=null?U(""+K.key):re.toString(36)}function ke(K,re,pe,me,Me){var ze=typeof K;(ze==="undefined"||ze==="boolean")&&(K=null);var Ce=!1;if(K===null)Ce=!0;else switch(ze){case"string":case"number":Ce=!0;break;case"object":switch(K.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=K,Me=Me(Ce),K=me===""?"."+L(Ce,0):me,V(Me)?(pe="",K!=null&&(pe=K.replace($,"$&/")+"/"),ke(Me,re,pe,"",function(pt){return pt})):Me!=null&&(O(Me)&&(Me=R(Me,pe+(!Me.key||Ce&&Ce.key===Me.key?"":(""+Me.key).replace($,"$&/")+"/")+K)),re.push(Me)),1;if(Ce=0,me=me===""?".":me+":",V(K))for(var $e=0;$e<K.length;$e++){ze=K[$e];var Ve=me+L(ze,$e);Ce+=ke(ze,re,pe,Ve,Me)}else if(Ve=v(K),typeof Ve=="function")for(K=Ve.call(K),$e=0;!(ze=K.next()).done;)ze=ze.value,Ve=me+L(ze,$e++),Ce+=ke(ze,re,pe,Ve,Me);else if(ze==="object")throw re=String(K),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ce}function De(K,re,pe){if(K==null)return K;var me=[],Me=0;return ke(K,me,"","",function(ze){return re.call(pe,ze,Me++)}),me}function ye(K){if(K._status===-1){var re=K._result;re=re(),re.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=re)}if(K._status===1)return K._result.default;throw K._result}var ve={current:null},G={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:G,ReactCurrentOwner:H};function ae(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:De,forEach:function(K,re,pe){De(K,function(){re.apply(this,arguments)},pe)},count:function(K){var re=0;return De(K,function(){re++}),re},toArray:function(K){return De(K,function(re){return re})||[]},only:function(K){if(!O(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},He.Component=_,He.Fragment=n,He.Profiler=s,He.PureComponent=D,He.StrictMode=r,He.Suspense=c,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,He.act=ae,He.cloneElement=function(K,re,pe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var me=I({},K.props),Me=K.key,ze=K.ref,Ce=K._owner;if(re!=null){if(re.ref!==void 0&&(ze=re.ref,Ce=H.current),re.key!==void 0&&(Me=""+re.key),K.type&&K.type.defaultProps)var $e=K.type.defaultProps;for(Ve in re)B.call(re,Ve)&&!M.hasOwnProperty(Ve)&&(me[Ve]=re[Ve]===void 0&&$e!==void 0?$e[Ve]:re[Ve])}var Ve=arguments.length-2;if(Ve===1)me.children=pe;else if(1<Ve){$e=Array(Ve);for(var pt=0;pt<Ve;pt++)$e[pt]=arguments[pt+2];me.children=$e}return{$$typeof:t,type:K.type,key:Me,ref:ze,props:me,_owner:Ce}},He.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},He.createElement=C,He.createFactory=function(K){var re=C.bind(null,K);return re.type=K,re},He.createRef=function(){return{current:null}},He.forwardRef=function(K){return{$$typeof:u,render:K}},He.isValidElement=O,He.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:ye}},He.memo=function(K,re){return{$$typeof:d,type:K,compare:re===void 0?null:re}},He.startTransition=function(K){var re=G.transition;G.transition={};try{K()}finally{G.transition=re}},He.unstable_act=ae,He.useCallback=function(K,re){return ve.current.useCallback(K,re)},He.useContext=function(K){return ve.current.useContext(K)},He.useDebugValue=function(){},He.useDeferredValue=function(K){return ve.current.useDeferredValue(K)},He.useEffect=function(K,re){return ve.current.useEffect(K,re)},He.useId=function(){return ve.current.useId()},He.useImperativeHandle=function(K,re,pe){return ve.current.useImperativeHandle(K,re,pe)},He.useInsertionEffect=function(K,re){return ve.current.useInsertionEffect(K,re)},He.useLayoutEffect=function(K,re){return ve.current.useLayoutEffect(K,re)},He.useMemo=function(K,re){return ve.current.useMemo(K,re)},He.useReducer=function(K,re,pe){return ve.current.useReducer(K,re,pe)},He.useRef=function(K){return ve.current.useRef(K)},He.useState=function(K){return ve.current.useState(K)},He.useSyncExternalStore=function(K,re,pe){return ve.current.useSyncExternalStore(K,re,pe)},He.useTransition=function(){return ve.current.useTransition()},He.version="18.3.1",He}var Gk;function ox(){return Gk||(Gk=1,Hk.exports=HL()),Hk.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qk;function KL(){if(Qk)return Lh;Qk=1;var t=ox(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,c,d){var p,g={},v=null,S=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(S=c.ref);for(p in c)r.call(c,p)&&!i.hasOwnProperty(p)&&(g[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)g[p]===void 0&&(g[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:S,props:g,_owner:s.current}}return Lh.Fragment=n,Lh.jsx=o,Lh.jsxs=o,Lh}var Xk;function GL(){return Xk||(Xk=1,Wk.exports=KL()),Wk.exports}var x=GL(),E=ox();const an=ax(E),lx=WL({__proto__:null,default:an},[E]);var Jp={},x0={exports:{}},Yn={},Yk={exports:{}},Jk={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zk;function QL(){return Zk||(Zk=1,(function(t){function e(G,ne){var ae=G.length;G.push(ne);e:for(;0<ae;){var K=ae-1>>>1,re=G[K];if(0<s(re,ne))G[K]=ne,G[ae]=re,ae=K;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ae=G.pop();if(ae!==ne){G[0]=ae;e:for(var K=0,re=G.length,pe=re>>>1;K<pe;){var me=2*(K+1)-1,Me=G[me],ze=me+1,Ce=G[ze];if(0>s(Me,ae))ze<re&&0>s(Ce,Me)?(G[K]=Ce,G[ze]=ae,K=ze):(G[K]=Me,G[me]=ae,K=me);else if(ze<re&&0>s(Ce,ae))G[K]=Ce,G[ze]=ae,K=ze;else break e}}return ne}function s(G,ne){var ae=G.sortIndex-ne.sortIndex;return ae!==0?ae:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],d=[],p=1,g=null,v=3,S=!1,I=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=G)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function V(G){if(T=!1,j(G),!I)if(n(c)!==null)I=!0,ye(B);else{var ne=n(d);ne!==null&&ve(V,ne.startTime-G)}}function B(G,ne){I=!1,T&&(T=!1,N(C),C=-1),S=!0;var ae=v;try{for(j(ne),g=n(c);g!==null&&(!(g.expirationTime>ne)||G&&!U());){var K=g.callback;if(typeof K=="function"){g.callback=null,v=g.priorityLevel;var re=K(g.expirationTime<=ne);ne=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),j(ne)}else r(c);g=n(c)}if(g!==null)var pe=!0;else{var me=n(d);me!==null&&ve(V,me.startTime-ne),pe=!1}return pe}finally{g=null,v=ae,S=!1}}var H=!1,M=null,C=-1,R=5,O=-1;function U(){return!(t.unstable_now()-O<R)}function $(){if(M!==null){var G=t.unstable_now();O=G;var ne=!0;try{ne=M(!0,G)}finally{ne?L():(H=!1,M=null)}}else H=!1}var L;if(typeof D=="function")L=function(){D($)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,De=ke.port2;ke.port1.onmessage=$,L=function(){De.postMessage(null)}}else L=function(){_($,0)};function ye(G){M=G,H||(H=!0,L())}function ve(G,ne){C=_(function(){G(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){I||S||(I=!0,ye(B))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ae=v;v=ne;try{return G()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=v;v=G;try{return ne()}finally{v=ae}},t.unstable_scheduleCallback=function(G,ne,ae){var K=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?K+ae:K):ae=K,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,G={id:p++,callback:ne,priorityLevel:G,startTime:ae,expirationTime:re,sortIndex:-1},ae>K?(G.sortIndex=ae,e(d,G),n(c)===null&&G===n(d)&&(T?(N(C),C=-1):T=!0,ve(V,ae-K))):(G.sortIndex=re,e(c,G),I||S||(I=!0,ye(B))),G},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(G){var ne=v;return function(){var ae=v;v=ne;try{return G.apply(this,arguments)}finally{v=ae}}}})(Jk)),Jk}var eT;function XL(){return eT||(eT=1,Yk.exports=QL()),Yk.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tT;function YL(){if(tT)return Yn;tT=1;var t=ox(),e=XL();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(s[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(a){return c.call(g,a)?!0:c.call(p,a)?!1:d.test(a)?g[a]=!0:(p[a]=!0,!1)}function S(a,l,h,m){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function I(a,l,h,m){if(l===null||typeof l>"u"||S(a,l,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(a,l,h,m,y,w,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=w,this.removeEmptyString=P}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new T(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new T(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new T(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new T(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new T(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new T(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new T(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new T(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new T(a,5,!1,a.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(N,D);_[l]=new T(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(N,D);_[l]=new T(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(N,D);_[l]=new T(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new T(a,1,!1,a.toLowerCase(),null,!0,!0)});function j(a,l,h,m){var y=_.hasOwnProperty(l)?_[l]:null;(y!==null?y.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(I(l,h,y,m)&&(h=null),m||y===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):y.mustUseProperty?a[y.propertyName]=h===null?y.type===3?!1:"":h:(l=y.attributeName,m=y.attributeNamespace,h===null?a.removeAttribute(l):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,m?a.setAttributeNS(m,l,h):a.setAttribute(l,h))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),H=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,K;function re(a){if(K===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);K=l&&l[1]||""}return`
`+K+a}var pe=!1;function me(a,l){if(!a||pe)return"";pe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Z){var m=Z}Reflect.construct(a,[],l)}else{try{l.call()}catch(Z){m=Z}a.call(l.prototype)}else{try{throw Error()}catch(Z){m=Z}a()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=m.stack.split(`
`),P=y.length-1,F=w.length-1;1<=P&&0<=F&&y[P]!==w[F];)F--;for(;1<=P&&0<=F;P--,F--)if(y[P]!==w[F]){if(P!==1||F!==1)do if(P--,F--,0>F||y[P]!==w[F]){var z=`
`+y[P].replace(" at new "," at ");return a.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",a.displayName)),z}while(1<=P&&0<=F);break}}}finally{pe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?re(a):""}function Me(a){switch(a.tag){case 5:return re(a.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return a=me(a.type,!1),a;case 11:return a=me(a.type.render,!1),a;case 1:return a=me(a.type,!0),a;default:return""}}function ze(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case H:return"Portal";case R:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case ke:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case $:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case De:return l=a.displayName||null,l!==null?l:ze(a.type)||"Memo";case ye:l=a._payload,a=a._init;try{return ze(a(l))}catch{}}return null}function Ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function $e(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ve(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pt(a){var l=Ve(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(P){m=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Er(a){a._valueTracker||(a._valueTracker=pt(a))}function Sr(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),m="";return a&&(m=Ve(a)?a.checked?"true":"false":a.value),a=m,a!==h?(l.setValue(a),!0):!1}function Wn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Qi(a,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Bl(a,l){var h=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;h=$e(l.value!=null?l.value:h),a._wrapperState={initialChecked:m,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Xi(a,l){l=l.checked,l!=null&&j(a,"checked",l,!1)}function si(a,l){Xi(a,l);var h=$e(l.value),m=l.type;if(h!=null)m==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?mt(a,l.type,h):l.hasOwnProperty("defaultValue")&&mt(a,l.type,$e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function ho(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function mt(a,l,h){(l!=="number"||Wn(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var $t=Array.isArray;function Hr(a,l,h,m){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&m&&(a[h].defaultSelected=!0)}else{for(h=""+$e(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Wc(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Hc(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if($t(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:$e(h)}}function Ff(a,l){var h=$e(l.value),m=$e(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),m!=null&&(a.defaultValue=""+m)}function Yi(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Kc(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Kc(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ji,Uf=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,m,y){MSApp.execUnsafeLocalFunction(function(){return a(l,h,m,y)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Ji=Ji||document.createElement("div"),Ji.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ji.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function fo(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vf=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(a){Vf.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Zi[l]=Zi[a]})});function ea(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Zi.hasOwnProperty(a)&&Zi[a]?(""+l).trim():l+"px"}function ql(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var m=h.indexOf("--")===0,y=ea(h,l[h],m);h==="float"&&(h="cssFloat"),m?a.setProperty(h,y):a[h]=y}}var Gc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(a,l){if(l){if(Gc[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Wl(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function Hl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ii=null,ai=null,Nt=null;function Qc(a){if(a=Eh(a)){if(typeof ii!="function")throw Error(n(280));var l=a.stateNode;l&&(l=fp(l),ii(a.stateNode,a.type,l))}}function na(a){ai?Nt?Nt.push(a):Nt=[a]:ai=a}function ra(){if(ai){var a=ai,l=Nt;if(Nt=ai=null,Qc(a),l)for(a=0;a<l.length;a++)Qc(l[a])}}function zf(a,l){return a(l)}function Bf(){}var ms=!1;function $f(a,l,h){if(ms)return a(l,h);ms=!0;try{return zf(a,l,h)}finally{ms=!1,(ai!==null||Nt!==null)&&(Bf(),ra())}}function po(a,l){var h=a.stateNode;if(h===null)return null;var m=fp(h);if(m===null)return null;h=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var sa=!1;if(u)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){sa=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{sa=!1}function qf(a,l,h,m,y,w,P,F,z){var Z=Array.prototype.slice.call(arguments,3);try{l.apply(h,Z)}catch(ie){this.onError(ie)}}var oi=!1,gs=null,Kl=!1,kr=null,Wf={onError:function(a){oi=!0,gs=a}};function Hf(a,l,h,m,y,w,P,F,z){oi=!1,gs=null,qf.apply(Wf,arguments)}function Xc(a,l,h,m,y,w,P,F,z){if(Hf.apply(this,arguments),oi){if(oi){var Z=gs;oi=!1,gs=null}else throw Error(n(198));Kl||(Kl=!0,kr=Z)}}function Gr(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function Yc(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Kf(a){if(Gr(a)!==a)throw Error(n(188))}function Gf(a){var l=a.alternate;if(!l){if(l=Gr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,m=l;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(m=y.return,m!==null){h=m;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return Kf(y),a;if(w===m)return Kf(y),l;w=w.sibling}throw Error(n(188))}if(h.return!==m.return)h=y,m=w;else{for(var P=!1,F=y.child;F;){if(F===h){P=!0,h=y,m=w;break}if(F===m){P=!0,m=y,h=w;break}F=F.sibling}if(!P){for(F=w.child;F;){if(F===h){P=!0,h=w,m=y;break}if(F===m){P=!0,m=w,h=y;break}F=F.sibling}if(!P)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function Qf(a){return a=Gf(a),a!==null?mo(a):null}function mo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=mo(a);if(l!==null)return l;a=a.sibling}return null}var Jc=e.unstable_scheduleCallback,Gl=e.unstable_cancelCallback,go=e.unstable_shouldYield,li=e.unstable_requestPaint,gt=e.unstable_now,Zy=e.unstable_getCurrentPriorityLevel,Ql=e.unstable_ImmediatePriority,Zc=e.unstable_UserBlockingPriority,yo=e.unstable_NormalPriority,eh=e.unstable_LowPriority,Xl=e.unstable_IdlePriority,vo=null,ir=null;function Xf(a){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(vo,a,void 0,(a.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:wo,ys=Math.log,Tr=Math.LN2;function wo(a){return a>>>=0,a===0?32:31-(ys(a)/Tr|0)|0}var vs=64,aa=4194304;function it(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ui(a,l){var h=a.pendingLanes;if(h===0)return 0;var m=0,y=a.suspendedLanes,w=a.pingedLanes,P=h&268435455;if(P!==0){var F=P&~y;F!==0?m=it(F):(w&=P,w!==0&&(m=it(w)))}else P=h&~y,P!==0?m=it(P):w!==0&&(m=it(w));if(m===0)return 0;if(l!==0&&l!==m&&(l&y)===0&&(y=m&-m,w=l&-l,y>=w||y===16&&(w&4194240)!==0))return l;if((m&4)!==0&&(m|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)h=31-ar(l),y=1<<h,m|=a[h],l&=~y;return m}function bo(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(a,l){for(var h=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes;0<w;){var P=31-ar(w),F=1<<P,z=y[P];z===-1?((F&h)===0||(F&m)!==0)&&(y[P]=bo(F,l)):z<=l&&(a.expiredLanes|=F),w&=~F}}function th(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function nh(){var a=vs;return vs<<=1,(vs&4194240)===0&&(vs=64),a}function rh(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function Eo(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-ar(l),a[l]=h}function ev(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<h;){var y=31-ar(h),w=1<<y;l[y]=0,m[y]=-1,a[y]=-1,h&=~w}}function sh(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var m=31-ar(h),y=1<<m;y&l|a[m]&l&&(a[m]|=l),h&=~y}}var Qe=0;function ws(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var ih,Yl,ah,oh,lh,bs=!1,Jl=[],xs=null,Es=null,pn=null,So=new Map,ci=new Map,or=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oa(a,l){switch(a){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":So.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(l.pointerId)}}function Qr(a,l,h,m,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[y]},l!==null&&(l=Eh(l),l!==null&&Yl(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function Jf(a,l,h,m,y){switch(l){case"focusin":return xs=Qr(xs,a,l,h,m,y),!0;case"dragenter":return Es=Qr(Es,a,l,h,m,y),!0;case"mouseover":return pn=Qr(pn,a,l,h,m,y),!0;case"pointerover":var w=y.pointerId;return So.set(w,Qr(So.get(w)||null,a,l,h,m,y)),!0;case"gotpointercapture":return w=y.pointerId,ci.set(w,Qr(ci.get(w)||null,a,l,h,m,y)),!0}return!1}function Zl(a){var l=Io(a.target);if(l!==null){var h=Gr(l);if(h!==null){if(l=h.tag,l===13){if(l=Yc(h),l!==null){a.blockedOn=l,lh(a.priority,function(){ah(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ct(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=eu(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);ta=m,h.target.dispatchEvent(m),ta=null}else return l=Eh(h),l!==null&&Yl(l),a.blockedOn=h,!1;l.shift()}return!0}function Zf(a,l,h){ct(a)&&h.delete(l)}function tv(){bs=!1,xs!==null&&ct(xs)&&(xs=null),Es!==null&&ct(Es)&&(Es=null),pn!==null&&ct(pn)&&(pn=null),So.forEach(Zf),ci.forEach(Zf)}function la(a,l){a.blockedOn===l&&(a.blockedOn=null,bs||(bs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tv)))}function ua(a){function l(y){return la(y,a)}if(0<Jl.length){la(Jl[0],a);for(var h=1;h<Jl.length;h++){var m=Jl[h];m.blockedOn===a&&(m.blockedOn=null)}}for(xs!==null&&la(xs,a),Es!==null&&la(Es,a),pn!==null&&la(pn,a),So.forEach(l),ci.forEach(l),h=0;h<or.length;h++)m=or[h],m.blockedOn===a&&(m.blockedOn=null);for(;0<or.length&&(h=or[0],h.blockedOn===null);)Zl(h),h.blockedOn===null&&or.shift()}var hi=V.ReactCurrentBatchConfig,di=!0;function Ss(a,l,h,m){var y=Qe,w=hi.transition;hi.transition=null;try{Qe=1,uh(a,l,h,m)}finally{Qe=y,hi.transition=w}}function ep(a,l,h,m){var y=Qe,w=hi.transition;hi.transition=null;try{Qe=4,uh(a,l,h,m)}finally{Qe=y,hi.transition=w}}function uh(a,l,h,m){if(di){var y=eu(a,l,h,m);if(y===null)dv(a,l,m,ks,h),oa(a,m);else if(Jf(y,a,l,h,m))m.stopPropagation();else if(oa(a,m),l&4&&-1<Yf.indexOf(a)){for(;y!==null;){var w=Eh(y);if(w!==null&&ih(w),w=eu(a,l,h,m),w===null&&dv(a,l,m,ks,h),w===y)break;y=w}y!==null&&m.stopPropagation()}else dv(a,l,m,null,h)}}var ks=null;function eu(a,l,h,m){if(ks=null,a=Hl(m),a=Io(a),a!==null)if(l=Gr(a),l===null)a=null;else if(h=l.tag,h===13){if(a=Yc(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return ks=a,null}function tu(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zy()){case Ql:return 1;case Zc:return 4;case yo:case eh:return 16;case Xl:return 536870912;default:return 16}default:return 16}}var lr=null,nu=null,fi=null;function tp(){if(fi)return fi;var a,l=nu,h=l.length,m,y="value"in lr?lr.value:lr.textContent,w=y.length;for(a=0;a<h&&l[a]===y[a];a++);var P=h-a;for(m=1;m<=P&&l[h-m]===y[w-m];m++);return fi=y.slice(a,1<m?1-m:void 0)}function ko(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ts(){return!0}function ch(){return!1}function Sn(a){function l(h,m,y,w,P){this._reactName=h,this._targetInst=y,this.type=m,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(h=a[F],this[F]=h?h(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ts:ch,this.isPropagationStopped=ch,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),l}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Sn(_s),ca=ae({},_s,{view:0,detail:0}),ru=Sn(ca),su,iu,ur,_o=ae({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ur&&(ur&&a.type==="mousemove"?(su=a.screenX-ur.screenX,iu=a.screenY-ur.screenY):iu=su=0,ur=a),su)},movementY:function(a){return"movementY"in a?a.movementY:iu}}),hh=Sn(_o),np=ae({},_o,{dataTransfer:0}),rp=Sn(np),au=ae({},ca,{relatedTarget:0}),mn=Sn(au),sp=ae({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=Sn(sp),ha=ae({},_s,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),f=Sn(ha),b=ae({},_s,{data:0}),k=Sn(b),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function he(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ee[a])?!!l[a]:!1}function Be(){return he}var qt=ae({},ca,{key:function(a){if(a.key){var l=A[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ko(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Y[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(a){return a.type==="keypress"?ko(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ko(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ht=Sn(qt),Xt=ae({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=Sn(Xt),da=ae({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),Is=Sn(da),Cs=ae({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=Sn(Cs),dh=ae({},_o,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),R4=Sn(dh),D4=[9,13,27,32],nv=u&&"CompositionEvent"in window,fh=null;u&&"documentMode"in document&&(fh=document.documentMode);var M4=u&&"TextEvent"in window&&!fh,DE=u&&(!nv||fh&&8<fh&&11>=fh),ME=" ",AE=!1;function jE(a,l){switch(a){case"keyup":return D4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OE(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lu=!1;function A4(a,l){switch(a){case"compositionend":return OE(l);case"keypress":return l.which!==32?null:(AE=!0,ME);case"textInput":return a=l.data,a===ME&&AE?null:a;default:return null}}function j4(a,l){if(lu)return a==="compositionend"||!nv&&jE(a,l)?(a=tp(),fi=nu=lr=null,lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return DE&&l.locale!=="ko"?null:l.data;default:return null}}var O4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!O4[a.type]:l==="textarea"}function FE(a,l,h,m){na(m),l=cp(l,"onChange"),0<l.length&&(h=new To("onChange","change",null,h,m),a.push({event:h,listeners:l}))}var ph=null,mh=null;function L4(a){nS(a,0)}function ap(a){var l=fu(a);if(Sr(l))return a}function F4(a,l){if(a==="change")return l}var UE=!1;if(u){var rv;if(u){var sv="oninput"in document;if(!sv){var VE=document.createElement("div");VE.setAttribute("oninput","return;"),sv=typeof VE.oninput=="function"}rv=sv}else rv=!1;UE=rv&&(!document.documentMode||9<document.documentMode)}function zE(){ph&&(ph.detachEvent("onpropertychange",BE),mh=ph=null)}function BE(a){if(a.propertyName==="value"&&ap(mh)){var l=[];FE(l,mh,a,Hl(a)),$f(L4,l)}}function U4(a,l,h){a==="focusin"?(zE(),ph=l,mh=h,ph.attachEvent("onpropertychange",BE)):a==="focusout"&&zE()}function V4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ap(mh)}function z4(a,l){if(a==="click")return ap(l)}function B4(a,l){if(a==="input"||a==="change")return ap(l)}function $4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Xr=typeof Object.is=="function"?Object.is:$4;function gh(a,l){if(Xr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var y=h[m];if(!c.call(l,y)||!Xr(a[y],l[y]))return!1}return!0}function $E(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function qE(a,l){var h=$E(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=l&&m>=l)return{node:h,offset:l-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$E(h)}}function WE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?WE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function HE(){for(var a=window,l=Wn();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Wn(a.document)}return l}function iv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function q4(a){var l=HE(),h=a.focusedElem,m=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&WE(h.ownerDocument.documentElement,h)){if(m!==null&&iv(h)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var y=h.textContent.length,w=Math.min(m.start,y);m=m.end===void 0?w:Math.min(m.end,y),!a.extend&&w>m&&(y=m,m=w,w=y),y=qE(h,w);var P=qE(h,m);y&&P&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==P.node||a.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),a.removeAllRanges(),w>m?(a.addRange(l),a.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var W4=u&&"documentMode"in document&&11>=document.documentMode,uu=null,av=null,yh=null,ov=!1;function KE(a,l,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ov||uu==null||uu!==Wn(m)||(m=uu,"selectionStart"in m&&iv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),yh&&gh(yh,m)||(yh=m,m=cp(av,"onSelect"),0<m.length&&(l=new To("onSelect","select",null,l,h),a.push({event:l,listeners:m}),l.target=uu)))}function op(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var cu={animationend:op("Animation","AnimationEnd"),animationiteration:op("Animation","AnimationIteration"),animationstart:op("Animation","AnimationStart"),transitionend:op("Transition","TransitionEnd")},lv={},GE={};u&&(GE=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function lp(a){if(lv[a])return lv[a];if(!cu[a])return a;var l=cu[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in GE)return lv[a]=l[h];return a}var QE=lp("animationend"),XE=lp("animationiteration"),YE=lp("animationstart"),JE=lp("transitionend"),ZE=new Map,eS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(a,l){ZE.set(a,l),i(l,[a])}for(var uv=0;uv<eS.length;uv++){var cv=eS[uv],H4=cv.toLowerCase(),K4=cv[0].toUpperCase()+cv.slice(1);fa(H4,"on"+K4)}fa(QE,"onAnimationEnd"),fa(XE,"onAnimationIteration"),fa(YE,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(JE,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G4=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function tS(a,l,h){var m=a.type||"unknown-event";a.currentTarget=h,Xc(m,l,void 0,a),a.currentTarget=null}function nS(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],y=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var P=m.length-1;0<=P;P--){var F=m[P],z=F.instance,Z=F.currentTarget;if(F=F.listener,z!==w&&y.isPropagationStopped())break e;tS(y,F,Z),w=z}else for(P=0;P<m.length;P++){if(F=m[P],z=F.instance,Z=F.currentTarget,F=F.listener,z!==w&&y.isPropagationStopped())break e;tS(y,F,Z),w=z}}}if(Kl)throw a=kr,Kl=!1,kr=null,a}function yt(a,l){var h=l[vv];h===void 0&&(h=l[vv]=new Set);var m=a+"__bubble";h.has(m)||(rS(l,a,2,!1),h.add(m))}function hv(a,l,h){var m=0;l&&(m|=4),rS(h,a,m,l)}var up="_reactListening"+Math.random().toString(36).slice(2);function wh(a){if(!a[up]){a[up]=!0,r.forEach(function(h){h!=="selectionchange"&&(G4.has(h)||hv(h,!1,a),hv(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[up]||(l[up]=!0,hv("selectionchange",!1,l))}}function rS(a,l,h,m){switch(tu(l)){case 1:var y=Ss;break;case 4:y=ep;break;default:y=uh}h=y.bind(null,l,h,a),y=void 0,!sa||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function dv(a,l,h,m,y){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var F=m.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(P===4)for(P=m.return;P!==null;){var z=P.tag;if((z===3||z===4)&&(z=P.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;P=P.return}for(;F!==null;){if(P=Io(F),P===null)return;if(z=P.tag,z===5||z===6){m=w=P;continue e}F=F.parentNode}}m=m.return}$f(function(){var Z=w,ie=Hl(h),oe=[];e:{var se=ZE.get(a);if(se!==void 0){var fe=To,be=a;switch(a){case"keypress":if(ko(h)===0)break e;case"keydown":case"keyup":fe=ht;break;case"focusin":be="focus",fe=mn;break;case"focusout":be="blur",fe=mn;break;case"beforeblur":case"afterblur":fe=mn;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Is;break;case QE:case XE:case YE:fe=ip;break;case JE:fe=ou;break;case"scroll":fe=ru;break;case"wheel":fe=R4;break;case"copy":case"cut":case"paste":fe=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=cr}var Te=(l&4)!==0,Wt=!Te&&a==="scroll",X=Te?se!==null?se+"Capture":null:se;Te=[];for(var W=Z,J;W!==null;){J=W;var ue=J.stateNode;if(J.tag===5&&ue!==null&&(J=ue,X!==null&&(ue=po(W,X),ue!=null&&Te.push(bh(W,ue,J)))),Wt)break;W=W.return}0<Te.length&&(se=new fe(se,be,null,h,ie),oe.push({event:se,listeners:Te}))}}if((l&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",se&&h!==ta&&(be=h.relatedTarget||h.fromElement)&&(Io(be)||be[pi]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(be=h.relatedTarget||h.toElement,fe=Z,be=be?Io(be):null,be!==null&&(Wt=Gr(be),be!==Wt||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=Z),fe!==be)){if(Te=hh,ue="onMouseLeave",X="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Te=cr,ue="onPointerLeave",X="onPointerEnter",W="pointer"),Wt=fe==null?se:fu(fe),J=be==null?se:fu(be),se=new Te(ue,W+"leave",fe,h,ie),se.target=Wt,se.relatedTarget=J,ue=null,Io(ie)===Z&&(Te=new Te(X,W+"enter",be,h,ie),Te.target=J,Te.relatedTarget=Wt,ue=Te),Wt=ue,fe&&be)t:{for(Te=fe,X=be,W=0,J=Te;J;J=hu(J))W++;for(J=0,ue=X;ue;ue=hu(ue))J++;for(;0<W-J;)Te=hu(Te),W--;for(;0<J-W;)X=hu(X),J--;for(;W--;){if(Te===X||X!==null&&Te===X.alternate)break t;Te=hu(Te),X=hu(X)}Te=null}else Te=null;fe!==null&&sS(oe,se,fe,Te,!1),be!==null&&Wt!==null&&sS(oe,Wt,be,Te,!0)}}e:{if(se=Z?fu(Z):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=F4;else if(LE(se))if(UE)_e=B4;else{_e=V4;var Ne=U4}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=z4);if(_e&&(_e=_e(a,Z))){FE(oe,_e,h,ie);break e}Ne&&Ne(a,se,Z),a==="focusout"&&(Ne=se._wrapperState)&&Ne.controlled&&se.type==="number"&&mt(se,"number",se.value)}switch(Ne=Z?fu(Z):window,a){case"focusin":(LE(Ne)||Ne.contentEditable==="true")&&(uu=Ne,av=Z,yh=null);break;case"focusout":yh=av=uu=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,KE(oe,h,ie);break;case"selectionchange":if(W4)break;case"keydown":case"keyup":KE(oe,h,ie)}var Re;if(nv)e:{switch(a){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else lu?jE(a,h)&&(Le="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Le="onCompositionStart");Le&&(DE&&h.locale!=="ko"&&(lu||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&lu&&(Re=tp()):(lr=ie,nu="value"in lr?lr.value:lr.textContent,lu=!0)),Ne=cp(Z,Le),0<Ne.length&&(Le=new k(Le,a,null,h,ie),oe.push({event:Le,listeners:Ne}),Re?Le.data=Re:(Re=OE(h),Re!==null&&(Le.data=Re)))),(Re=M4?A4(a,h):j4(a,h))&&(Z=cp(Z,"onBeforeInput"),0<Z.length&&(ie=new k("onBeforeInput","beforeinput",null,h,ie),oe.push({event:ie,listeners:Z}),ie.data=Re))}nS(oe,l)})}function bh(a,l,h){return{instance:a,listener:l,currentTarget:h}}function cp(a,l){for(var h=l+"Capture",m=[];a!==null;){var y=a,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=po(a,h),w!=null&&m.unshift(bh(a,w,y)),w=po(a,l),w!=null&&m.push(bh(a,w,y))),a=a.return}return m}function hu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function sS(a,l,h,m,y){for(var w=l._reactName,P=[];h!==null&&h!==m;){var F=h,z=F.alternate,Z=F.stateNode;if(z!==null&&z===m)break;F.tag===5&&Z!==null&&(F=Z,y?(z=po(h,w),z!=null&&P.unshift(bh(h,z,F))):y||(z=po(h,w),z!=null&&P.push(bh(h,z,F)))),h=h.return}P.length!==0&&a.push({event:l,listeners:P})}var Q4=/\r\n?/g,X4=/\u0000|\uFFFD/g;function iS(a){return(typeof a=="string"?a:""+a).replace(Q4,`
`).replace(X4,"")}function hp(a,l,h){if(l=iS(l),iS(a)!==l&&h)throw Error(n(425))}function dp(){}var fv=null,pv=null;function mv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,Y4=typeof clearTimeout=="function"?clearTimeout:void 0,aS=typeof Promise=="function"?Promise:void 0,J4=typeof queueMicrotask=="function"?queueMicrotask:typeof aS<"u"?function(a){return aS.resolve(null).then(a).catch(Z4)}:gv;function Z4(a){setTimeout(function(){throw a})}function yv(a,l){var h=l,m=0;do{var y=h.nextSibling;if(a.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(m===0){a.removeChild(y),ua(l);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=y}while(h);ua(l)}function pa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function oS(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var du=Math.random().toString(36).slice(2),Ps="__reactFiber$"+du,xh="__reactProps$"+du,pi="__reactContainer$"+du,vv="__reactEvents$"+du,eL="__reactListeners$"+du,tL="__reactHandles$"+du;function Io(a){var l=a[Ps];if(l)return l;for(var h=a.parentNode;h;){if(l=h[pi]||h[Ps]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=oS(a);a!==null;){if(h=a[Ps])return h;a=oS(a)}return l}a=h,h=a.parentNode}return null}function Eh(a){return a=a[Ps]||a[pi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function fu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function fp(a){return a[xh]||null}var wv=[],pu=-1;function ma(a){return{current:a}}function vt(a){0>pu||(a.current=wv[pu],wv[pu]=null,pu--)}function dt(a,l){pu++,wv[pu]=a.current,a.current=l}var ga={},kn=ma(ga),Hn=ma(!1),Co=ga;function mu(a,l){var h=a.type.contextTypes;if(!h)return ga;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in h)y[w]=l[w];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=y),y}function Kn(a){return a=a.childContextTypes,a!=null}function pp(){vt(Hn),vt(kn)}function lS(a,l,h){if(kn.current!==ga)throw Error(n(168));dt(kn,l),dt(Hn,h)}function uS(a,l,h){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var y in m)if(!(y in l))throw Error(n(108,Ce(a)||"Unknown",y));return ae({},h,m)}function mp(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ga,Co=kn.current,dt(kn,a),dt(Hn,Hn.current),!0}function cS(a,l,h){var m=a.stateNode;if(!m)throw Error(n(169));h?(a=uS(a,l,Co),m.__reactInternalMemoizedMergedChildContext=a,vt(Hn),vt(kn),dt(kn,a)):vt(Hn),dt(Hn,h)}var mi=null,gp=!1,bv=!1;function hS(a){mi===null?mi=[a]:mi.push(a)}function nL(a){gp=!0,hS(a)}function ya(){if(!bv&&mi!==null){bv=!0;var a=0,l=Qe;try{var h=mi;for(Qe=1;a<h.length;a++){var m=h[a];do m=m(!0);while(m!==null)}mi=null,gp=!1}catch(y){throw mi!==null&&(mi=mi.slice(a+1)),Jc(Ql,ya),y}finally{Qe=l,bv=!1}}return null}var gu=[],yu=0,yp=null,vp=0,_r=[],Ir=0,Po=null,gi=1,yi="";function No(a,l){gu[yu++]=vp,gu[yu++]=yp,yp=a,vp=l}function dS(a,l,h){_r[Ir++]=gi,_r[Ir++]=yi,_r[Ir++]=Po,Po=a;var m=gi;a=yi;var y=32-ar(m)-1;m&=~(1<<y),h+=1;var w=32-ar(l)+y;if(30<w){var P=y-y%5;w=(m&(1<<P)-1).toString(32),m>>=P,y-=P,gi=1<<32-ar(l)+y|h<<y|m,yi=w+a}else gi=1<<w|h<<y|m,yi=a}function xv(a){a.return!==null&&(No(a,1),dS(a,1,0))}function Ev(a){for(;a===yp;)yp=gu[--yu],gu[yu]=null,vp=gu[--yu],gu[yu]=null;for(;a===Po;)Po=_r[--Ir],_r[Ir]=null,yi=_r[--Ir],_r[Ir]=null,gi=_r[--Ir],_r[Ir]=null}var hr=null,dr=null,bt=!1,Yr=null;function fS(a,l){var h=Rr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function pS(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,hr=a,dr=pa(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,hr=a,dr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Po!==null?{id:gi,overflow:yi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Rr(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,hr=a,dr=null,!0):!1;default:return!1}}function Sv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function kv(a){if(bt){var l=dr;if(l){var h=l;if(!pS(a,l)){if(Sv(a))throw Error(n(418));l=pa(h.nextSibling);var m=hr;l&&pS(a,l)?fS(m,h):(a.flags=a.flags&-4097|2,bt=!1,hr=a)}}else{if(Sv(a))throw Error(n(418));a.flags=a.flags&-4097|2,bt=!1,hr=a}}}function mS(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;hr=a}function wp(a){if(a!==hr)return!1;if(!bt)return mS(a),bt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!mv(a.type,a.memoizedProps)),l&&(l=dr)){if(Sv(a))throw gS(),Error(n(418));for(;l;)fS(a,l),l=pa(l.nextSibling)}if(mS(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){dr=pa(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}dr=null}}else dr=hr?pa(a.stateNode.nextSibling):null;return!0}function gS(){for(var a=dr;a;)a=pa(a.nextSibling)}function vu(){dr=hr=null,bt=!1}function Tv(a){Yr===null?Yr=[a]:Yr.push(a)}var rL=V.ReactCurrentBatchConfig;function Sh(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var m=h.stateNode}if(!m)throw Error(n(147,a));var y=m,w=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===w?l.ref:(l=function(P){var F=y.refs;P===null?delete F[w]:F[w]=P},l._stringRef=w,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function bp(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function yS(a){var l=a._init;return l(a._payload)}function vS(a){function l(X,W){if(a){var J=X.deletions;J===null?(X.deletions=[W],X.flags|=16):J.push(W)}}function h(X,W){if(!a)return null;for(;W!==null;)l(X,W),W=W.sibling;return null}function m(X,W){for(X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function y(X,W){return X=Ta(X,W),X.index=0,X.sibling=null,X}function w(X,W,J){return X.index=J,a?(J=X.alternate,J!==null?(J=J.index,J<W?(X.flags|=2,W):J):(X.flags|=2,W)):(X.flags|=1048576,W)}function P(X){return a&&X.alternate===null&&(X.flags|=2),X}function F(X,W,J,ue){return W===null||W.tag!==6?(W=m0(J,X.mode,ue),W.return=X,W):(W=y(W,J),W.return=X,W)}function z(X,W,J,ue){var _e=J.type;return _e===M?ie(X,W,J.props.children,ue,J.key):W!==null&&(W.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&yS(_e)===W.type)?(ue=y(W,J.props),ue.ref=Sh(X,W,J),ue.return=X,ue):(ue=qp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=Sh(X,W,J),ue.return=X,ue)}function Z(X,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=g0(J,X.mode,ue),W.return=X,W):(W=y(W,J.children||[]),W.return=X,W)}function ie(X,W,J,ue,_e){return W===null||W.tag!==7?(W=Fo(J,X.mode,ue,_e),W.return=X,W):(W=y(W,J),W.return=X,W)}function oe(X,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=m0(""+W,X.mode,J),W.return=X,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case B:return J=qp(W.type,W.key,W.props,null,X.mode,J),J.ref=Sh(X,null,W),J.return=X,J;case H:return W=g0(W,X.mode,J),W.return=X,W;case ye:var ue=W._init;return oe(X,ue(W._payload),J)}if($t(W)||ne(W))return W=Fo(W,X.mode,J,null),W.return=X,W;bp(X,W)}return null}function se(X,W,J,ue){var _e=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return _e!==null?null:F(X,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===_e?z(X,W,J,ue):null;case H:return J.key===_e?Z(X,W,J,ue):null;case ye:return _e=J._init,se(X,W,_e(J._payload),ue)}if($t(J)||ne(J))return _e!==null?null:ie(X,W,J,ue,null);bp(X,J)}return null}function fe(X,W,J,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return X=X.get(J)||null,F(W,X,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case B:return X=X.get(ue.key===null?J:ue.key)||null,z(W,X,ue,_e);case H:return X=X.get(ue.key===null?J:ue.key)||null,Z(W,X,ue,_e);case ye:var Ne=ue._init;return fe(X,W,J,Ne(ue._payload),_e)}if($t(ue)||ne(ue))return X=X.get(J)||null,ie(W,X,ue,_e,null);bp(W,ue)}return null}function be(X,W,J,ue){for(var _e=null,Ne=null,Re=W,Le=W=0,hn=null;Re!==null&&Le<J.length;Le++){Re.index>Le?(hn=Re,Re=null):hn=Re.sibling;var st=se(X,Re,J[Le],ue);if(st===null){Re===null&&(Re=hn);break}a&&Re&&st.alternate===null&&l(X,Re),W=w(st,W,Le),Ne===null?_e=st:Ne.sibling=st,Ne=st,Re=hn}if(Le===J.length)return h(X,Re),bt&&No(X,Le),_e;if(Re===null){for(;Le<J.length;Le++)Re=oe(X,J[Le],ue),Re!==null&&(W=w(Re,W,Le),Ne===null?_e=Re:Ne.sibling=Re,Ne=Re);return bt&&No(X,Le),_e}for(Re=m(X,Re);Le<J.length;Le++)hn=fe(Re,X,Le,J[Le],ue),hn!==null&&(a&&hn.alternate!==null&&Re.delete(hn.key===null?Le:hn.key),W=w(hn,W,Le),Ne===null?_e=hn:Ne.sibling=hn,Ne=hn);return a&&Re.forEach(function(_a){return l(X,_a)}),bt&&No(X,Le),_e}function Te(X,W,J,ue){var _e=ne(J);if(typeof _e!="function")throw Error(n(150));if(J=_e.call(J),J==null)throw Error(n(151));for(var Ne=_e=null,Re=W,Le=W=0,hn=null,st=J.next();Re!==null&&!st.done;Le++,st=J.next()){Re.index>Le?(hn=Re,Re=null):hn=Re.sibling;var _a=se(X,Re,st.value,ue);if(_a===null){Re===null&&(Re=hn);break}a&&Re&&_a.alternate===null&&l(X,Re),W=w(_a,W,Le),Ne===null?_e=_a:Ne.sibling=_a,Ne=_a,Re=hn}if(st.done)return h(X,Re),bt&&No(X,Le),_e;if(Re===null){for(;!st.done;Le++,st=J.next())st=oe(X,st.value,ue),st!==null&&(W=w(st,W,Le),Ne===null?_e=st:Ne.sibling=st,Ne=st);return bt&&No(X,Le),_e}for(Re=m(X,Re);!st.done;Le++,st=J.next())st=fe(Re,X,Le,st.value,ue),st!==null&&(a&&st.alternate!==null&&Re.delete(st.key===null?Le:st.key),W=w(st,W,Le),Ne===null?_e=st:Ne.sibling=st,Ne=st);return a&&Re.forEach(function(OL){return l(X,OL)}),bt&&No(X,Le),_e}function Wt(X,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===M&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var _e=J.key,Ne=W;Ne!==null;){if(Ne.key===_e){if(_e=J.type,_e===M){if(Ne.tag===7){h(X,Ne.sibling),W=y(Ne,J.props.children),W.return=X,X=W;break e}}else if(Ne.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&yS(_e)===Ne.type){h(X,Ne.sibling),W=y(Ne,J.props),W.ref=Sh(X,Ne,J),W.return=X,X=W;break e}h(X,Ne);break}else l(X,Ne);Ne=Ne.sibling}J.type===M?(W=Fo(J.props.children,X.mode,ue,J.key),W.return=X,X=W):(ue=qp(J.type,J.key,J.props,null,X.mode,ue),ue.ref=Sh(X,W,J),ue.return=X,X=ue)}return P(X);case H:e:{for(Ne=J.key;W!==null;){if(W.key===Ne)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){h(X,W.sibling),W=y(W,J.children||[]),W.return=X,X=W;break e}else{h(X,W);break}else l(X,W);W=W.sibling}W=g0(J,X.mode,ue),W.return=X,X=W}return P(X);case ye:return Ne=J._init,Wt(X,W,Ne(J._payload),ue)}if($t(J))return be(X,W,J,ue);if(ne(J))return Te(X,W,J,ue);bp(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(h(X,W.sibling),W=y(W,J),W.return=X,X=W):(h(X,W),W=m0(J,X.mode,ue),W.return=X,X=W),P(X)):h(X,W)}return Wt}var wu=vS(!0),wS=vS(!1),xp=ma(null),Ep=null,bu=null,_v=null;function Iv(){_v=bu=Ep=null}function Cv(a){var l=xp.current;vt(xp),a._currentValue=l}function Pv(a,l,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===h)break;a=a.return}}function xu(a,l){Ep=a,_v=bu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Gn=!0),a.firstContext=null)}function Cr(a){var l=a._currentValue;if(_v!==a)if(a={context:a,memoizedValue:l,next:null},bu===null){if(Ep===null)throw Error(n(308));bu=a,Ep.dependencies={lanes:0,firstContext:a}}else bu=bu.next=a;return l}var Ro=null;function Nv(a){Ro===null?Ro=[a]:Ro.push(a)}function bS(a,l,h,m){var y=l.interleaved;return y===null?(h.next=h,Nv(l)):(h.next=y.next,y.next=h),l.interleaved=h,vi(a,m)}function vi(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var va=!1;function Rv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xS(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function wi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function wa(a,l,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,vi(a,h)}return y=m.interleaved,y===null?(l.next=l,Nv(m)):(l.next=y.next,y.next=l),m.interleaved=l,vi(a,h)}function Sp(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,sh(a,h)}}function ES(a,l){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};w===null?y=w=P:w=w.next=P,h=h.next}while(h!==null);w===null?y=w=l:w=w.next=l}else y=w=l;h={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:m.shared,effects:m.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function kp(a,l,h,m){var y=a.updateQueue;va=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var z=F,Z=z.next;z.next=null,P===null?w=Z:P.next=Z,P=z;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,F=ie.lastBaseUpdate,F!==P&&(F===null?ie.firstBaseUpdate=Z:F.next=Z,ie.lastBaseUpdate=z))}if(w!==null){var oe=y.baseState;P=0,ie=Z=z=null,F=w;do{var se=F.lane,fe=F.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var be=a,Te=F;switch(se=l,fe=h,Te.tag){case 1:if(be=Te.payload,typeof be=="function"){oe=be.call(fe,oe,se);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,se=typeof be=="function"?be.call(fe,oe,se):be,se==null)break e;oe=ae({},oe,se);break e;case 2:va=!0}}F.callback!==null&&F.lane!==0&&(a.flags|=64,se=y.effects,se===null?y.effects=[F]:se.push(F))}else fe={eventTime:fe,lane:se,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ie===null?(Z=ie=fe,z=oe):ie=ie.next=fe,P|=se;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;se=F,F=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);if(ie===null&&(z=oe),y.baseState=z,y.firstBaseUpdate=Z,y.lastBaseUpdate=ie,l=y.shared.interleaved,l!==null){y=l;do P|=y.lane,y=y.next;while(y!==l)}else w===null&&(y.shared.lanes=0);Ao|=P,a.lanes=P,a.memoizedState=oe}}function SS(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],y=m.callback;if(y!==null){if(m.callback=null,m=h,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var kh={},Ns=ma(kh),Th=ma(kh),_h=ma(kh);function Do(a){if(a===kh)throw Error(n(174));return a}function Dv(a,l){switch(dt(_h,l),dt(Th,a),dt(Ns,kh),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$l(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=$l(l,a)}vt(Ns),dt(Ns,l)}function Eu(){vt(Ns),vt(Th),vt(_h)}function kS(a){Do(_h.current);var l=Do(Ns.current),h=$l(l,a.type);l!==h&&(dt(Th,a),dt(Ns,h))}function Mv(a){Th.current===a&&(vt(Ns),vt(Th))}var kt=ma(0);function Tp(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Av=[];function jv(){for(var a=0;a<Av.length;a++)Av[a]._workInProgressVersionPrimary=null;Av.length=0}var _p=V.ReactCurrentDispatcher,Ov=V.ReactCurrentBatchConfig,Mo=0,Tt=null,nn=null,un=null,Ip=!1,Ih=!1,Ch=0,sL=0;function Tn(){throw Error(n(321))}function Lv(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Xr(a[h],l[h]))return!1;return!0}function Fv(a,l,h,m,y,w){if(Mo=w,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_p.current=a===null||a.memoizedState===null?lL:uL,a=h(m,y),Ih){w=0;do{if(Ih=!1,Ch=0,25<=w)throw Error(n(301));w+=1,un=nn=null,l.updateQueue=null,_p.current=cL,a=h(m,y)}while(Ih)}if(_p.current=Np,l=nn!==null&&nn.next!==null,Mo=0,un=nn=Tt=null,Ip=!1,l)throw Error(n(300));return a}function Uv(){var a=Ch!==0;return Ch=0,a}function Rs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Tt.memoizedState=un=a:un=un.next=a,un}function Pr(){if(nn===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var l=un===null?Tt.memoizedState:un.next;if(l!==null)un=l,nn=a;else{if(a===null)throw Error(n(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},un===null?Tt.memoizedState=un=a:un=un.next=a}return un}function Ph(a,l){return typeof l=="function"?l(a):l}function Vv(a){var l=Pr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=nn,y=m.baseQueue,w=h.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}m.baseQueue=y=w,h.pending=null}if(y!==null){w=y.next,m=m.baseState;var F=P=null,z=null,Z=w;do{var ie=Z.lane;if((Mo&ie)===ie)z!==null&&(z=z.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:a(m,Z.action);else{var oe={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};z===null?(F=z=oe,P=m):z=z.next=oe,Tt.lanes|=ie,Ao|=ie}Z=Z.next}while(Z!==null&&Z!==w);z===null?P=m:z.next=F,Xr(m,l.memoizedState)||(Gn=!0),l.memoizedState=m,l.baseState=P,l.baseQueue=z,h.lastRenderedState=m}if(a=h.interleaved,a!==null){y=a;do w=y.lane,Tt.lanes|=w,Ao|=w,y=y.next;while(y!==a)}else y===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function zv(a){var l=Pr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=h.dispatch,y=h.pending,w=l.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do w=a(w,P.action),P=P.next;while(P!==y);Xr(w,l.memoizedState)||(Gn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),h.lastRenderedState=w}return[w,m]}function TS(){}function _S(a,l){var h=Tt,m=Pr(),y=l(),w=!Xr(m.memoizedState,y);if(w&&(m.memoizedState=y,Gn=!0),m=m.queue,Bv(PS.bind(null,h,m,a),[a]),m.getSnapshot!==l||w||un!==null&&un.memoizedState.tag&1){if(h.flags|=2048,Nh(9,CS.bind(null,h,m,y,l),void 0,null),cn===null)throw Error(n(349));(Mo&30)!==0||IS(h,l,y)}return y}function IS(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function CS(a,l,h,m){l.value=h,l.getSnapshot=m,NS(l)&&RS(a)}function PS(a,l,h){return h(function(){NS(l)&&RS(a)})}function NS(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Xr(a,h)}catch{return!0}}function RS(a){var l=vi(a,1);l!==null&&ts(l,a,1,-1)}function DS(a){var l=Rs();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:a},l.queue=a,a=a.dispatch=oL.bind(null,Tt,a),[l.memoizedState,a]}function Nh(a,l,h,m){return a={tag:a,create:l,destroy:h,deps:m,next:null},l=Tt.updateQueue,l===null?(l={lastEffect:null,stores:null},Tt.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,l.lastEffect=a)),a}function MS(){return Pr().memoizedState}function Cp(a,l,h,m){var y=Rs();Tt.flags|=a,y.memoizedState=Nh(1|l,h,void 0,m===void 0?null:m)}function Pp(a,l,h,m){var y=Pr();m=m===void 0?null:m;var w=void 0;if(nn!==null){var P=nn.memoizedState;if(w=P.destroy,m!==null&&Lv(m,P.deps)){y.memoizedState=Nh(l,h,w,m);return}}Tt.flags|=a,y.memoizedState=Nh(1|l,h,w,m)}function AS(a,l){return Cp(8390656,8,a,l)}function Bv(a,l){return Pp(2048,8,a,l)}function jS(a,l){return Pp(4,2,a,l)}function OS(a,l){return Pp(4,4,a,l)}function LS(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function FS(a,l,h){return h=h!=null?h.concat([a]):null,Pp(4,4,LS.bind(null,l,a),h)}function $v(){}function US(a,l){var h=Pr();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&Lv(l,m[1])?m[0]:(h.memoizedState=[a,l],a)}function VS(a,l){var h=Pr();l=l===void 0?null:l;var m=h.memoizedState;return m!==null&&l!==null&&Lv(l,m[1])?m[0]:(a=a(),h.memoizedState=[a,l],a)}function zS(a,l,h){return(Mo&21)===0?(a.baseState&&(a.baseState=!1,Gn=!0),a.memoizedState=h):(Xr(h,l)||(h=nh(),Tt.lanes|=h,Ao|=h,a.baseState=!0),l)}function iL(a,l){var h=Qe;Qe=h!==0&&4>h?h:4,a(!0);var m=Ov.transition;Ov.transition={};try{a(!1),l()}finally{Qe=h,Ov.transition=m}}function BS(){return Pr().memoizedState}function aL(a,l,h){var m=Sa(a);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},$S(a))qS(l,h);else if(h=bS(a,l,h,m),h!==null){var y=On();ts(h,a,m,y),WS(h,l,m)}}function oL(a,l,h){var m=Sa(a),y={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if($S(a))qS(l,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,F=w(P,h);if(y.hasEagerState=!0,y.eagerState=F,Xr(F,P)){var z=l.interleaved;z===null?(y.next=y,Nv(l)):(y.next=z.next,z.next=y),l.interleaved=y;return}}catch{}finally{}h=bS(a,l,y,m),h!==null&&(y=On(),ts(h,a,m,y),WS(h,l,m))}}function $S(a){var l=a.alternate;return a===Tt||l!==null&&l===Tt}function qS(a,l){Ih=Ip=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function WS(a,l,h){if((h&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,h|=m,l.lanes=h,sh(a,h)}}var Np={readContext:Cr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},lL={readContext:Cr,useCallback:function(a,l){return Rs().memoizedState=[a,l===void 0?null:l],a},useContext:Cr,useEffect:AS,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,Cp(4194308,4,LS.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Cp(4194308,4,a,l)},useInsertionEffect:function(a,l){return Cp(4,2,a,l)},useMemo:function(a,l){var h=Rs();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var m=Rs();return l=h!==void 0?h(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=aL.bind(null,Tt,a),[m.memoizedState,a]},useRef:function(a){var l=Rs();return a={current:a},l.memoizedState=a},useState:DS,useDebugValue:$v,useDeferredValue:function(a){return Rs().memoizedState=a},useTransition:function(){var a=DS(!1),l=a[0];return a=iL.bind(null,a[1]),Rs().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var m=Tt,y=Rs();if(bt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),cn===null)throw Error(n(349));(Mo&30)!==0||IS(m,l,h)}y.memoizedState=h;var w={value:h,getSnapshot:l};return y.queue=w,AS(PS.bind(null,m,w,a),[a]),m.flags|=2048,Nh(9,CS.bind(null,m,w,h,l),void 0,null),h},useId:function(){var a=Rs(),l=cn.identifierPrefix;if(bt){var h=yi,m=gi;h=(m&~(1<<32-ar(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=Ch++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=sL++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},uL={readContext:Cr,useCallback:US,useContext:Cr,useEffect:Bv,useImperativeHandle:FS,useInsertionEffect:jS,useLayoutEffect:OS,useMemo:VS,useReducer:Vv,useRef:MS,useState:function(){return Vv(Ph)},useDebugValue:$v,useDeferredValue:function(a){var l=Pr();return zS(l,nn.memoizedState,a)},useTransition:function(){var a=Vv(Ph)[0],l=Pr().memoizedState;return[a,l]},useMutableSource:TS,useSyncExternalStore:_S,useId:BS,unstable_isNewReconciler:!1},cL={readContext:Cr,useCallback:US,useContext:Cr,useEffect:Bv,useImperativeHandle:FS,useInsertionEffect:jS,useLayoutEffect:OS,useMemo:VS,useReducer:zv,useRef:MS,useState:function(){return zv(Ph)},useDebugValue:$v,useDeferredValue:function(a){var l=Pr();return nn===null?l.memoizedState=a:zS(l,nn.memoizedState,a)},useTransition:function(){var a=zv(Ph)[0],l=Pr().memoizedState;return[a,l]},useMutableSource:TS,useSyncExternalStore:_S,useId:BS,unstable_isNewReconciler:!1};function Jr(a,l){if(a&&a.defaultProps){l=ae({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function qv(a,l,h,m){l=a.memoizedState,h=h(m,l),h=h==null?l:ae({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Rp={isMounted:function(a){return(a=a._reactInternals)?Gr(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var m=On(),y=Sa(a),w=wi(m,y);w.payload=l,h!=null&&(w.callback=h),l=wa(a,w,y),l!==null&&(ts(l,a,y,m),Sp(l,a,y))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var m=On(),y=Sa(a),w=wi(m,y);w.tag=1,w.payload=l,h!=null&&(w.callback=h),l=wa(a,w,y),l!==null&&(ts(l,a,y,m),Sp(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=On(),m=Sa(a),y=wi(h,m);y.tag=2,l!=null&&(y.callback=l),l=wa(a,y,m),l!==null&&(ts(l,a,m,h),Sp(l,a,m))}};function HS(a,l,h,m,y,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,P):l.prototype&&l.prototype.isPureReactComponent?!gh(h,m)||!gh(y,w):!0}function KS(a,l,h){var m=!1,y=ga,w=l.contextType;return typeof w=="object"&&w!==null?w=Cr(w):(y=Kn(l)?Co:kn.current,m=l.contextTypes,w=(m=m!=null)?mu(a,y):ga),l=new l(h,w),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Rp,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=w),l}function GS(a,l,h,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==a&&Rp.enqueueReplaceState(l,l.state,null)}function Wv(a,l,h,m){var y=a.stateNode;y.props=h,y.state=a.memoizedState,y.refs={},Rv(a);var w=l.contextType;typeof w=="object"&&w!==null?y.context=Cr(w):(w=Kn(l)?Co:kn.current,y.context=mu(a,w)),y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(qv(a,l,w,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Rp.enqueueReplaceState(y,y.state,null),kp(a,h,y,m),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Su(a,l){try{var h="",m=l;do h+=Me(m),m=m.return;while(m);var y=h}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:l,stack:y,digest:null}}function Hv(a,l,h){return{value:a,source:null,stack:h??null,digest:l??null}}function Kv(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var hL=typeof WeakMap=="function"?WeakMap:Map;function QS(a,l,h){h=wi(-1,h),h.tag=3,h.payload={element:null};var m=l.value;return h.callback=function(){Fp||(Fp=!0,o0=m),Kv(a,l)},h}function XS(a,l,h){h=wi(-1,h),h.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=l.value;h.payload=function(){return m(y)},h.callback=function(){Kv(a,l)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(h.callback=function(){Kv(a,l),typeof m!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),h}function YS(a,l,h){var m=a.pingCache;if(m===null){m=a.pingCache=new hL;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(h)||(y.add(h),a=TL.bind(null,a,l,h),l.then(a,a))}function JS(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function ZS(a,l,h,m,y){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=wi(-1,1),l.tag=2,wa(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var dL=V.ReactCurrentOwner,Gn=!1;function jn(a,l,h,m){l.child=a===null?wS(l,null,h,m):wu(l,a.child,h,m)}function ek(a,l,h,m,y){h=h.render;var w=l.ref;return xu(l,y),m=Fv(a,l,h,m,w,y),h=Uv(),a!==null&&!Gn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,bi(a,l,y)):(bt&&h&&xv(l),l.flags|=1,jn(a,l,m,y),l.child)}function tk(a,l,h,m,y){if(a===null){var w=h.type;return typeof w=="function"&&!p0(w)&&w.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=w,nk(a,l,w,m,y)):(a=qp(h.type,null,m,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,(a.lanes&y)===0){var P=w.memoizedProps;if(h=h.compare,h=h!==null?h:gh,h(P,m)&&a.ref===l.ref)return bi(a,l,y)}return l.flags|=1,a=Ta(w,m),a.ref=l.ref,a.return=l,l.child=a}function nk(a,l,h,m,y){if(a!==null){var w=a.memoizedProps;if(gh(w,m)&&a.ref===l.ref)if(Gn=!1,l.pendingProps=m=w,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Gn=!0);else return l.lanes=a.lanes,bi(a,l,y)}return Gv(a,l,h,m,y)}function rk(a,l,h){var m=l.pendingProps,y=m.children,w=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Tu,fr),fr|=h;else{if((h&1073741824)===0)return a=w!==null?w.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,dt(Tu,fr),fr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=w!==null?w.baseLanes:h,dt(Tu,fr),fr|=m}else w!==null?(m=w.baseLanes|h,l.memoizedState=null):m=h,dt(Tu,fr),fr|=m;return jn(a,l,y,h),l.child}function sk(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Gv(a,l,h,m,y){var w=Kn(h)?Co:kn.current;return w=mu(l,w),xu(l,y),h=Fv(a,l,h,m,w,y),m=Uv(),a!==null&&!Gn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,bi(a,l,y)):(bt&&m&&xv(l),l.flags|=1,jn(a,l,h,y),l.child)}function ik(a,l,h,m,y){if(Kn(h)){var w=!0;mp(l)}else w=!1;if(xu(l,y),l.stateNode===null)Mp(a,l),KS(l,h,m),Wv(l,h,m,y),m=!0;else if(a===null){var P=l.stateNode,F=l.memoizedProps;P.props=F;var z=P.context,Z=h.contextType;typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=Kn(h)?Co:kn.current,Z=mu(l,Z));var ie=h.getDerivedStateFromProps,oe=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function";oe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==m||z!==Z)&&GS(l,P,m,Z),va=!1;var se=l.memoizedState;P.state=se,kp(l,m,P,y),z=l.memoizedState,F!==m||se!==z||Hn.current||va?(typeof ie=="function"&&(qv(l,h,ie,m),z=l.memoizedState),(F=va||HS(l,h,F,m,se,z,Z))?(oe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=z),P.props=m,P.state=z,P.context=Z,m=F):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{P=l.stateNode,xS(a,l),F=l.memoizedProps,Z=l.type===l.elementType?F:Jr(l.type,F),P.props=Z,oe=l.pendingProps,se=P.context,z=h.contextType,typeof z=="object"&&z!==null?z=Cr(z):(z=Kn(h)?Co:kn.current,z=mu(l,z));var fe=h.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==oe||se!==z)&&GS(l,P,m,z),va=!1,se=l.memoizedState,P.state=se,kp(l,m,P,y);var be=l.memoizedState;F!==oe||se!==be||Hn.current||va?(typeof fe=="function"&&(qv(l,h,fe,m),be=l.memoizedState),(Z=va||HS(l,h,Z,m,se,be,z)||!1)?(ie||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,be,z),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,be,z)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=be),P.props=m,P.state=be,P.context=z,m=Z):(typeof P.componentDidUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&se===a.memoizedState||(l.flags|=1024),m=!1)}return Qv(a,l,h,m,w,y)}function Qv(a,l,h,m,y,w){sk(a,l);var P=(l.flags&128)!==0;if(!m&&!P)return y&&cS(l,h,!1),bi(a,l,w);m=l.stateNode,dL.current=l;var F=P&&typeof h.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&P?(l.child=wu(l,a.child,null,w),l.child=wu(l,null,F,w)):jn(a,l,F,w),l.memoizedState=m.state,y&&cS(l,h,!0),l.child}function ak(a){var l=a.stateNode;l.pendingContext?lS(a,l.pendingContext,l.pendingContext!==l.context):l.context&&lS(a,l.context,!1),Dv(a,l.containerInfo)}function ok(a,l,h,m,y){return vu(),Tv(y),l.flags|=256,jn(a,l,h,m),l.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Yv(a){return{baseLanes:a,cachePool:null,transitions:null}}function lk(a,l,h){var m=l.pendingProps,y=kt.current,w=!1,P=(l.flags&128)!==0,F;if((F=P)||(F=a!==null&&a.memoizedState===null?!1:(y&2)!==0),F?(w=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),dt(kt,y&1),a===null)return kv(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=m.children,a=m.fallback,w?(m=l.mode,w=l.child,P={mode:"hidden",children:P},(m&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=P):w=Wp(P,m,0,null),a=Fo(a,m,h,null),w.return=l,a.return=l,w.sibling=a,l.child=w,l.child.memoizedState=Yv(h),l.memoizedState=Xv,a):Jv(l,P));if(y=a.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return fL(a,l,P,m,F,y,h);if(w){w=m.fallback,P=l.mode,y=a.child,F=y.sibling;var z={mode:"hidden",children:m.children};return(P&1)===0&&l.child!==y?(m=l.child,m.childLanes=0,m.pendingProps=z,l.deletions=null):(m=Ta(y,z),m.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=Ta(F,w):(w=Fo(w,P,h,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,P=a.child.memoizedState,P=P===null?Yv(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},w.memoizedState=P,w.childLanes=a.childLanes&~h,l.memoizedState=Xv,m}return w=a.child,a=w.sibling,m=Ta(w,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=h),m.return=l,m.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=m,l.memoizedState=null,m}function Jv(a,l){return l=Wp({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Dp(a,l,h,m){return m!==null&&Tv(m),wu(l,a.child,null,h),a=Jv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function fL(a,l,h,m,y,w,P){if(h)return l.flags&256?(l.flags&=-257,m=Hv(Error(n(422))),Dp(a,l,P,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(w=m.fallback,y=l.mode,m=Wp({mode:"visible",children:m.children},y,0,null),w=Fo(w,y,P,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,(l.mode&1)!==0&&wu(l,a.child,null,P),l.child.memoizedState=Yv(P),l.memoizedState=Xv,w);if((l.mode&1)===0)return Dp(a,l,P,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var F=m.dgst;return m=F,w=Error(n(419)),m=Hv(w,m,void 0),Dp(a,l,P,m)}if(F=(P&a.childLanes)!==0,Gn||F){if(m=cn,m!==null){switch(P&-P){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|P))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,vi(a,y),ts(m,a,y,-1))}return f0(),m=Hv(Error(n(421))),Dp(a,l,P,m)}return y.data==="$?"?(l.flags|=128,l.child=a.child,l=_L.bind(null,a),y._reactRetry=l,null):(a=w.treeContext,dr=pa(y.nextSibling),hr=l,bt=!0,Yr=null,a!==null&&(_r[Ir++]=gi,_r[Ir++]=yi,_r[Ir++]=Po,gi=a.id,yi=a.overflow,Po=l),l=Jv(l,m.children),l.flags|=4096,l)}function uk(a,l,h){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Pv(a.return,l,h)}function Zv(a,l,h,m,y){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:y}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=h,w.tailMode=y)}function ck(a,l,h){var m=l.pendingProps,y=m.revealOrder,w=m.tail;if(jn(a,l,m.children,h),m=kt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&uk(a,h,l);else if(a.tag===19)uk(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(dt(kt,m),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&Tp(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),Zv(l,!1,y,h,w);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Tp(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}Zv(l,!0,h,null,w);break;case"together":Zv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Mp(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function bi(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Ao|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=Ta(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=Ta(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function pL(a,l,h){switch(l.tag){case 3:ak(l),vu();break;case 5:kS(l);break;case 1:Kn(l.type)&&mp(l);break;case 4:Dv(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,y=l.memoizedProps.value;dt(xp,m._currentValue),m._currentValue=y;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(dt(kt,kt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?lk(a,l,h):(dt(kt,kt.current&1),a=bi(a,l,h),a!==null?a.sibling:null);dt(kt,kt.current&1);break;case 19:if(m=(h&l.childLanes)!==0,(a.flags&128)!==0){if(m)return ck(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),dt(kt,kt.current),m)break;return null;case 22:case 23:return l.lanes=0,rk(a,l,h)}return bi(a,l,h)}var hk,e0,dk,fk;hk=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},e0=function(){},dk=function(a,l,h,m){var y=a.memoizedProps;if(y!==m){a=l.stateNode,Do(Ns.current);var w=null;switch(h){case"input":y=Qi(a,y),m=Qi(a,m),w=[];break;case"select":y=ae({},y,{value:void 0}),m=ae({},m,{value:void 0}),w=[];break;case"textarea":y=Wc(a,y),m=Wc(a,m),w=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=dp)}Kr(h,m);var P;h=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var F=y[Z];for(P in F)F.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(s.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in m){var z=m[Z];if(F=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&z!==F&&(z!=null||F!=null))if(Z==="style")if(F){for(P in F)!F.hasOwnProperty(P)||z&&z.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in z)z.hasOwnProperty(P)&&F[P]!==z[P]&&(h||(h={}),h[P]=z[P])}else h||(w||(w=[]),w.push(Z,h)),h=z;else Z==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,F=F?F.__html:void 0,z!=null&&F!==z&&(w=w||[]).push(Z,z)):Z==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(Z,""+z):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(s.hasOwnProperty(Z)?(z!=null&&Z==="onScroll"&&yt("scroll",a),w||F===z||(w=[])):(w=w||[]).push(Z,z))}h&&(w=w||[]).push("style",h);var Z=w;(l.updateQueue=Z)&&(l.flags|=4)}},fk=function(a,l,h,m){h!==m&&(l.flags|=4)};function Rh(a,l){if(!bt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function _n(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=h,l}function mL(a,l,h){var m=l.pendingProps;switch(Ev(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return Kn(l.type)&&pp(),_n(l),null;case 3:return m=l.stateNode,Eu(),vt(Hn),vt(kn),jv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(wp(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yr!==null&&(c0(Yr),Yr=null))),e0(a,l),_n(l),null;case 5:Mv(l);var y=Do(_h.current);if(h=l.type,a!==null&&l.stateNode!=null)dk(a,l,h,m,y),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(n(166));return _n(l),null}if(a=Do(Ns.current),wp(l)){m=l.stateNode,h=l.type;var w=l.memoizedProps;switch(m[Ps]=l,m[xh]=w,a=(l.mode&1)!==0,h){case"dialog":yt("cancel",m),yt("close",m);break;case"iframe":case"object":case"embed":yt("load",m);break;case"video":case"audio":for(y=0;y<vh.length;y++)yt(vh[y],m);break;case"source":yt("error",m);break;case"img":case"image":case"link":yt("error",m),yt("load",m);break;case"details":yt("toggle",m);break;case"input":Bl(m,w),yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!w.multiple},yt("invalid",m);break;case"textarea":Hc(m,w),yt("invalid",m)}Kr(h,w),y=null;for(var P in w)if(w.hasOwnProperty(P)){var F=w[P];P==="children"?typeof F=="string"?m.textContent!==F&&(w.suppressHydrationWarning!==!0&&hp(m.textContent,F,a),y=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&hp(m.textContent,F,a),y=["children",""+F]):s.hasOwnProperty(P)&&F!=null&&P==="onScroll"&&yt("scroll",m)}switch(h){case"input":Er(m),ho(m,w,!0);break;case"textarea":Er(m),Yi(m);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(m.onclick=dp)}m=y,l.updateQueue=m,m!==null&&(l.flags|=4)}else{P=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Kc(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=P.createElement(h,{is:m.is}):(a=P.createElement(h),h==="select"&&(P=a,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):a=P.createElementNS(a,h),a[Ps]=l,a[xh]=m,hk(a,l,!1,!1),l.stateNode=a;e:{switch(P=Wl(h,m),h){case"dialog":yt("cancel",a),yt("close",a),y=m;break;case"iframe":case"object":case"embed":yt("load",a),y=m;break;case"video":case"audio":for(y=0;y<vh.length;y++)yt(vh[y],a);y=m;break;case"source":yt("error",a),y=m;break;case"img":case"image":case"link":yt("error",a),yt("load",a),y=m;break;case"details":yt("toggle",a),y=m;break;case"input":Bl(a,m),y=Qi(a,m),yt("invalid",a);break;case"option":y=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},y=ae({},m,{value:void 0}),yt("invalid",a);break;case"textarea":Hc(a,m),y=Wc(a,m),yt("invalid",a);break;default:y=m}Kr(h,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var z=F[w];w==="style"?ql(a,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Uf(a,z)):w==="children"?typeof z=="string"?(h!=="textarea"||z!=="")&&fo(a,z):typeof z=="number"&&fo(a,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&yt("scroll",a):z!=null&&j(a,w,z,P))}switch(h){case"input":Er(a),ho(a,m,!1);break;case"textarea":Er(a),Yi(a);break;case"option":m.value!=null&&a.setAttribute("value",""+$e(m.value));break;case"select":a.multiple=!!m.multiple,w=m.value,w!=null?Hr(a,!!m.multiple,w,!1):m.defaultValue!=null&&Hr(a,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=dp)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _n(l),null;case 6:if(a&&l.stateNode!=null)fk(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(h=Do(_h.current),Do(Ns.current),wp(l)){if(m=l.stateNode,h=l.memoizedProps,m[Ps]=l,(w=m.nodeValue!==h)&&(a=hr,a!==null))switch(a.tag){case 3:hp(m.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&hp(m.nodeValue,h,(a.mode&1)!==0)}w&&(l.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[Ps]=l,l.stateNode=m}return _n(l),null;case 13:if(vt(kt),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(bt&&dr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)gS(),vu(),l.flags|=98560,w=!1;else if(w=wp(l),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ps]=l}else vu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),w=!1}else Yr!==null&&(c0(Yr),Yr=null),w=!0;if(!w)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(kt.current&1)!==0?rn===0&&(rn=3):f0())),l.updateQueue!==null&&(l.flags|=4),_n(l),null);case 4:return Eu(),e0(a,l),a===null&&wh(l.stateNode.containerInfo),_n(l),null;case 10:return Cv(l.type._context),_n(l),null;case 17:return Kn(l.type)&&pp(),_n(l),null;case 19:if(vt(kt),w=l.memoizedState,w===null)return _n(l),null;if(m=(l.flags&128)!==0,P=w.rendering,P===null)if(m)Rh(w,!1);else{if(rn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(P=Tp(a),P!==null){for(l.flags|=128,Rh(w,!1),m=P.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=h,h=l.child;h!==null;)w=h,a=m,w.flags&=14680066,P=w.alternate,P===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,a=P.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return dt(kt,kt.current&1|2),l.child}a=a.sibling}w.tail!==null&&gt()>_u&&(l.flags|=128,m=!0,Rh(w,!1),l.lanes=4194304)}else{if(!m)if(a=Tp(P),a!==null){if(l.flags|=128,m=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Rh(w,!0),w.tail===null&&w.tailMode==="hidden"&&!P.alternate&&!bt)return _n(l),null}else 2*gt()-w.renderingStartTime>_u&&h!==1073741824&&(l.flags|=128,m=!0,Rh(w,!1),l.lanes=4194304);w.isBackwards?(P.sibling=l.child,l.child=P):(h=w.last,h!==null?h.sibling=P:l.child=P,w.last=P)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=gt(),l.sibling=null,h=kt.current,dt(kt,m?h&1|2:h&1),l):(_n(l),null);case 22:case 23:return d0(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(fr&1073741824)!==0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function gL(a,l){switch(Ev(l),l.tag){case 1:return Kn(l.type)&&pp(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Eu(),vt(Hn),vt(kn),jv(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Mv(l),null;case 13:if(vt(kt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));vu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return vt(kt),null;case 4:return Eu(),null;case 10:return Cv(l.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var Ap=!1,In=!1,yL=typeof WeakSet=="function"?WeakSet:Set,we=null;function ku(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Rt(a,l,m)}else h.current=null}function pk(a,l,h){try{h()}catch(m){Rt(a,l,m)}}var mk=!1;function vL(a,l){if(fv=di,a=HE(),iv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var y=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var P=0,F=-1,z=-1,Z=0,ie=0,oe=a,se=null;t:for(;;){for(var fe;oe!==h||y!==0&&oe.nodeType!==3||(F=P+y),oe!==w||m!==0&&oe.nodeType!==3||(z=P+m),oe.nodeType===3&&(P+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)se=oe,oe=fe;for(;;){if(oe===a)break t;if(se===h&&++Z===y&&(F=P),se===w&&++ie===m&&(z=P),(fe=oe.nextSibling)!==null)break;oe=se,se=oe.parentNode}oe=fe}h=F===-1||z===-1?null:{start:F,end:z}}else h=null}h=h||{start:0,end:0}}else h=null;for(pv={focusedElem:a,selectionRange:h},di=!1,we=l;we!==null;)if(l=we,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,we=a;else for(;we!==null;){l=we;try{var be=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Te=be.memoizedProps,Wt=be.memoizedState,X=l.stateNode,W=X.getSnapshotBeforeUpdate(l.elementType===l.type?Te:Jr(l.type,Te),Wt);X.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Rt(l,l.return,ue)}if(a=l.sibling,a!==null){a.return=l.return,we=a;break}we=l.return}return be=mk,mk=!1,be}function Dh(a,l,h){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&a)===a){var w=y.destroy;y.destroy=void 0,w!==void 0&&pk(l,h,w)}y=y.next}while(y!==m)}}function jp(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var m=h.create;h.destroy=m()}h=h.next}while(h!==l)}}function t0(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function gk(a){var l=a.alternate;l!==null&&(a.alternate=null,gk(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ps],delete l[xh],delete l[vv],delete l[eL],delete l[tL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function yk(a){return a.tag===5||a.tag===3||a.tag===4}function vk(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||yk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function n0(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=dp));else if(m!==4&&(a=a.child,a!==null))for(n0(a,l,h),a=a.sibling;a!==null;)n0(a,l,h),a=a.sibling}function r0(a,l,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(r0(a,l,h),a=a.sibling;a!==null;)r0(a,l,h),a=a.sibling}var gn=null,Zr=!1;function ba(a,l,h){for(h=h.child;h!==null;)wk(a,l,h),h=h.sibling}function wk(a,l,h){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(vo,h)}catch{}switch(h.tag){case 5:In||ku(h,l);case 6:var m=gn,y=Zr;gn=null,ba(a,l,h),gn=m,Zr=y,gn!==null&&(Zr?(a=gn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):gn.removeChild(h.stateNode));break;case 18:gn!==null&&(Zr?(a=gn,h=h.stateNode,a.nodeType===8?yv(a.parentNode,h):a.nodeType===1&&yv(a,h),ua(a)):yv(gn,h.stateNode));break;case 4:m=gn,y=Zr,gn=h.stateNode.containerInfo,Zr=!0,ba(a,l,h),gn=m,Zr=y;break;case 0:case 11:case 14:case 15:if(!In&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var w=y,P=w.destroy;w=w.tag,P!==void 0&&((w&2)!==0||(w&4)!==0)&&pk(h,l,P),y=y.next}while(y!==m)}ba(a,l,h);break;case 1:if(!In&&(ku(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(F){Rt(h,l,F)}ba(a,l,h);break;case 21:ba(a,l,h);break;case 22:h.mode&1?(In=(m=In)||h.memoizedState!==null,ba(a,l,h),In=m):ba(a,l,h);break;default:ba(a,l,h)}}function bk(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new yL),l.forEach(function(m){var y=IL.bind(null,a,m);h.has(m)||(h.add(m),m.then(y,y))})}}function es(a,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];try{var w=a,P=l,F=P;e:for(;F!==null;){switch(F.tag){case 5:gn=F.stateNode,Zr=!1;break e;case 3:gn=F.stateNode.containerInfo,Zr=!0;break e;case 4:gn=F.stateNode.containerInfo,Zr=!0;break e}F=F.return}if(gn===null)throw Error(n(160));wk(w,P,y),gn=null,Zr=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(Z){Rt(y,l,Z)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)xk(l,a),l=l.sibling}function xk(a,l){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(es(l,a),Ds(a),m&4){try{Dh(3,a,a.return),jp(3,a)}catch(Te){Rt(a,a.return,Te)}try{Dh(5,a,a.return)}catch(Te){Rt(a,a.return,Te)}}break;case 1:es(l,a),Ds(a),m&512&&h!==null&&ku(h,h.return);break;case 5:if(es(l,a),Ds(a),m&512&&h!==null&&ku(h,h.return),a.flags&32){var y=a.stateNode;try{fo(y,"")}catch(Te){Rt(a,a.return,Te)}}if(m&4&&(y=a.stateNode,y!=null)){var w=a.memoizedProps,P=h!==null?h.memoizedProps:w,F=a.type,z=a.updateQueue;if(a.updateQueue=null,z!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Xi(y,w),Wl(F,P);var Z=Wl(F,w);for(P=0;P<z.length;P+=2){var ie=z[P],oe=z[P+1];ie==="style"?ql(y,oe):ie==="dangerouslySetInnerHTML"?Uf(y,oe):ie==="children"?fo(y,oe):j(y,ie,oe,Z)}switch(F){case"input":si(y,w);break;case"textarea":Ff(y,w);break;case"select":var se=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var fe=w.value;fe!=null?Hr(y,!!w.multiple,fe,!1):se!==!!w.multiple&&(w.defaultValue!=null?Hr(y,!!w.multiple,w.defaultValue,!0):Hr(y,!!w.multiple,w.multiple?[]:"",!1))}y[xh]=w}catch(Te){Rt(a,a.return,Te)}}break;case 6:if(es(l,a),Ds(a),m&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,w=a.memoizedProps;try{y.nodeValue=w}catch(Te){Rt(a,a.return,Te)}}break;case 3:if(es(l,a),Ds(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{ua(l.containerInfo)}catch(Te){Rt(a,a.return,Te)}break;case 4:es(l,a),Ds(a);break;case 13:es(l,a),Ds(a),y=a.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(a0=gt())),m&4&&bk(a);break;case 22:if(ie=h!==null&&h.memoizedState!==null,a.mode&1?(In=(Z=In)||ie,es(l,a),In=Z):es(l,a),Ds(a),m&8192){if(Z=a.memoizedState!==null,(a.stateNode.isHidden=Z)&&!ie&&(a.mode&1)!==0)for(we=a,ie=a.child;ie!==null;){for(oe=we=ie;we!==null;){switch(se=we,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Dh(4,se,se.return);break;case 1:ku(se,se.return);var be=se.stateNode;if(typeof be.componentWillUnmount=="function"){m=se,h=se.return;try{l=m,be.props=l.memoizedProps,be.state=l.memoizedState,be.componentWillUnmount()}catch(Te){Rt(m,h,Te)}}break;case 5:ku(se,se.return);break;case 22:if(se.memoizedState!==null){kk(oe);continue}}fe!==null?(fe.return=se,we=fe):kk(oe)}ie=ie.sibling}e:for(ie=null,oe=a;;){if(oe.tag===5){if(ie===null){ie=oe;try{y=oe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=oe.stateNode,z=oe.memoizedProps.style,P=z!=null&&z.hasOwnProperty("display")?z.display:null,F.style.display=ea("display",P))}catch(Te){Rt(a,a.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Z?"":oe.memoizedProps}catch(Te){Rt(a,a.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===a)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===a)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===a)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:es(l,a),Ds(a),m&4&&bk(a);break;case 21:break;default:es(l,a),Ds(a)}}function Ds(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(yk(h)){var m=h;break e}h=h.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(fo(y,""),m.flags&=-33);var w=vk(a);r0(a,w,y);break;case 3:case 4:var P=m.stateNode.containerInfo,F=vk(a);n0(a,F,P);break;default:throw Error(n(161))}}catch(z){Rt(a,a.return,z)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function wL(a,l,h){we=a,Ek(a)}function Ek(a,l,h){for(var m=(a.mode&1)!==0;we!==null;){var y=we,w=y.child;if(y.tag===22&&m){var P=y.memoizedState!==null||Ap;if(!P){var F=y.alternate,z=F!==null&&F.memoizedState!==null||In;F=Ap;var Z=In;if(Ap=P,(In=z)&&!Z)for(we=y;we!==null;)P=we,z=P.child,P.tag===22&&P.memoizedState!==null?Tk(y):z!==null?(z.return=P,we=z):Tk(y);for(;w!==null;)we=w,Ek(w),w=w.sibling;we=y,Ap=F,In=Z}Sk(a)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,we=w):Sk(a)}}function Sk(a){for(;we!==null;){var l=we;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:In||jp(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!In)if(h===null)m.componentDidMount();else{var y=l.elementType===l.type?h.memoizedProps:Jr(l.type,h.memoizedProps);m.componentDidUpdate(y,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var w=l.updateQueue;w!==null&&SS(l,w,m);break;case 3:var P=l.updateQueue;if(P!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}SS(l,P,h)}break;case 5:var F=l.stateNode;if(h===null&&l.flags&4){h=F;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&h.focus();break;case"img":z.src&&(h.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Z=l.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&ua(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}In||l.flags&512&&t0(l)}catch(se){Rt(l,l.return,se)}}if(l===a){we=null;break}if(h=l.sibling,h!==null){h.return=l.return,we=h;break}we=l.return}}function kk(a){for(;we!==null;){var l=we;if(l===a){we=null;break}var h=l.sibling;if(h!==null){h.return=l.return,we=h;break}we=l.return}}function Tk(a){for(;we!==null;){var l=we;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{jp(4,l)}catch(z){Rt(l,h,z)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var y=l.return;try{m.componentDidMount()}catch(z){Rt(l,y,z)}}var w=l.return;try{t0(l)}catch(z){Rt(l,w,z)}break;case 5:var P=l.return;try{t0(l)}catch(z){Rt(l,P,z)}}}catch(z){Rt(l,l.return,z)}if(l===a){we=null;break}var F=l.sibling;if(F!==null){F.return=l.return,we=F;break}we=l.return}}var bL=Math.ceil,Op=V.ReactCurrentDispatcher,s0=V.ReactCurrentOwner,Nr=V.ReactCurrentBatchConfig,tt=0,cn=null,Yt=null,yn=0,fr=0,Tu=ma(0),rn=0,Mh=null,Ao=0,Lp=0,i0=0,Ah=null,Qn=null,a0=0,_u=1/0,xi=null,Fp=!1,o0=null,xa=null,Up=!1,Ea=null,Vp=0,jh=0,l0=null,zp=-1,Bp=0;function On(){return(tt&6)!==0?gt():zp!==-1?zp:zp=gt()}function Sa(a){return(a.mode&1)===0?1:(tt&2)!==0&&yn!==0?yn&-yn:rL.transition!==null?(Bp===0&&(Bp=nh()),Bp):(a=Qe,a!==0||(a=window.event,a=a===void 0?16:tu(a.type)),a)}function ts(a,l,h,m){if(50<jh)throw jh=0,l0=null,Error(n(185));Eo(a,h,m),((tt&2)===0||a!==cn)&&(a===cn&&((tt&2)===0&&(Lp|=h),rn===4&&ka(a,yn)),Xn(a,m),h===1&&tt===0&&(l.mode&1)===0&&(_u=gt()+500,gp&&ya()))}function Xn(a,l){var h=a.callbackNode;xo(a,l);var m=ui(a,a===cn?yn:0);if(m===0)h!==null&&Gl(h),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(h!=null&&Gl(h),l===1)a.tag===0?nL(Ik.bind(null,a)):hS(Ik.bind(null,a)),J4(function(){(tt&6)===0&&ya()}),h=null;else{switch(ws(m)){case 1:h=Ql;break;case 4:h=Zc;break;case 16:h=yo;break;case 536870912:h=Xl;break;default:h=yo}h=jk(h,_k.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function _k(a,l){if(zp=-1,Bp=0,(tt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Iu()&&a.callbackNode!==h)return null;var m=ui(a,a===cn?yn:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=$p(a,m);else{l=m;var y=tt;tt|=2;var w=Pk();(cn!==a||yn!==l)&&(xi=null,_u=gt()+500,Oo(a,l));do try{SL();break}catch(F){Ck(a,F)}while(!0);Iv(),Op.current=w,tt=y,Yt!==null?l=0:(cn=null,yn=0,l=rn)}if(l!==0){if(l===2&&(y=th(a),y!==0&&(m=y,l=u0(a,y))),l===1)throw h=Mh,Oo(a,0),ka(a,m),Xn(a,gt()),h;if(l===6)ka(a,m);else{if(y=a.current.alternate,(m&30)===0&&!xL(y)&&(l=$p(a,m),l===2&&(w=th(a),w!==0&&(m=w,l=u0(a,w))),l===1))throw h=Mh,Oo(a,0),ka(a,m),Xn(a,gt()),h;switch(a.finishedWork=y,a.finishedLanes=m,l){case 0:case 1:throw Error(n(345));case 2:Lo(a,Qn,xi);break;case 3:if(ka(a,m),(m&130023424)===m&&(l=a0+500-gt(),10<l)){if(ui(a,0)!==0)break;if(y=a.suspendedLanes,(y&m)!==m){On(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=gv(Lo.bind(null,a,Qn,xi),l);break}Lo(a,Qn,xi);break;case 4:if(ka(a,m),(m&4194240)===m)break;for(l=a.eventTimes,y=-1;0<m;){var P=31-ar(m);w=1<<P,P=l[P],P>y&&(y=P),m&=~w}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*bL(m/1960))-m,10<m){a.timeoutHandle=gv(Lo.bind(null,a,Qn,xi),m);break}Lo(a,Qn,xi);break;case 5:Lo(a,Qn,xi);break;default:throw Error(n(329))}}}return Xn(a,gt()),a.callbackNode===h?_k.bind(null,a):null}function u0(a,l){var h=Ah;return a.current.memoizedState.isDehydrated&&(Oo(a,l).flags|=256),a=$p(a,l),a!==2&&(l=Qn,Qn=h,l!==null&&c0(l)),a}function c0(a){Qn===null?Qn=a:Qn.push.apply(Qn,a)}function xL(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var y=h[m],w=y.getSnapshot;y=y.value;try{if(!Xr(w(),y))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ka(a,l){for(l&=~i0,l&=~Lp,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-ar(l),m=1<<h;a[h]=-1,l&=~m}}function Ik(a){if((tt&6)!==0)throw Error(n(327));Iu();var l=ui(a,0);if((l&1)===0)return Xn(a,gt()),null;var h=$p(a,l);if(a.tag!==0&&h===2){var m=th(a);m!==0&&(l=m,h=u0(a,m))}if(h===1)throw h=Mh,Oo(a,0),ka(a,l),Xn(a,gt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Lo(a,Qn,xi),Xn(a,gt()),null}function h0(a,l){var h=tt;tt|=1;try{return a(l)}finally{tt=h,tt===0&&(_u=gt()+500,gp&&ya())}}function jo(a){Ea!==null&&Ea.tag===0&&(tt&6)===0&&Iu();var l=tt;tt|=1;var h=Nr.transition,m=Qe;try{if(Nr.transition=null,Qe=1,a)return a()}finally{Qe=m,Nr.transition=h,tt=l,(tt&6)===0&&ya()}}function d0(){fr=Tu.current,vt(Tu)}function Oo(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,Y4(h)),Yt!==null)for(h=Yt.return;h!==null;){var m=h;switch(Ev(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&pp();break;case 3:Eu(),vt(Hn),vt(kn),jv();break;case 5:Mv(m);break;case 4:Eu();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:Cv(m.type._context);break;case 22:case 23:d0()}h=h.return}if(cn=a,Yt=a=Ta(a.current,null),yn=fr=l,rn=0,Mh=null,i0=Lp=Ao=0,Qn=Ah=null,Ro!==null){for(l=0;l<Ro.length;l++)if(h=Ro[l],m=h.interleaved,m!==null){h.interleaved=null;var y=m.next,w=h.pending;if(w!==null){var P=w.next;w.next=y,m.next=P}h.pending=m}Ro=null}return a}function Ck(a,l){do{var h=Yt;try{if(Iv(),_p.current=Np,Ip){for(var m=Tt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Ip=!1}if(Mo=0,un=nn=Tt=null,Ih=!1,Ch=0,s0.current=null,h===null||h.return===null){rn=1,Mh=l,Yt=null;break}e:{var w=a,P=h.return,F=h,z=l;if(l=yn,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Z=z,ie=F,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=JS(P);if(fe!==null){fe.flags&=-257,ZS(fe,P,F,w,l),fe.mode&1&&YS(w,Z,l),l=fe,z=Z;var be=l.updateQueue;if(be===null){var Te=new Set;Te.add(z),l.updateQueue=Te}else be.add(z);break e}else{if((l&1)===0){YS(w,Z,l),f0();break e}z=Error(n(426))}}else if(bt&&F.mode&1){var Wt=JS(P);if(Wt!==null){(Wt.flags&65536)===0&&(Wt.flags|=256),ZS(Wt,P,F,w,l),Tv(Su(z,F));break e}}w=z=Su(z,F),rn!==4&&(rn=2),Ah===null?Ah=[w]:Ah.push(w),w=P;do{switch(w.tag){case 3:w.flags|=65536,l&=-l,w.lanes|=l;var X=QS(w,z,l);ES(w,X);break e;case 1:F=z;var W=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(xa===null||!xa.has(J)))){w.flags|=65536,l&=-l,w.lanes|=l;var ue=XS(w,F,l);ES(w,ue);break e}}w=w.return}while(w!==null)}Rk(h)}catch(_e){l=_e,Yt===h&&h!==null&&(Yt=h=h.return);continue}break}while(!0)}function Pk(){var a=Op.current;return Op.current=Np,a===null?Np:a}function f0(){(rn===0||rn===3||rn===2)&&(rn=4),cn===null||(Ao&268435455)===0&&(Lp&268435455)===0||ka(cn,yn)}function $p(a,l){var h=tt;tt|=2;var m=Pk();(cn!==a||yn!==l)&&(xi=null,Oo(a,l));do try{EL();break}catch(y){Ck(a,y)}while(!0);if(Iv(),tt=h,Op.current=m,Yt!==null)throw Error(n(261));return cn=null,yn=0,rn}function EL(){for(;Yt!==null;)Nk(Yt)}function SL(){for(;Yt!==null&&!go();)Nk(Yt)}function Nk(a){var l=Ak(a.alternate,a,fr);a.memoizedProps=a.pendingProps,l===null?Rk(a):Yt=l,s0.current=null}function Rk(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=mL(h,l,fr),h!==null){Yt=h;return}}else{if(h=gL(h,l),h!==null){h.flags&=32767,Yt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{rn=6,Yt=null;return}}if(l=l.sibling,l!==null){Yt=l;return}Yt=l=a}while(l!==null);rn===0&&(rn=5)}function Lo(a,l,h){var m=Qe,y=Nr.transition;try{Nr.transition=null,Qe=1,kL(a,l,h,m)}finally{Nr.transition=y,Qe=m}return null}function kL(a,l,h,m){do Iu();while(Ea!==null);if((tt&6)!==0)throw Error(n(327));h=a.finishedWork;var y=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=h.lanes|h.childLanes;if(ev(a,w),a===cn&&(Yt=cn=null,yn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Up||(Up=!0,jk(yo,function(){return Iu(),null})),w=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||w){w=Nr.transition,Nr.transition=null;var P=Qe;Qe=1;var F=tt;tt|=4,s0.current=null,vL(a,h),xk(h,a),q4(pv),di=!!fv,pv=fv=null,a.current=h,wL(h),li(),tt=F,Qe=P,Nr.transition=w}else a.current=h;if(Up&&(Up=!1,Ea=a,Vp=y),w=a.pendingLanes,w===0&&(xa=null),Xf(h.stateNode),Xn(a,gt()),l!==null)for(m=a.onRecoverableError,h=0;h<l.length;h++)y=l[h],m(y.value,{componentStack:y.stack,digest:y.digest});if(Fp)throw Fp=!1,a=o0,o0=null,a;return(Vp&1)!==0&&a.tag!==0&&Iu(),w=a.pendingLanes,(w&1)!==0?a===l0?jh++:(jh=0,l0=a):jh=0,ya(),null}function Iu(){if(Ea!==null){var a=ws(Vp),l=Nr.transition,h=Qe;try{if(Nr.transition=null,Qe=16>a?16:a,Ea===null)var m=!1;else{if(a=Ea,Ea=null,Vp=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,we=a.current;we!==null;){var w=we,P=w.child;if((we.flags&16)!==0){var F=w.deletions;if(F!==null){for(var z=0;z<F.length;z++){var Z=F[z];for(we=Z;we!==null;){var ie=we;switch(ie.tag){case 0:case 11:case 15:Dh(8,ie,w)}var oe=ie.child;if(oe!==null)oe.return=ie,we=oe;else for(;we!==null;){ie=we;var se=ie.sibling,fe=ie.return;if(gk(ie),ie===Z){we=null;break}if(se!==null){se.return=fe,we=se;break}we=fe}}}var be=w.alternate;if(be!==null){var Te=be.child;if(Te!==null){be.child=null;do{var Wt=Te.sibling;Te.sibling=null,Te=Wt}while(Te!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&P!==null)P.return=w,we=P;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Dh(9,w,w.return)}var X=w.sibling;if(X!==null){X.return=w.return,we=X;break e}we=w.return}}var W=a.current;for(we=W;we!==null;){P=we;var J=P.child;if((P.subtreeFlags&2064)!==0&&J!==null)J.return=P,we=J;else e:for(P=W;we!==null;){if(F=we,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:jp(9,F)}}catch(_e){Rt(F,F.return,_e)}if(F===P){we=null;break e}var ue=F.sibling;if(ue!==null){ue.return=F.return,we=ue;break e}we=F.return}}if(tt=y,ya(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(vo,a)}catch{}m=!0}return m}finally{Qe=h,Nr.transition=l}}return!1}function Dk(a,l,h){l=Su(h,l),l=QS(a,l,1),a=wa(a,l,1),l=On(),a!==null&&(Eo(a,1,l),Xn(a,l))}function Rt(a,l,h){if(a.tag===3)Dk(a,a,h);else for(;l!==null;){if(l.tag===3){Dk(l,a,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xa===null||!xa.has(m))){a=Su(h,a),a=XS(l,a,1),l=wa(l,a,1),a=On(),l!==null&&(Eo(l,1,a),Xn(l,a));break}}l=l.return}}function TL(a,l,h){var m=a.pingCache;m!==null&&m.delete(l),l=On(),a.pingedLanes|=a.suspendedLanes&h,cn===a&&(yn&h)===h&&(rn===4||rn===3&&(yn&130023424)===yn&&500>gt()-a0?Oo(a,0):i0|=h),Xn(a,l)}function Mk(a,l){l===0&&((a.mode&1)===0?l=1:(l=aa,aa<<=1,(aa&130023424)===0&&(aa=4194304)));var h=On();a=vi(a,l),a!==null&&(Eo(a,l,h),Xn(a,h))}function _L(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),Mk(a,h)}function IL(a,l){var h=0;switch(a.tag){case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(l),Mk(a,h)}var Ak;Ak=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||Hn.current)Gn=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return Gn=!1,pL(a,l,h);Gn=(a.flags&131072)!==0}else Gn=!1,bt&&(l.flags&1048576)!==0&&dS(l,vp,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Mp(a,l),a=l.pendingProps;var y=mu(l,kn.current);xu(l,h),y=Fv(null,l,m,a,y,h);var w=Uv();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Kn(m)?(w=!0,mp(l)):w=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Rv(l),y.updater=Rp,l.stateNode=y,y._reactInternals=l,Wv(l,m,a,h),l=Qv(null,l,m,!0,w,h)):(l.tag=0,bt&&w&&xv(l),jn(null,l,y,h),l=l.child),l;case 16:m=l.elementType;e:{switch(Mp(a,l),a=l.pendingProps,y=m._init,m=y(m._payload),l.type=m,y=l.tag=PL(m),a=Jr(m,a),y){case 0:l=Gv(null,l,m,a,h);break e;case 1:l=ik(null,l,m,a,h);break e;case 11:l=ek(null,l,m,a,h);break e;case 14:l=tk(null,l,m,Jr(m.type,a),h);break e}throw Error(n(306,m,""))}return l;case 0:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Jr(m,y),Gv(a,l,m,y,h);case 1:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Jr(m,y),ik(a,l,m,y,h);case 3:e:{if(ak(l),a===null)throw Error(n(387));m=l.pendingProps,w=l.memoizedState,y=w.element,xS(a,l),kp(l,m,null,h);var P=l.memoizedState;if(m=P.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){y=Su(Error(n(423)),l),l=ok(a,l,m,h,y);break e}else if(m!==y){y=Su(Error(n(424)),l),l=ok(a,l,m,h,y);break e}else for(dr=pa(l.stateNode.containerInfo.firstChild),hr=l,bt=!0,Yr=null,h=wS(l,null,m,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(vu(),m===y){l=bi(a,l,h);break e}jn(a,l,m,h)}l=l.child}return l;case 5:return kS(l),a===null&&kv(l),m=l.type,y=l.pendingProps,w=a!==null?a.memoizedProps:null,P=y.children,mv(m,y)?P=null:w!==null&&mv(m,w)&&(l.flags|=32),sk(a,l),jn(a,l,P,h),l.child;case 6:return a===null&&kv(l),null;case 13:return lk(a,l,h);case 4:return Dv(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=wu(l,null,m,h):jn(a,l,m,h),l.child;case 11:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Jr(m,y),ek(a,l,m,y,h);case 7:return jn(a,l,l.pendingProps,h),l.child;case 8:return jn(a,l,l.pendingProps.children,h),l.child;case 12:return jn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(m=l.type._context,y=l.pendingProps,w=l.memoizedProps,P=y.value,dt(xp,m._currentValue),m._currentValue=P,w!==null)if(Xr(w.value,P)){if(w.children===y.children&&!Hn.current){l=bi(a,l,h);break e}}else for(w=l.child,w!==null&&(w.return=l);w!==null;){var F=w.dependencies;if(F!==null){P=w.child;for(var z=F.firstContext;z!==null;){if(z.context===m){if(w.tag===1){z=wi(-1,h&-h),z.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Z.pending=z}}w.lanes|=h,z=w.alternate,z!==null&&(z.lanes|=h),Pv(w.return,h,l),F.lanes|=h;break}z=z.next}}else if(w.tag===10)P=w.type===l.type?null:w.child;else if(w.tag===18){if(P=w.return,P===null)throw Error(n(341));P.lanes|=h,F=P.alternate,F!==null&&(F.lanes|=h),Pv(P,h,l),P=w.sibling}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===l){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}jn(a,l,y.children,h),l=l.child}return l;case 9:return y=l.type,m=l.pendingProps.children,xu(l,h),y=Cr(y),m=m(y),l.flags|=1,jn(a,l,m,h),l.child;case 14:return m=l.type,y=Jr(m,l.pendingProps),y=Jr(m.type,y),tk(a,l,m,y,h);case 15:return nk(a,l,l.type,l.pendingProps,h);case 17:return m=l.type,y=l.pendingProps,y=l.elementType===m?y:Jr(m,y),Mp(a,l),l.tag=1,Kn(m)?(a=!0,mp(l)):a=!1,xu(l,h),KS(l,m,y),Wv(l,m,y,h),Qv(null,l,m,!0,a,h);case 19:return ck(a,l,h);case 22:return rk(a,l,h)}throw Error(n(156,l.tag))};function jk(a,l){return Jc(a,l)}function CL(a,l,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(a,l,h,m){return new CL(a,l,h,m)}function p0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function PL(a){if(typeof a=="function")return p0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===$)return 11;if(a===De)return 14}return 2}function Ta(a,l){var h=a.alternate;return h===null?(h=Rr(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function qp(a,l,h,m,y,w){var P=2;if(m=a,typeof a=="function")p0(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case M:return Fo(h.children,y,w,l);case C:P=8,y|=8;break;case R:return a=Rr(12,h,l,y|2),a.elementType=R,a.lanes=w,a;case L:return a=Rr(13,h,l,y),a.elementType=L,a.lanes=w,a;case ke:return a=Rr(19,h,l,y),a.elementType=ke,a.lanes=w,a;case ve:return Wp(h,y,w,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:P=10;break e;case U:P=9;break e;case $:P=11;break e;case De:P=14;break e;case ye:P=16,m=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Rr(P,h,l,y),l.elementType=a,l.type=m,l.lanes=w,l}function Fo(a,l,h,m){return a=Rr(7,a,m,l),a.lanes=h,a}function Wp(a,l,h,m){return a=Rr(22,a,m,l),a.elementType=ve,a.lanes=h,a.stateNode={isHidden:!1},a}function m0(a,l,h){return a=Rr(6,a,null,l),a.lanes=h,a}function g0(a,l,h){return l=Rr(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function NL(a,l,h,m,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function y0(a,l,h,m,y,w,P,F,z){return a=new NL(a,l,h,F,z),l===1?(l=1,w===!0&&(l|=8)):l=0,w=Rr(3,null,null,l),a.current=w,w.stateNode=a,w.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(w),a}function RL(a,l,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:m==null?null:""+m,children:a,containerInfo:l,implementation:h}}function Ok(a){if(!a)return ga;a=a._reactInternals;e:{if(Gr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Kn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Kn(h))return uS(a,h,l)}return l}function Lk(a,l,h,m,y,w,P,F,z){return a=y0(h,m,!0,a,y,w,P,F,z),a.context=Ok(null),h=a.current,m=On(),y=Sa(h),w=wi(m,y),w.callback=l??null,wa(h,w,y),a.current.lanes=y,Eo(a,y,m),Xn(a,m),a}function Hp(a,l,h,m){var y=l.current,w=On(),P=Sa(y);return h=Ok(h),l.context===null?l.context=h:l.pendingContext=h,l=wi(w,P),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=wa(y,l,P),a!==null&&(ts(a,y,P,w),Sp(a,y,P)),P}function Kp(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Fk(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function v0(a,l){Fk(a,l),(a=a.alternate)&&Fk(a,l)}function DL(){return null}var Uk=typeof reportError=="function"?reportError:function(a){console.error(a)};function w0(a){this._internalRoot=a}Gp.prototype.render=w0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Hp(a,l,null,null)},Gp.prototype.unmount=w0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;jo(function(){Hp(null,a,null,null)}),l[pi]=null}};function Gp(a){this._internalRoot=a}Gp.prototype.unstable_scheduleHydration=function(a){if(a){var l=oh();a={blockedOn:null,target:a,priority:l};for(var h=0;h<or.length&&l!==0&&l<or[h].priority;h++);or.splice(h,0,a),h===0&&Zl(a)}};function b0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Qp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Vk(){}function ML(a,l,h,m,y){if(y){if(typeof m=="function"){var w=m;m=function(){var Z=Kp(P);w.call(Z)}}var P=Lk(l,m,a,0,null,!1,!1,"",Vk);return a._reactRootContainer=P,a[pi]=P.current,wh(a.nodeType===8?a.parentNode:a),jo(),P}for(;y=a.lastChild;)a.removeChild(y);if(typeof m=="function"){var F=m;m=function(){var Z=Kp(z);F.call(Z)}}var z=y0(a,0,!1,null,null,!1,!1,"",Vk);return a._reactRootContainer=z,a[pi]=z.current,wh(a.nodeType===8?a.parentNode:a),jo(function(){Hp(l,z,h,m)}),z}function Xp(a,l,h,m,y){var w=h._reactRootContainer;if(w){var P=w;if(typeof y=="function"){var F=y;y=function(){var z=Kp(P);F.call(z)}}Hp(l,P,a,y)}else P=ML(h,l,a,y,m);return Kp(P)}ih=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=it(l.pendingLanes);h!==0&&(sh(l,h|1),Xn(l,gt()),(tt&6)===0&&(_u=gt()+500,ya()))}break;case 13:jo(function(){var m=vi(a,1);if(m!==null){var y=On();ts(m,a,1,y)}}),v0(a,1)}},Yl=function(a){if(a.tag===13){var l=vi(a,134217728);if(l!==null){var h=On();ts(l,a,134217728,h)}v0(a,134217728)}},ah=function(a){if(a.tag===13){var l=Sa(a),h=vi(a,l);if(h!==null){var m=On();ts(h,a,l,m)}v0(a,l)}},oh=function(){return Qe},lh=function(a,l){var h=Qe;try{return Qe=a,l()}finally{Qe=h}},ii=function(a,l,h){switch(l){case"input":if(si(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var m=h[l];if(m!==a&&m.form===a.form){var y=fp(m);if(!y)throw Error(n(90));Sr(m),si(m,y)}}}break;case"textarea":Ff(a,h);break;case"select":l=h.value,l!=null&&Hr(a,!!h.multiple,l,!1)}},zf=h0,Bf=jo;var AL={usingClientEntryPoint:!1,Events:[Eh,fu,fp,na,ra,h0]},Oh={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jL={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Qf(a),a===null?null:a.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||DL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{vo=Yp.inject(jL),ir=Yp}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AL,Yn.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(l))throw Error(n(200));return RL(a,l,null,h)},Yn.createRoot=function(a,l){if(!b0(a))throw Error(n(299));var h=!1,m="",y=Uk;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=y0(a,1,!1,null,null,h,!1,m,y),a[pi]=l.current,wh(a.nodeType===8?a.parentNode:a),new w0(l)},Yn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Qf(l),a=a===null?null:a.stateNode,a},Yn.flushSync=function(a){return jo(a)},Yn.hydrate=function(a,l,h){if(!Qp(l))throw Error(n(200));return Xp(null,a,l,!0,h)},Yn.hydrateRoot=function(a,l,h){if(!b0(a))throw Error(n(405));var m=h!=null&&h.hydratedSources||null,y=!1,w="",P=Uk;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),l=Lk(l,null,a,1,h??null,y,!1,w,P),a[pi]=l.current,wh(a),m)for(a=0;a<m.length;a++)h=m[a],y=h._getVersion,y=y(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,y]:l.mutableSourceEagerHydrationData.push(h,y);return new Gp(l)},Yn.render=function(a,l,h){if(!Qp(l))throw Error(n(200));return Xp(null,a,l,!1,h)},Yn.unmountComponentAtNode=function(a){if(!Qp(a))throw Error(n(40));return a._reactRootContainer?(jo(function(){Xp(null,null,a,!1,function(){a._reactRootContainer=null,a[pi]=null})}),!0):!1},Yn.unstable_batchedUpdates=h0,Yn.unstable_renderSubtreeIntoContainer=function(a,l,h,m){if(!Qp(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Xp(a,l,h,!1,m)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var nT;function Z2(){if(nT)return x0.exports;nT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),x0.exports=YL(),x0.exports}var rT;function JL(){if(rT)return Jp;rT=1;var t=Z2();return Jp.createRoot=t.createRoot,Jp.hydrateRoot=t.hydrateRoot,Jp}var ZL=JL();const e3=ax(ZL),t3="modulepreload",n3=function(t){return"/"+t},sT={},Bt=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=i(e.map(c=>{if(c=n3(c),c in sT)return;sT[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":t3,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((v,S)=>{g.addEventListener("load",v),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};function iT({size:t="md",variant:e="circle",className:n=""}){const r={xs:{wrapper:"w-6 h-6",img:"w-5 h-5"},sm:{wrapper:"w-8 h-8",img:"w-6 h-6"},md:{wrapper:"w-12 h-12",img:"w-10 h-10"},lg:{wrapper:"w-20 h-20",img:"w-16 h-16"},xl:{wrapper:"w-32 h-32",img:"w-24 h-24"}},s=r[t]||r.md;return x.jsx("div",{className:`${e==="circle"?"bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full shadow-lg overflow-hidden flex items-center justify-center":""} ${s.wrapper} ${n}`.trim(),children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:`${s.img} object-contain ${e==="circle"?"transform -rotate-12":""}`,loading:"lazy"})})}const r3=()=>{};var aT={};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},s3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},tP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let v=(u&15)<<2|d>>6,S=d&63;c||(S=64,o||(v=64)),r.push(n[p],n[g],n[v],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||c==null)throw new i3;const d=i<<2|o>>4;if(r.push(d),u!==64){const p=o<<4&240|u>>2;if(r.push(p),c!==64){const g=u<<6&192|c;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a3=function(t){const e=eP(t);return tP.encodeByteArray(e,!0)},sg=function(t){return a3(t).replace(/\./g,"")},nP=function(t){try{return tP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const o3=()=>rP().__FIREBASE_DEFAULTS__,l3=()=>{if(typeof process>"u"||typeof aT>"u")return;const t=aT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nP(t[1]);return e&&JSON.parse(e)},Yg=()=>{try{return r3()||o3()||l3()||u3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sP=t=>{var e,n;return(n=(e=Yg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},iP=t=>{const e=sP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aP=()=>{var t;return(t=Yg())==null?void 0:t.config},oP=t=>{var e;return(e=Yg())==null?void 0:e[`_${t}`]};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class c3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ux(t){return(await fetch(t,{credentials:"include"})).ok}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sg(JSON.stringify(n)),sg(JSON.stringify(o)),""].join(".")}const gd={};function h3(){const t={prod:[],emulator:[]};for(const e of Object.keys(gd))gd[e]?t.emulator.push(e):t.prod.push(e);return t}function d3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oT=!1;function cx(t,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||gd[t]===e||gd[t]||oT)return;gd[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=h3().prod.length>0;function i(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{oT=!0,i()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=d3(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),T=document.getElementById(I)||document.createElement("a"),_=n("preprendIcon"),N=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const D=g.element;o(D),d(T,I);const j=c();u(N,_),D.append(N,S,T,j),document.body.appendChild(D)}s?(S.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function uP(){var t;const e=(t=Yg())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g3(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cP(){return!uP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hP(){return!uP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Jg(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function dP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const y3="FirebaseError";class Wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y3,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?v3(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Wr(s,u,r)}}function v3(t,e){return t.replace(w3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w3=/\{\$([^}]+)}/g;function b3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(lT(i)&&lT(o)){if(!Xa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function od(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ld(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function x3(t,e){const n=new E3(t,e);return n.subscribe.bind(n)}class E3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=E0),s.error===void 0&&(s.error=E0),s.complete===void 0&&(s.complete=E0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function E0(){}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const k3=1e3,T3=2,_3=14400*1e3,I3=.5;function uT(t,e=k3,n=T3){const r=e*Math.pow(n,t),s=Math.round(I3*r*(Math.random()-.5)*2);return Math.min(_3,r+s)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pt(t){return t&&t._delegate?t._delegate:t}class qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Xo="[DEFAULT]";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N3(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P3(t){return t===Xo?void 0:t}function N3(t){return t.instantiationMode==="EAGER"}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class R3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const D3={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},M3=Ke.INFO,A3={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},j3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=A3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=M3,this._logHandler=j3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const O3=(t,e)=>e.some(n=>t instanceof n);let cT,hT;function L3(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F3(){return hT||(hT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fP=new WeakMap,Dw=new WeakMap,pP=new WeakMap,S0=new WeakMap,fx=new WeakMap;function U3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qa(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fP.set(n,t)}).catch(()=>{}),fx.set(e,t),e}function V3(t){if(Dw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Dw.set(t,e)}let Mw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z3(t){Mw=t(Mw)}function B3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(k0(this),e,...n);return pP.set(r,e.sort?e.sort():[e]),qa(r)}:F3().includes(t)?function(...e){return t.apply(k0(this),e),qa(fP.get(this))}:function(...e){return qa(t.apply(k0(this),e))}}function $3(t){return typeof t=="function"?B3(t):(t instanceof IDBTransaction&&V3(t),O3(t,L3())?new Proxy(t,Mw):t)}function qa(t){if(t instanceof IDBRequest)return U3(t);if(S0.has(t))return S0.get(t);const e=$3(t);return e!==t&&(S0.set(t,e),fx.set(e,t)),e}const k0=t=>fx.get(t);function mP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=qa(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qa(o.result),c.oldVersion,c.newVersion,qa(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const q3=["get","getKey","getAll","getAllKeys","count"],W3=["put","add","delete","clear"],T0=new Map;function dT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(T0.get(e))return T0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=W3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q3.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),s&&c.done]))[0]};return T0.set(e,i),i}z3(t=>({...t,get:(e,n,r)=>dT(e,n)||t.get(e,n,r),has:(e,n)=>!!dT(e,n)||t.has(e,n)}));/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class H3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(K3(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function K3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Aw="@firebase/app",fT="0.14.5";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Mi=new Zg("@firebase/app"),G3="@firebase/app-compat",Q3="@firebase/analytics-compat",X3="@firebase/analytics",Y3="@firebase/app-check-compat",J3="@firebase/app-check",Z3="@firebase/auth",e5="@firebase/auth-compat",t5="@firebase/database",n5="@firebase/data-connect",r5="@firebase/database-compat",s5="@firebase/functions",i5="@firebase/functions-compat",a5="@firebase/installations",o5="@firebase/installations-compat",l5="@firebase/messaging",u5="@firebase/messaging-compat",c5="@firebase/performance",h5="@firebase/performance-compat",d5="@firebase/remote-config",f5="@firebase/remote-config-compat",p5="@firebase/storage",m5="@firebase/storage-compat",g5="@firebase/firestore",y5="@firebase/ai",v5="@firebase/firestore-compat",w5="firebase",b5="12.5.0";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jw="[DEFAULT]",x5={[Aw]:"fire-core",[G3]:"fire-core-compat",[X3]:"fire-analytics",[Q3]:"fire-analytics-compat",[J3]:"fire-app-check",[Y3]:"fire-app-check-compat",[Z3]:"fire-auth",[e5]:"fire-auth-compat",[t5]:"fire-rtdb",[n5]:"fire-data-connect",[r5]:"fire-rtdb-compat",[s5]:"fire-fn",[i5]:"fire-fn-compat",[a5]:"fire-iid",[o5]:"fire-iid-compat",[l5]:"fire-fcm",[u5]:"fire-fcm-compat",[c5]:"fire-perf",[h5]:"fire-perf-compat",[d5]:"fire-rc",[f5]:"fire-rc-compat",[p5]:"fire-gcs",[m5]:"fire-gcs-compat",[g5]:"fire-fst",[v5]:"fire-fst-compat",[y5]:"fire-vertex","fire-js":"fire-js",[w5]:"fire-js-all"};/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ig=new Map,E5=new Map,Ow=new Map;function pT(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(Ow.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Ow.set(e,t);for(const n of ig.values())pT(n,t);for(const n of E5.values())pT(n,t);return!0}function ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t==null?!1:t.settings!==void 0}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const S5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new Al("app","Firebase",S5);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class k5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jl=b5;function gP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Wa.create("bad-app-name",{appName:String(s)});if(n||(n=aP()),!n)throw Wa.create("no-options");const i=ig.get(s);if(i){if(Xa(n,i.options)&&Xa(r,i.config))return i;throw Wa.create("duplicate-app",{appName:s})}const o=new R3(s);for(const c of Ow.values())o.addComponent(c);const u=new k5(n,r,o);return ig.set(s,u),u}function ey(t=jw){const e=ig.get(t);if(!e&&t===jw&&aP())return gP();if(!e)throw Wa.create("no-app",{appName:t});return e}function rr(t,e,n){let r=x5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(o.join(" "));return}os(new qr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const T5="firebase-heartbeat-database",_5=1,Dd="firebase-heartbeat-store";let _0=null;function yP(){return _0||(_0=mP(T5,_5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wa.create("idb-open",{originalErrorMessage:t.message})})),_0}async function I5(t){try{const e=(await yP()).transaction(Dd),n=await e.objectStore(Dd).get(vP(t));return await e.done,n}catch(e){if(e instanceof Wr)Mi.warn(e.message);else{const n=Wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function mT(t,e){try{const n=(await yP()).transaction(Dd,"readwrite");await n.objectStore(Dd).put(e,vP(t)),await n.done}catch(n){if(n instanceof Wr)Mi.warn(n.message);else{const r=Wa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function vP(t){return`${t.name}!${t.options.appId}`}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C5=1024,P5=30;class N5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>P5){const i=M5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gT(),{heartbeatsToSend:r,unsentEntries:s}=R5(this._heartbeatsCache.heartbeats),i=sg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mi.warn(n),""}}}function gT(){return new Date().toISOString().substring(0,10)}function R5(t,e=C5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),yT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jg()?dx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await I5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return mT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return mT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function yT(t){return sg(JSON.stringify({version:2,heartbeats:t})).length}function M5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function A5(t){os(new qr("platform-logger",e=>new H3(e),"PRIVATE")),os(new qr("heartbeat",e=>new N5(e),"PRIVATE")),rr(Aw,fT,t),rr(Aw,fT,"esm2020"),rr("fire-js","")}A5("");function wP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j5=wP,bP=new Al("auth","Firebase",wP());/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ag=new Zg("@firebase/auth");function O5(t,...e){ag.logLevel<=Ke.WARN&&ag.warn(`Auth (${jl}): ${t}`,...e)}function Im(t,...e){ag.logLevel<=Ke.ERROR&&ag.error(`Auth (${jl}): ${t}`,...e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ls(t,...e){throw px(t,...e)}function Vs(t,...e){return px(t,...e)}function xP(t,e,n){const r={...j5(),[e]:n};return new Al("auth","Firebase",r).create(e,{appName:t.name})}function Ri(t){return xP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function px(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bP.create(t,...e)}function je(t,e,...n){if(!t)throw px(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Im(e),new Error(e)}function Ai(t,e){t||Ii(e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Lw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function L5(){return vT()==="http:"||vT()==="https:"}function vT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L5()||hx()||"connection"in navigator)?navigator.onLine:!0}function U5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=f3()||m3()}get(){return F5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mx(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class EP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const V5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B5=new cf(3e4,6e4);function $i(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qi(t,e,n,r,s={}){return SP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const u=uf({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return p3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(d.credentials="include"),EP.fetch()(await kP(t,t.config.apiHost,n,u),d)})}async function SP(t,e,n){t._canInitEmulator=!1;const r={...V5,...e};try{const s=new q5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Zp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Zp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Zp(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xP(t,p,d);ls(t,p)}}catch(s){if(s instanceof Wr)throw s;ls(t,"network-request-failed",{message:String(s)})}}async function hf(t,e,n,r,s={}){const i=await qi(t,e,n,r,s);return"mfaPendingCredential"in i&&ls(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function kP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?mx(t.config,s):`${t.config.apiScheme}://${s}`;return z5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function $5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),B5.get())})}}function Zp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vs(t,e,r);return s.customData._tokenResponse=n,s}function wT(t){return t!==void 0&&t.enterprise!==void 0}class W5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H5(t,e){return qi(t,"GET","/v2/recaptchaConfig",$i(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function K5(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function og(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G5(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),s=gx(r);je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yd(I0(s.auth_time)),issuedAtTime:yd(I0(s.iat)),expirationTime:yd(I0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function I0(t){return Number(t)*1e3}function gx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Im("JWT malformed, contained fewer than 3 sections"),null;try{const s=nP(n);return s?JSON.parse(s):(Im("Failed to decode base64 JWT payload"),null)}catch(s){return Im("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bT(t){const e=gx(t);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Md(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wr&&Q5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class X5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yd(this.lastLoginAt),this.creationTime=yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function lg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Md(t,og(n,{idToken:r}));je(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=(e=i.providerUserInfo)!=null&&e.length?TP(i.providerUserInfo):[],u=J5(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(u!=null&&u.length),p=c?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Fw(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function Y5(t){const e=Pt(t);await lg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J5(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function TP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Z5(t,e){const n=await SP(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await kP(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(c.credentials="include"),EP.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e6(t,e){return qi(t,"POST","/v2/accounts:revokeToken",$i(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=bT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Z5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ic;return r&&(je(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(je(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(je(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ic,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ia(t,e){je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new X5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Md(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G5(this,e)}reload(){return Y5(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await Md(this,K5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:S,providerData:I,stsTokenManager:T}=n;je(g&&T,e,"internal-error");const _=ic.fromJSON(this.name,T);je(typeof g=="string",e,"internal-error"),Ia(r,e.name),Ia(s,e.name),je(typeof v=="boolean",e,"internal-error"),je(typeof S=="boolean",e,"internal-error"),Ia(i,e.name),Ia(o,e.name),Ia(u,e.name),Ia(c,e.name),Ia(d,e.name),Ia(p,e.name);const N=new is({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:S,photoURL:o,phoneNumber:i,tenantId:u,stsTokenManager:_,createdAt:d,lastLoginAt:p});return I&&Array.isArray(I)&&(N.providerData=I.map(D=>({...D}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new ic;s.updateFromServerResponse(n);const i=new is({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];je(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?TP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),u=new ic;u.updateFromIdToken(r);const c=new is({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Fw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xT=new Map;function Ci(t){Ai(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _P{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_P.type="NONE";const ET=_P;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Cm(t,e,n){return`firebase:${t}:${e}:${n}`}class ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await og(this.auth,{idToken:e}).catch(()=>{});return n?is._fromGetAccountInfoResponse(this.auth,n,e):null}return is._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ac(Ci(ET),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ci(ET);const o=Cm(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const p=await d._get(o);if(p){let g;if(typeof p=="string"){const v=await og(e,{idToken:p}).catch(()=>{});if(!v)break;g=await is._fromGetAccountInfoResponse(e,v,p)}else g=is._fromJSON(e,p);d!==i&&(u=g),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ac(i,e,r):(i=c[0],u&&await i._set(o,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ac(i,e,r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ST(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DP(e))return"Blackberry";if(MP(e))return"Webos";if(CP(e))return"Safari";if((e.includes("chrome/")||PP(e))&&!e.includes("edge/"))return"Chrome";if(RP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IP(t=on()){return/firefox\//i.test(t)}function CP(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PP(t=on()){return/crios\//i.test(t)}function NP(t=on()){return/iemobile/i.test(t)}function RP(t=on()){return/android/i.test(t)}function DP(t=on()){return/blackberry/i.test(t)}function MP(t=on()){return/webos/i.test(t)}function yx(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function t6(t=on()){var e;return yx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function n6(){return g3()&&document.documentMode===10}function AP(t=on()){return yx(t)||RP(t)||MP(t)||DP(t)||/windows phone/i.test(t)||NP(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jP(t,e=[]){let n;switch(t){case"Browser":n=ST(on());break;case"Worker":n=`${ST(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,u)=>{try{const c=e(i);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function s6(t,e={}){return qi(t,"GET","/v2/passwordPolicy",$i(t,e))}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const i6=6;class a6{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??i6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class o6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kT(this),this.idTokenSubscription=new kT(this),this.beforeStateQueue=new r6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await og(this,{idToken:e}),r=await is._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)==null?void 0:n._redirectEventId,u=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c!=null&&c.user&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Ri(this));const n=e?Pt(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s6(this),n=new a6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await ac.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return n!=null&&n.error&&O5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oo(t){return Pt(t)}let kT=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=x3(e=>this.observer=e)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l6(t){ty=t}function OP(t){return ty.loadJS(t)}function u6(){return ty.recaptchaEnterpriseScript}function c6(){return ty.gapiScript}function h6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class d6{constructor(){this.enterprise=new f6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class f6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const p6="recaptcha-enterprise",LP="NO_RECAPTCHA";class m6{constructor(e){this.type=p6,this.auth=oo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{H5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new W5(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{u(c)})})}function s(i,o,u){const c=window.grecaptcha;wT(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(LP)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d6().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(u=>{if(!n&&wT(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=u6();c.length!==0&&(c+=u),OP(c).then(()=>{s(u,i,o)}).catch(d=>{o(d)})}}).catch(u=>{o(u)})})}}async function TT(t,e,n,r=!1,s=!1){const i=new m6(t);let o;if(s)o=LP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ug(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await TT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await TT(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function g6(t,e){const n=ao(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Xa(s,e??{}))return r;ls(r,"already-initialized")}return n.initialize({options:e})}function y6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function v6(t,e,n){const r=oo(t);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=FP(e),{host:o,port:u}=w6(e),c=u===null?"":`:${u}`,d={url:`${i}//${o}${c}/`},p=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(Xa(d,r.config.emulator)&&Xa(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Ml(o)?(ux(`${i}//${o}${c}`),cx("Auth",!0)):b6()}function FP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w6(t){const e=FP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_T(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_T(o)}}}function _T(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function b6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function x6(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function E6(t,e){return hf(t,"POST","/v1/accounts:signInWithPassword",$i(t,e))}async function S6(t,e){return qi(t,"POST","/v1/accounts:sendOobCode",$i(t,e))}async function k6(t,e){return S6(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function T6(t,e){return hf(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}async function _6(t,e){return hf(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ad extends vx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&n!=null&&n.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,n,"signInWithPassword",E6);case"emailLink":return T6(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,r,"signUpPassword",x6);case"emailLink":return _6(e,{idToken:n,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function oc(t,e){return hf(t,"POST","/v1/accounts:signInWithIdp",$i(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const I6="http://localhost";class vl extends vx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new vl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oc(e,n)}buildRequest(){const e={requestUri:I6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function C6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P6(t){const e=od(ld(t)).link,n=e?od(ld(e)).deep_link_id:null,r=od(ld(t)).deep_link_id;return(r?od(ld(r)).link:null)||r||n||e||t}class wx{constructor(e){const n=od(ld(e)),r=n.apiKey??null,s=n.oobCode??null,i=C6(n.mode??null);je(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=P6(e);try{return new wx(n)}catch{return null}}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wx.parseLink(n);return je(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class UP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class df extends UP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fa extends df{constructor(){super("facebook.com")}static credential(e){return vl._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fa.credential(e.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ua extends df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ua.credential(n,r)}catch{return null}}}Ua.GOOGLE_SIGN_IN_METHOD="google.com";Ua.PROVIDER_ID="google.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Va extends df{constructor(){super("github.com")}static credential(e){return vl._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class za extends df{constructor(){super("twitter.com")}static credential(e,n){return vl._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return za.credential(n,r)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function N6(t,e){return hf(t,"POST","/v1/accounts:signUp",$i(t,e))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await is._fromIdTokenResponse(e,r,s),o=IT(r);return new wl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=IT(r);return new wl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function IT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class cg extends Wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new cg(e,n,r,s)}}function VP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cg._fromErrorAndOperation(t,s,e,r):s})}async function R6(t,e,n=!1){const r=await Md(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wl._forOperation(t,"link",r)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function D6(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(Ri(r));const s="reauthenticate";try{const i=await Md(t,VP(r,s,e,t),n);je(i.idToken,r,"internal-error");const o=gx(i.idToken);je(o,r,"internal-error");const{sub:u}=o;return je(t.uid===u,r,"user-mismatch"),wl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ls(r,"user-mismatch"),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function zP(t,e,n=!1){if(yr(t.app))return Promise.reject(Ri(t));const r="signIn",s=await VP(t,r,e),i=await wl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function M6(t,e){return zP(oo(t),e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function BP(t){const e=oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A6(t,e,n){const r=oo(t);await ug(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",k6)}async function j6(t,e,n){if(yr(t.app))return Promise.reject(Ri(t));const r=oo(t),s=await ug(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N6).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&BP(t),o}),i=await wl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function O6(t,e,n){return yr(t.app)?Promise.reject(Ri(t)):M6(Pt(t),Nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BP(t),r})}function L6(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function F6(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function U6(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function V6(t){return Pt(t).signOut()}const hg="__sak";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $P{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hg,"1"),this.storage.removeItem(hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z6=1e3,B6=10;class qP extends $P{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);n6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,B6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qP.type="LOCAL";const $6=qP;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WP extends $P{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WP.type="SESSION";const HP=WP;/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function q6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ny(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(o).map(async d=>d(n.origin,i)),c=await q6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,c)=>{const d=bx("",20);s.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(v.data.response);break;default:clearTimeout(p),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zs(){return window}function H6(t){zs().location.href=t}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function KP(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function K6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Q6(){return KP()?self:null}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GP="firebaseLocalStorageDb",X6=1,dg="firebaseLocalStorage",QP="fbase_key";class ff{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ry(t,e){return t.transaction([dg],e?"readwrite":"readonly").objectStore(dg)}function Y6(){const t=indexedDB.deleteDatabase(GP);return new ff(t).toPromise()}function Uw(){const t=indexedDB.open(GP,X6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dg,{keyPath:QP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dg)?e(r):(r.close(),await Y6(),e(await Uw()))})})}async function CT(t,e,n){const r=ry(t,!0).put({[QP]:e,value:n});return new ff(r).toPromise()}async function J6(t,e){const n=ry(t,!1).get(e),r=await new ff(n).toPromise();return r===void 0?null:r.value}function PT(t,e){const n=ry(t,!0).delete(e);return new ff(n).toPromise()}const Z6=800,eF=3;class XP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(Q6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K6(),!this.activeServiceWorker)return;this.sender=new W6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(e=r[0])!=null&&e.fulfilled&&(n=r[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uw();return await CT(e,hg,"1"),await PT(e,hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ry(s,!1).getAll();return new ff(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XP.type="LOCAL";const tF=XP;new cf(3e4,6e4);/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function nF(t,e){return e?Ci(e):(je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class xx extends vx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rF(t){return zP(t.auth,new xx(t),t.bypassAuthState)}function sF(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),D6(n,new xx(t),t.bypassAuthState)}async function iF(t){const{auth:e,user:n}=t;return je(n,e,"internal-error"),R6(n,new xx(t),t.bypassAuthState)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rF;case"linkViaPopup":case"linkViaRedirect":return iF;case"reauthViaPopup":case"reauthViaRedirect":return sF;default:ls(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aF=new cf(2e3,1e4);class Zu extends YP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zu.currentPopupAction&&Zu.currentPopupAction.cancel(),Zu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=bx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aF.get())};e()}}Zu.currentPopupAction=null;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const oF="pendingRedirect",Pm=new Map;class lF extends YP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pm.get(this.auth._key());if(!e){try{const n=await uF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(n){e=()=>Promise.reject(n)}Pm.set(this.auth._key(),e)}return this.bypassAuthState||Pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uF(t,e){const n=dF(e),r=hF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cF(t,e){Pm.set(t._key(),e)}function hF(t){return Ci(t._redirectPersistence)}function dF(t){return Cm(oF,t.config.apiKey,t.name)}async function fF(t,e,n=!1){if(yr(t.app))return Promise.reject(Ri(t));const r=oo(t),s=nF(r,e),i=await new lF(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pF=600*1e3;class mF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pF&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JP(t);default:return!1}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function yF(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wF=/^https?/;async function bF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yF(t);for(const n of e)try{if(xF(n))return}catch{}ls(t,"unauthorized-domain")}function xF(t){const e=Lw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!wF.test(n))return!1;if(vF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const EF=new cf(3e4,6e4);function RT(){const t=zs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SF(t){return new Promise((e,n)=>{var r,s,i;function o(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),n(Vs(t,"network-request-failed"))},timeout:EF.get()})}if((s=(r=zs().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((i=zs().gapi)!=null&&i.load)o();else{const u=h6("iframefcb");return zs()[u]=()=>{gapi.load?o():n(Vs(t,"network-request-failed"))},OP(`${c6()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Nm=null,e})}let Nm=null;function kF(t){return Nm=Nm||SF(t),Nm}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const TF=new cf(5e3,15e3),_F="__/auth/iframe",IF="emulator/auth/iframe",CF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NF(t){const e=t.config;je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?mx(e,IF):`https://${t.config.authDomain}/${_F}`,r={apiKey:e.apiKey,appName:t.name,v:jl},s=PF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${uf(r).slice(1)}`}async function RF(t){const e=await kF(t),n=zs().gapi;return je(n,t,"internal-error"),e.open({where:document.body,url:NF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Vs(t,"network-request-failed"),u=zs().setTimeout(()=>{i(o)},TF.get());function c(){zs().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const DF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MF=500,AF=600,jF="_blank",OF="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LF(t,e,n,r=MF,s=AF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...DF,width:r.toString(),height:s.toString(),top:i,left:o},d=on().toLowerCase();n&&(u=PP(d)?jF:n),IP(d)&&(e=e||OF,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[S,I])=>`${v}${S}=${I},`,"");if(t6(d)&&u!=="_self")return FF(e||"",u),new DT(null);const g=window.open(e||"",u,p);je(g,t,"popup-blocked");try{g.focus()}catch{}return new DT(g)}function FF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const UF="__/auth/handler",VF="emulator/auth/handler",zF=encodeURIComponent("fac");async function MT(t,e,n,r,s,i){je(t.config.authDomain,t,"auth-domain-config-required"),je(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jl,eventId:s};if(e instanceof UP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof df){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${zF}=${encodeURIComponent(c)}`:"";return`${BF(t)}?${uf(u).slice(1)}${d}`}function BF({config:t}){return t.emulator?mx(t,VF):`https://${t.authDomain}/${UF}`}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C0="webStorageSupport";class $F{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HP,this._completeRedirectFn=fF,this._overrideRedirectResult=cF}async _openPopup(e,n,r,s){var i;Ai((i=this.eventManagers[e._key()])==null?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await MT(e,n,r,Lw(),s);return LF(e,o,bx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await MT(e,n,r,Lw(),s);return H6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ai(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RF(e),r=new mF(e);return n.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(C0,{type:C0},r=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s[C0];i!==void 0&&n(!!i),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AP()||CP()||yx()}}const qF=$F;var AT="@firebase/auth",jT="1.11.1";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function HF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KF(t){os(new qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jP(t)},d=new o6(r,s,i,c);return y6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),os(new qr("auth-internal",e=>{const n=oo(e.getProvider("auth").getImmediate());return(r=>new WF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(AT,jT,HF(t)),rr(AT,jT,"esm2020")}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const GF=300,QF=oP("authIdTokenMaxAge")||GF;let OT=null;const XF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QF)return;const s=n==null?void 0:n.token;OT!==s&&(OT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function sy(t=ey()){const e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();const n=g6(t,{popupRedirectResolver:qF,persistence:[tF,$6,HP]}),r=oP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=XF(i.toString());F6(n,o,()=>o(n.currentUser)),L6(n,u=>o(u))}}const s=sP("auth");return s&&v6(n,`http://${s}`),n}function YF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}l6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Vs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",YF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KF("Browser");var JF="firebase",ZF="12.5.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/rr(JF,ZF,"app");var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,ZP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.F=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(O,U,$){for(var L=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)L[ke-2]=arguments[ke];return C.prototype[U].apply(O,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,C,R){R||(R=0);const O=Array(16);if(typeof C=="string")for(var U=0;U<16;++U)O[U]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(U=0;U<16;++U)O[U]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],U=M.g[2];let $=M.g[3],L;L=C+($^R&(U^$))+O[0]+3614090360&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(U^C&(R^U))+O[1]+3905402710&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(R^$&(C^R))+O[2]+606105819&4294967295,U=$+(L<<17&4294967295|L>>>15),L=R+(C^U&($^C))+O[3]+3250441966&4294967295,R=U+(L<<22&4294967295|L>>>10),L=C+($^R&(U^$))+O[4]+4118548399&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(U^C&(R^U))+O[5]+1200080426&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(R^$&(C^R))+O[6]+2821735955&4294967295,U=$+(L<<17&4294967295|L>>>15),L=R+(C^U&($^C))+O[7]+4249261313&4294967295,R=U+(L<<22&4294967295|L>>>10),L=C+($^R&(U^$))+O[8]+1770035416&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(U^C&(R^U))+O[9]+2336552879&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(R^$&(C^R))+O[10]+4294925233&4294967295,U=$+(L<<17&4294967295|L>>>15),L=R+(C^U&($^C))+O[11]+2304563134&4294967295,R=U+(L<<22&4294967295|L>>>10),L=C+($^R&(U^$))+O[12]+1804603682&4294967295,C=R+(L<<7&4294967295|L>>>25),L=$+(U^C&(R^U))+O[13]+4254626195&4294967295,$=C+(L<<12&4294967295|L>>>20),L=U+(R^$&(C^R))+O[14]+2792965006&4294967295,U=$+(L<<17&4294967295|L>>>15),L=R+(C^U&($^C))+O[15]+1236535329&4294967295,R=U+(L<<22&4294967295|L>>>10),L=C+(U^$&(R^U))+O[1]+4129170786&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^U&(C^R))+O[6]+3225465664&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^R&($^C))+O[11]+643717713&4294967295,U=$+(L<<14&4294967295|L>>>18),L=R+($^C&(U^$))+O[0]+3921069994&4294967295,R=U+(L<<20&4294967295|L>>>12),L=C+(U^$&(R^U))+O[5]+3593408605&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^U&(C^R))+O[10]+38016083&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^R&($^C))+O[15]+3634488961&4294967295,U=$+(L<<14&4294967295|L>>>18),L=R+($^C&(U^$))+O[4]+3889429448&4294967295,R=U+(L<<20&4294967295|L>>>12),L=C+(U^$&(R^U))+O[9]+568446438&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^U&(C^R))+O[14]+3275163606&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^R&($^C))+O[3]+4107603335&4294967295,U=$+(L<<14&4294967295|L>>>18),L=R+($^C&(U^$))+O[8]+1163531501&4294967295,R=U+(L<<20&4294967295|L>>>12),L=C+(U^$&(R^U))+O[13]+2850285829&4294967295,C=R+(L<<5&4294967295|L>>>27),L=$+(R^U&(C^R))+O[2]+4243563512&4294967295,$=C+(L<<9&4294967295|L>>>23),L=U+(C^R&($^C))+O[7]+1735328473&4294967295,U=$+(L<<14&4294967295|L>>>18),L=R+($^C&(U^$))+O[12]+2368359562&4294967295,R=U+(L<<20&4294967295|L>>>12),L=C+(R^U^$)+O[5]+4294588738&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^U)+O[8]+2272392833&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^R)+O[11]+1839030562&4294967295,U=$+(L<<16&4294967295|L>>>16),L=R+(U^$^C)+O[14]+4259657740&4294967295,R=U+(L<<23&4294967295|L>>>9),L=C+(R^U^$)+O[1]+2763975236&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^U)+O[4]+1272893353&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^R)+O[7]+4139469664&4294967295,U=$+(L<<16&4294967295|L>>>16),L=R+(U^$^C)+O[10]+3200236656&4294967295,R=U+(L<<23&4294967295|L>>>9),L=C+(R^U^$)+O[13]+681279174&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^U)+O[0]+3936430074&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^R)+O[3]+3572445317&4294967295,U=$+(L<<16&4294967295|L>>>16),L=R+(U^$^C)+O[6]+76029189&4294967295,R=U+(L<<23&4294967295|L>>>9),L=C+(R^U^$)+O[9]+3654602809&4294967295,C=R+(L<<4&4294967295|L>>>28),L=$+(C^R^U)+O[12]+3873151461&4294967295,$=C+(L<<11&4294967295|L>>>21),L=U+($^C^R)+O[15]+530742520&4294967295,U=$+(L<<16&4294967295|L>>>16),L=R+(U^$^C)+O[2]+3299628645&4294967295,R=U+(L<<23&4294967295|L>>>9),L=C+(U^(R|~$))+O[0]+4096336452&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~U))+O[7]+1126891415&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~R))+O[14]+2878612391&4294967295,U=$+(L<<15&4294967295|L>>>17),L=R+($^(U|~C))+O[5]+4237533241&4294967295,R=U+(L<<21&4294967295|L>>>11),L=C+(U^(R|~$))+O[12]+1700485571&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~U))+O[3]+2399980690&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~R))+O[10]+4293915773&4294967295,U=$+(L<<15&4294967295|L>>>17),L=R+($^(U|~C))+O[1]+2240044497&4294967295,R=U+(L<<21&4294967295|L>>>11),L=C+(U^(R|~$))+O[8]+1873313359&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~U))+O[15]+4264355552&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~R))+O[6]+2734768916&4294967295,U=$+(L<<15&4294967295|L>>>17),L=R+($^(U|~C))+O[13]+1309151649&4294967295,R=U+(L<<21&4294967295|L>>>11),L=C+(U^(R|~$))+O[4]+4149444226&4294967295,C=R+(L<<6&4294967295|L>>>26),L=$+(R^(C|~U))+O[11]+3174756917&4294967295,$=C+(L<<10&4294967295|L>>>22),L=U+(C^($|~R))+O[2]+718787259&4294967295,U=$+(L<<15&4294967295|L>>>17),L=R+($^(U|~C))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+$&4294967295}r.prototype.v=function(M,C){C===void 0&&(C=M.length);const R=C-this.blockSize,O=this.C;let U=this.h,$=0;for(;$<C;){if(U==0)for(;$<=R;)s(this,M,$),$+=this.blockSize;if(typeof M=="string"){for(;$<C;)if(O[U++]=M.charCodeAt($++),U==this.blockSize){s(this,O),U=0;break}}else for(;$<C;)if(O[U++]=M[$++],U==this.blockSize){s(this,O),U=0;break}}this.h=U,this.o+=C},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;C=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=C&255,C/=256;for(this.v(M),M=Array(16),C=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)M[C++]=this.g[R]>>>O&255;return M};function i(M,C){var R=u;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function o(M,C){this.h=C;const R=[];let O=!0;for(let U=M.length-1;U>=0;U--){const $=M[U]|0;O&&$==C||(R[U]=$,O=!1)}this.g=R}var u={};function c(M){return-128<=M&&M<128?i(M,function(C){return new o([C|0],C<0?-1:0)}):new o([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return g;if(M<0)return _(d(-M));const C=[];let R=1;for(let O=0;M>=R;O++)C[O]=M/R|0,R*=4294967296;return new o(C,0)}function p(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return _(p(M.substring(1),C));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(C,8));let O=g;for(let $=0;$<M.length;$+=8){var U=Math.min(8,M.length-$);const L=parseInt(M.substring($,$+U),C);U<8?(U=d(Math.pow(C,U)),O=O.j(U).add(d(L))):(O=O.j(R),O=O.add(d(L)))}return O}var g=c(0),v=c(1),S=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-_(this).m();let M=0,C=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);M+=(O>=0?O:4294967296+O)*C,C*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(I(this))return"0";if(T(this))return"-"+_(this).toString(M);const C=d(Math.pow(M,6));var R=this;let O="";for(;;){const U=V(R,C).g;R=N(R,U.j(C));let $=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=U,I(R))return $+O;for(;$.length<6;)$="0"+$;O=$+O}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function I(M){if(M.h!=0)return!1;for(let C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function T(M){return M.h==-1}t.l=function(M){return M=N(this,M),T(M)?-1:I(M)?0:1};function _(M){const C=M.g.length,R=[];for(let O=0;O<C;O++)R[O]=~M.g[O];return new o(R,~M.h).add(v)}t.abs=function(){return T(this)?_(this):this},t.add=function(M){const C=Math.max(this.g.length,M.g.length),R=[];let O=0;for(let U=0;U<=C;U++){let $=O+(this.i(U)&65535)+(M.i(U)&65535),L=($>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);O=L>>>16,$&=65535,L&=65535,R[U]=L<<16|$}return new o(R,R[R.length-1]&-2147483648?-1:0)};function N(M,C){return M.add(_(C))}t.j=function(M){if(I(this)||I(M))return g;if(T(this))return T(M)?_(this).j(_(M)):_(_(this).j(M));if(T(M))return _(this.j(_(M)));if(this.l(S)<0&&M.l(S)<0)return d(this.m()*M.m());const C=this.g.length+M.g.length,R=[];for(var O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let U=0;U<M.g.length;U++){const $=this.i(O)>>>16,L=this.i(O)&65535,ke=M.i(U)>>>16,De=M.i(U)&65535;R[2*O+2*U]+=L*De,D(R,2*O+2*U),R[2*O+2*U+1]+=$*De,D(R,2*O+2*U+1),R[2*O+2*U+1]+=L*ke,D(R,2*O+2*U+1),R[2*O+2*U+2]+=$*ke,D(R,2*O+2*U+2)}for(M=0;M<C;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=C;M<2*C;M++)R[M]=0;return new o(R,0)};function D(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function j(M,C){this.g=M,this.h=C}function V(M,C){if(I(C))throw Error("division by zero");if(I(M))return new j(g,g);if(T(M))return C=V(_(M),C),new j(_(C.g),_(C.h));if(T(C))return C=V(M,_(C)),new j(_(C.g),C.h);if(M.g.length>30){if(T(M)||T(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,O=C;O.l(M)<=0;)R=B(R),O=B(O);var U=H(R,1),$=H(O,1);for(O=H(O,2),R=H(R,2);!I(O);){var L=$.add(O);L.l(M)<=0&&(U=U.add(R),$=L),O=H(O,1),R=H(R,1)}return C=N(M,U.j(C)),new j(U,C)}for(U=g;M.l(C)>=0;){for(R=Math.max(1,Math.floor(M.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),$=d(R),L=$.j(C);T(L)||L.l(M)>0;)R-=O,$=d(R),L=$.j(C);I($)&&($=v),U=U.add($),M=N(M,L)}return new j(U,M)}t.B=function(M){return V(this,M).h},t.and=function(M){const C=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<C;O++)R[O]=this.i(O)&M.i(O);return new o(R,this.h&M.h)},t.or=function(M){const C=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<C;O++)R[O]=this.i(O)|M.i(O);return new o(R,this.h|M.h)},t.xor=function(M){const C=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<C;O++)R[O]=this.i(O)^M.i(O);return new o(R,this.h^M.h)};function B(M){const C=M.g.length+1,R=[];for(let O=0;O<C;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new o(R,M.h)}function H(M,C){const R=C>>5;C%=32;const O=M.g.length-R,U=[];for(let $=0;$<O;$++)U[$]=C>0?M.i($+R)>>>C|M.i($+R+1)<<32-C:M.i($+R);return new o(U,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Ha=o}).apply(typeof LT<"u"?LT:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eN,ud,tN,Rm,Vw,nN,rN,sN;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var k=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var Y=f[A];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],A=k[f],b=b(A),b!=A&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var k=[],A;for(A in b)Object.prototype.hasOwnProperty.call(b,A)&&k.push([A,b[A]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,k){return f.call.apply(f.bind,arguments)}function d(f,b,k){return d=c,d.apply(null,arguments)}function p(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var A=k.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function g(f,b){function k(){}k.prototype=b.prototype,f.Z=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Ob=function(A,Y,ee){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return b.prototype[Y].apply(A,he)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const b=f.length;if(b>0){const k=Array(b);for(let A=0;A<b;A++)k[A]=f[A];return k}return[]}function I(f,b){for(let A=1;A<arguments.length;A++){const Y=arguments[A];var k=typeof Y;if(k=k!="object"?k:Y?Array.isArray(Y)?"array":k:"null",k=="array"||k=="object"&&typeof Y.length=="number"){k=f.length||0;const ee=Y.length||0;f.length=k+ee;for(let he=0;he<ee;he++)f[k+he]=Y[he]}else f.push(Y)}}class T{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(f){o.setTimeout(()=>{throw f},0)}function N(){var f=M;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class D{constructor(){this.h=this.g=null}add(b,k){const A=j.get();A.set(b,k),this.h?this.h.next=A:this.g=A,this.h=A}}var j=new T(()=>new V,f=>f.reset());class V{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let B,H=!1,M=new D,C=()=>{const f=Promise.resolve(void 0);B=()=>{f.then(R)}};function R(){for(var f;f=N();){try{f.h.call(f.g)}catch(k){_(k)}var b=j;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}H=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};o.addEventListener("test",k,b),o.removeEventListener("test",k,b)}catch{}return f})();function L(f){return/^[\s\xa0]*$/.test(f)}function ke(f,b){U.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}g(ke,U),ke.prototype.init=function(f,b){const k=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,k,A,Y){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!A,this.ha=Y,this.key=++ye,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ne(f,b,k){for(const A in f)b.call(k,f[A],A,f)}function ae(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function K(f){const b={};for(const k in f)b[k]=f[k];return b}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(f,b){let k,A;for(let Y=1;Y<arguments.length;Y++){A=arguments[Y];for(k in A)f[k]=A[k];for(let ee=0;ee<re.length;ee++)k=re[ee],Object.prototype.hasOwnProperty.call(A,k)&&(f[k]=A[k])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,k,A,Y){const ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);const he=ze(f,b,A,Y);return he>-1?(b=f[he],k||(b.fa=!1)):(b=new ve(b,this.src,ee,!!A,Y),b.fa=k,f.push(b)),b};function Me(f,b){const k=b.type;if(k in f.g){var A=f.g[k],Y=Array.prototype.indexOf.call(A,b,void 0),ee;(ee=Y>=0)&&Array.prototype.splice.call(A,Y,1),ee&&(G(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function ze(f,b,k,A){for(let Y=0;Y<f.length;++Y){const ee=f[Y];if(!ee.da&&ee.listener==b&&ee.capture==!!k&&ee.ha==A)return Y}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),$e={};function Ve(f,b,k,A,Y){if(Array.isArray(b)){for(let ee=0;ee<b.length;ee++)Ve(f,b[ee],k,A,Y);return null}return k=ho(k),f&&f[De]?f.J(b,k,u(A)?!!A.capture:!1,Y):pt(f,b,k,!1,A,Y)}function pt(f,b,k,A,Y,ee){if(!b)throw Error("Invalid event type");const he=u(Y)?!!Y.capture:!!Y;let Be=Xi(f);if(Be||(f[Ce]=Be=new me(f)),k=Be.add(b,k,A,he,ee),k.proxy)return k;if(A=Er(),k.proxy=A,A.src=f,A.listener=k,f.addEventListener)$||(Y=he),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),A,Y);else if(f.attachEvent)f.attachEvent(Qi(b.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Er(){function f(k){return b.call(f.src,f.listener,k)}const b=Bl;return f}function Sr(f,b,k,A,Y){if(Array.isArray(b))for(var ee=0;ee<b.length;ee++)Sr(f,b[ee],k,A,Y);else A=u(A)?!!A.capture:!!A,k=ho(k),f&&f[De]?(f=f.i,ee=String(b).toString(),ee in f.g&&(b=f.g[ee],k=ze(b,k,A,Y),k>-1&&(G(b[k]),Array.prototype.splice.call(b,k,1),b.length==0&&(delete f.g[ee],f.h--)))):f&&(f=Xi(f))&&(b=f.g[b.toString()],f=-1,b&&(f=ze(b,k,A,Y)),(k=f>-1?b[f]:null)&&Wn(k))}function Wn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[De])Me(b.i,f);else{var k=f.type,A=f.proxy;b.removeEventListener?b.removeEventListener(k,A,f.capture):b.detachEvent?b.detachEvent(Qi(k),A):b.addListener&&b.removeListener&&b.removeListener(A),(k=Xi(b))?(Me(k,f),k.h==0&&(k.src=null,b[Ce]=null)):G(f)}}}function Qi(f){return f in $e?$e[f]:$e[f]="on"+f}function Bl(f,b){if(f.da)f=!0;else{b=new ke(b,this);const k=f.listener,A=f.ha||f.src;f.fa&&Wn(f),f=k.call(A,b)}return f}function Xi(f){return f=f[Ce],f instanceof me?f:null}var si="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(f){return typeof f=="function"?f:(f[si]||(f[si]=function(b){return f.handleEvent(b)}),f[si])}function mt(){O.call(this),this.i=new me(this),this.M=this,this.G=null}g(mt,O),mt.prototype[De]=!0,mt.prototype.removeEventListener=function(f,b,k,A){Sr(this,f,b,k,A)};function $t(f,b){var k,A=f.G;if(A)for(k=[];A;A=A.G)k.push(A);if(f=f.M,A=b.type||b,typeof b=="string")b=new U(b,f);else if(b instanceof U)b.target=b.target||f;else{var Y=b;b=new U(A,f),pe(b,Y)}Y=!0;let ee,he;if(k)for(he=k.length-1;he>=0;he--)ee=b.g=k[he],Y=Hr(ee,A,!0,b)&&Y;if(ee=b.g=f,Y=Hr(ee,A,!0,b)&&Y,Y=Hr(ee,A,!1,b)&&Y,k)for(he=0;he<k.length;he++)ee=b.g=k[he],Y=Hr(ee,A,!1,b)&&Y}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const k=f.g[b];for(let A=0;A<k.length;A++)G(k[A]);delete f.g[b],f.h--}}this.G=null},mt.prototype.J=function(f,b,k,A){return this.i.add(String(f),b,!1,k,A)},mt.prototype.K=function(f,b,k,A){return this.i.add(String(f),b,!0,k,A)};function Hr(f,b,k,A){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let ee=0;ee<b.length;++ee){const he=b[ee];if(he&&!he.da&&he.capture==k){const Be=he.listener,qt=he.ha||he.src;he.fa&&Me(f.i,he),Y=Be.call(qt,A)!==!1&&Y}}return Y&&!A.defaultPrevented}function Wc(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function Hc(f){f.g=Wc(()=>{f.g=null,f.i&&(f.i=!1,Hc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Ff extends O{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Hc(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(f){O.call(this),this.h=f,this.g={}}g(Yi,O);var Kc=[];function $l(f){ne(f.g,function(b,k){this.g.hasOwnProperty(k)&&Wn(b)},f),f.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),$l(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=o.JSON.stringify,Uf=o.JSON.parse,fo=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Zi(){}function Vf(){}var ea={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ql(){U.call(this,"d")}g(ql,U);function Gc(){U.call(this,"c")}g(Gc,U);var Kr={},Wl=null;function ta(){return Wl=Wl||new mt}Kr.Ia="serverreachability";function Hl(f){U.call(this,Kr.Ia,f)}g(Hl,U);function ii(f){const b=ta();$t(b,new Hl(b))}Kr.STAT_EVENT="statevent";function ai(f,b){U.call(this,Kr.STAT_EVENT,f),this.stat=b}g(ai,U);function Nt(f){const b=ta();$t(b,new ai(b,f))}Kr.Ja="timingevent";function Qc(f,b){U.call(this,Kr.Ja,f),this.size=b}g(Qc,U);function na(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function ra(){this.g=!0}ra.prototype.ua=function(){this.g=!1};function zf(f,b,k,A,Y,ee){f.info(function(){if(f.g)if(ee){var he="",Be=ee.split("&");for(let ht=0;ht<Be.length;ht++){var qt=Be[ht].split("=");if(qt.length>1){const Xt=qt[0];qt=qt[1];const cr=Xt.split("_");he=cr.length>=2&&cr[1]=="type"?he+(Xt+"="+qt+"&"):he+(Xt+"=redacted&")}}}else he=null;else he=ee;return"XMLHTTP REQ ("+A+") [attempt "+Y+"]: "+b+`
`+k+`
`+he})}function Bf(f,b,k,A,Y,ee,he){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Y+"]: "+b+`
`+k+`
`+ee+" "+he})}function ms(f,b,k,A){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+po(f,k)+(A?" "+A:"")})}function $f(f,b){f.info(function(){return"TIMEOUT: "+b})}ra.prototype.info=function(){};function po(f,b){if(!f.g)return b;if(!b)return null;try{const ee=JSON.parse(b);if(ee){for(f=0;f<ee.length;f++)if(Array.isArray(ee[f])){var k=ee[f];if(!(k.length<2)){var A=k[1];if(Array.isArray(A)&&!(A.length<1)){var Y=A[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<A.length;he++)A[he]=""}}}}return Ji(ee)}catch{return b}}var sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ia={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qf;function oi(){}g(oi,Zi),oi.prototype.g=function(){return new XMLHttpRequest},qf=new oi;function gs(f){return encodeURIComponent(String(f))}function Kl(f){var b=1;f=f.split(":");const k=[];for(;b>0&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function kr(f,b,k,A){this.j=f,this.i=b,this.l=k,this.S=A||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var Hf={},Xc={};function Gr(f,b,k){f.M=1,f.A=ui(Tr(b)),f.u=k,f.R=!0,Yc(f,null)}function Yc(f,b){f.F=Date.now(),mo(f),f.B=Tr(f.A);var k=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),oh(k.i,"t",A),f.C=0,k=f.j.L,f.h=new Wf,f.g=np(f.j,k?b:null,!f.u),f.P>0&&(f.O=new Ff(d(f.Y,f,f.g),f.P)),b=f.V,k=f.g,A=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Kc[0]=Y.toString()),Y=Kc);for(let ee=0;ee<Y.length;ee++){const he=Ve(k,Y[ee],A||b.handleEvent,!1,b.h||b);if(!he)break;b.g[he.key]=he}b=f.J?K(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),ii(),zf(f.i,f.v,f.B,f.l,f.S,f.u)}kr.prototype.ba=function(f){f=f.target;const b=this.O;b&&Ss(f)==3?b.j():this.Y(f)},kr.prototype.Y=function(f){try{if(f==this.g)e:{const Be=Ss(this.g),qt=this.g.ya(),ht=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||ep(this.g)))){this.K||Be!=4||qt==7||(qt==8||ht<=0?ii(3):ii(2)),Gl(this);var b=this.g.ca();this.X=b;var k=Kf(this);if(this.o=b==200,Bf(this.i,this.v,this.B,this.l,this.S,Be,b),this.o){if(this.U&&!this.L){t:{if(this.g){var A,Y=this.g;if((A=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(A)){var ee=A;break t}}ee=null}if(f=ee)ms(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,f);else{this.o=!1,this.m=3,Nt(12),li(this),go(this);break e}}if(this.R){f=!0;let Xt;for(;!this.K&&this.C<k.length;)if(Xt=Qf(this,k),Xt==Xc){Be==4&&(this.m=4,Nt(14),f=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Hf){this.m=4,Nt(15),ms(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ms(this.i,this.l,Xt,null),gt(this,Xt);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||k.length!=0||this.h.h||(this.m=1,Nt(16),f=!1),this.o=this.o&&f,!f)ms(this.i,this.l,k,"[Invalid Chunked Response]"),li(this),go(this);else if(k.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),To(he),he.P=!0,Nt(11))}}else ms(this.i,this.l,k,null),gt(this,k);Be==4&&li(this),this.o&&!this.K&&(Be==4?su(this.j,this):(this.o=!1,mo(this)))}else uh(this.g),b==400&&k.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),li(this),go(this)}}}catch{}finally{}};function Kf(f){if(!Gf(f))return f.g.la();const b=ep(f.g);if(b==="")return"";let k="";const A=b.length,Y=Ss(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return li(f),go(f),"";f.h.i=new o.TextDecoder}for(let ee=0;ee<A;ee++)f.h.h=!0,k+=f.h.i.decode(b[ee],{stream:!(Y&&ee==A-1)});return b.length=0,f.h.g+=k,f.C=0,f.h.g}function Gf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Qf(f,b){var k=f.C,A=b.indexOf(`
`,k);return A==-1?Xc:(k=Number(b.substring(k,A)),isNaN(k)?Hf:(A+=1,A+k>b.length?Xc:(b=b.slice(A,A+k),f.C=A+k,b)))}kr.prototype.cancel=function(){this.K=!0,li(this)};function mo(f){f.T=Date.now()+f.H,Jc(f,f.H)}function Jc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=na(d(f.aa,f),b)}function Gl(f){f.D&&(o.clearTimeout(f.D),f.D=null)}kr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?($f(this.i,this.B),this.M!=2&&(ii(),Nt(17)),li(this),this.m=2,go(this)):Jc(this,this.T-f)};function go(f){f.j.I==0||f.K||su(f.j,f)}function li(f){Gl(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,$l(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function gt(f,b){try{var k=f.j;if(k.I!=0&&(k.g==f||eh(k.h,f))){if(!f.L&&eh(k.h,f)&&k.I==3){try{var A=k.Ba.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Y=A;if(Y[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<f.F)ru(k),lr(k);else break e;_s(k),Nt(18)}}else k.xa=Y[1],0<k.xa-k.K&&Y[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=na(d(k.Va,k),6e3));yo(k.h)<=1&&k.ta&&(k.ta=void 0)}else ur(k,11)}else if((f.L||k.g==f)&&ru(k),!L(b))for(Y=k.Ba.g.parse(b),b=0;b<Y.length;b++){let ht=Y[b];const Xt=ht[0];if(!(Xt<=k.K))if(k.K=Xt,ht=ht[1],k.I==2)if(ht[0]=="c"){k.M=ht[1],k.ba=ht[2];const cr=ht[3];cr!=null&&(k.ka=cr,k.j.info("VER="+k.ka));const da=ht[4];da!=null&&(k.za=da,k.j.info("SVER="+k.za));const Is=ht[5];Is!=null&&typeof Is=="number"&&Is>0&&(A=1.5*Is,k.O=A,k.j.info("backChannelRequestTimeoutMs_="+A)),A=k;const Cs=f.g;if(Cs){const ou=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ou){var ee=A.h;ee.g||ou.indexOf("spdy")==-1&&ou.indexOf("quic")==-1&&ou.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Xl(ee,ee.h),ee.h=null))}if(A.G){const dh=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;dh&&(A.wa=dh,it(A.J,A.G,dh))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-f.F,k.j.info("Handshake RTT: "+k.T+"ms")),A=k;var he=f;if(A.na=hh(A,A.L?A.ba:null,A.W),he.L){vo(A.h,he);var Be=he,qt=A.O;qt&&(Be.H=qt),Be.D&&(Gl(Be),mo(Be)),A.g=he}else Sn(A);k.i.length>0&&fi(k)}else ht[0]!="stop"&&ht[0]!="close"||ur(k,7);else k.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?ur(k,7):tu(k):ht[0]!="noop"&&k.l&&k.l.qa(ht),k.A=0)}}ii(4)}catch{}}var Zy=class{constructor(f,b){this.g=f,this.map=b}};function Ql(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function yo(f){return f.h?1:f.g?f.g.size:0}function eh(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Xl(f,b){f.g?f.g.add(b):f.h=b}function vo(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Ql.prototype.cancel=function(){if(this.i=ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ir(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.G);return b}return S(f.i)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(f,b){if(f){f=f.split("&");for(let k=0;k<f.length;k++){const A=f[k].indexOf("=");let Y,ee=null;A>=0?(Y=f[k].substring(0,A),ee=f[k].substring(A+1)):Y=f[k],b(Y,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function ys(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ys?(this.l=f.l,wo(this,f.j),this.o=f.o,this.g=f.g,vs(this,f.u),this.h=f.h,aa(this,lh(f.i)),this.m=f.m):f&&(b=String(f).match(Xf))?(this.l=!1,wo(this,b[1]||"",!0),this.o=bo(b[2]||""),this.g=bo(b[3]||"",!0),vs(this,b[4]),this.h=bo(b[5]||"",!0),aa(this,b[6]||"",!0),this.m=bo(b[7]||"")):(this.l=!1,this.i=new Qe(null,this.l))}ys.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(xo(b,nh,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(xo(b,nh,!0),"@"),f.push(gs(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&f.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(xo(k,k.charAt(0)=="/"?Eo:rh,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",xo(k,sh)),f.join("")},ys.prototype.resolve=function(f){const b=Tr(this);let k=!!f.j;k?wo(b,f.j):k=!!f.o,k?b.o=f.o:k=!!f.g,k?b.g=f.g:k=f.u!=null;var A=f.h;if(k)vs(b,f.u);else if(k=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(A=b.h.slice(0,Y+1)+A)}if(Y=A,Y==".."||Y==".")A="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){A=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ee=[];for(let he=0;he<Y.length;){const Be=Y[he++];Be=="."?A&&he==Y.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),A&&he==Y.length&&ee.push("")):(ee.push(Be),A=!0)}A=ee.join("/")}else A=Y}return k?b.h=A:k=f.i.toString()!=="",k?aa(b,lh(f.i)):k=!!f.m,k&&(b.m=f.m),b};function Tr(f){return new ys(f)}function wo(f,b,k){f.j=k?bo(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function vs(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function aa(f,b,k){b instanceof Qe?(f.i=b,Jl(f.i,f.l)):(k||(b=xo(b,ev)),f.i=new Qe(b,f.l))}function it(f,b,k){f.i.set(b,k)}function ui(f){return it(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function bo(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xo(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,th),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function th(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var nh=/[#\/\?@]/g,rh=/[#\?:]/g,Eo=/[#\?]/g,ev=/[#\?@]/g,sh=/#/g;function Qe(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ws(f){f.g||(f.g=new Map,f.h=0,f.i&&ar(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=Qe.prototype,t.add=function(f,b){ws(this),this.i=null,f=bs(this,f);let k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function ih(f,b){ws(f),b=bs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Yl(f,b){return ws(f),b=bs(f,b),f.g.has(b)}t.forEach=function(f,b){ws(this),this.g.forEach(function(k,A){k.forEach(function(Y){f.call(b,Y,A,this)},this)},this)};function ah(f,b){ws(f);let k=[];if(typeof b=="string")Yl(f,b)&&(k=k.concat(f.g.get(bs(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)k=k.concat(f[b]);return k}t.set=function(f,b){return ws(this),this.i=null,f=bs(this,f),Yl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=ah(this,f),f.length>0?String(f[0]):b):b};function oh(f,b,k){ih(f,b),k.length>0&&(f.i=null,f.g.set(bs(f,b),S(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let A=0;A<b.length;A++){var k=b[A];const Y=gs(k);k=ah(this,k);for(let ee=0;ee<k.length;ee++){let he=Y;k[ee]!==""&&(he+="="+gs(k[ee])),f.push(he)}}return this.i=f.join("&")};function lh(f){const b=new Qe;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function bs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Jl(f,b){b&&!f.j&&(ws(f),f.i=null,f.g.forEach(function(k,A){const Y=A.toLowerCase();A!=Y&&(ih(this,A),oh(this,Y,k))},f)),f.j=b}function xs(f,b){const k=new ra;if(o.Image){const A=new Image;A.onload=p(pn,k,"TestLoadImage: loaded",!0,b,A),A.onerror=p(pn,k,"TestLoadImage: error",!1,b,A),A.onabort=p(pn,k,"TestLoadImage: abort",!1,b,A),A.ontimeout=p(pn,k,"TestLoadImage: timeout",!1,b,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else b(!1)}function Es(f,b){const k=new ra,A=new AbortController,Y=setTimeout(()=>{A.abort(),pn(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:A.signal}).then(ee=>{clearTimeout(Y),ee.ok?pn(k,"TestPingServer: ok",!0,b):pn(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),pn(k,"TestPingServer: error",!1,b)})}function pn(f,b,k,A,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),A(k)}catch{}}function So(){this.g=new fo}function ci(f){this.i=f.Sb||null,this.h=f.ab||!1}g(ci,Zi),ci.prototype.g=function(){return new or(this.i,this.h)};function or(f,b){mt.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(or,mt),t=or.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Qr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yf(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yf(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?oa(this):Qr(this),this.readyState==3&&Yf(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,oa(this))},t.Na=function(f){this.g&&(this.response=f,oa(this))},t.ga=function(){this.g&&oa(this)};function oa(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function Qr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Jf(f){let b="";return ne(f,function(k,A){b+=A,b+=":",b+=k,b+=`\r
`}),b}function Zl(f,b,k){e:{for(A in k){var A=!1;break e}A=!0}A||(k=Jf(k),typeof f=="string"?k!=null&&gs(k):it(f,b,k))}function ct(f){mt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ct,mt);var Zf=/^https?$/i,tv=["POST","PUT"];t=ct.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,k,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qf.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ee){la(this,ee);return}if(f=k||"",k=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Y in A)k.set(Y,A[Y]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ee of A.keys())k.set(ee,A.get(ee));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(k.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(tv,b,void 0)>=0)||A||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of k)this.g.setRequestHeader(ee,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ee){la(this,ee)}};function la(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,ua(f),di(f)}function ua(f){f.A||(f.A=!0,$t(f,"complete"),$t(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,$t(this,"complete"),$t(this,"abort"),di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hi(this):this.Xa())},t.Xa=function(){hi(this)};function hi(f){if(f.h&&typeof i<"u"){if(f.v&&Ss(f)==4)setTimeout(f.Ca.bind(f),0);else if($t(f,"readystatechange"),Ss(f)==4){f.h=!1;try{const ee=f.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var A;if(A=ee===0){let he=String(f.D).match(Xf)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),A=!Zf.test(he?he.toLowerCase():"")}k=A}if(k)$t(f,"complete"),$t(f,"success");else{f.o=6;try{var Y=Ss(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",ua(f)}}finally{di(f)}}}}function di(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const k=f.g;f.g=null,b||$t(f,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Uf(b)}};function ep(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function uh(f){const b={};f=(f.g&&Ss(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(L(f[A]))continue;var k=Kl(f[A]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ee=b[Y]||[];b[Y]=ee,ee.push(k)}ae(b,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function eu(f){this.za=0,this.i=[],this.j=new ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ks("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ks("baseRetryDelayMs",5e3,f),this.Za=ks("retryDelaySeedMs",1e4,f),this.Ta=ks("forwardChannelMaxRetries",2,f),this.va=ks("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ql(f&&f.concurrentRequestLimit),this.Ba=new So,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=eu.prototype,t.ka=8,t.I=1,t.connect=function(f,b,k,A){Nt(0),this.W=f,this.H=b||{},k&&A!==void 0&&(this.H.OSID=k,this.H.OAID=A),this.F=this.X,this.J=hh(this,null,this.W),fi(this)};function tu(f){if(nu(f),f.I==3){var b=f.V++,k=Tr(f.J);if(it(k,"SID",f.M),it(k,"RID",b),it(k,"TYPE","terminate"),Ts(f,k),b=new kr(f,f.j,b),b.M=2,b.A=ui(Tr(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=b.A,k=!0),k||(b.g=np(b.j,null),b.g.ea(b.A)),b.F=Date.now(),mo(b)}_o(f)}function lr(f){f.g&&(To(f),f.g.cancel(),f.g=null)}function nu(f){lr(f),f.v&&(o.clearTimeout(f.v),f.v=null),ru(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function fi(f){if(!Zc(f.h)&&!f.m){f.m=!0;var b=f.Ea;B||C(),H||(B(),H=!0),M.add(b,f),f.D=0}}function tp(f,b){return yo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=na(d(f.Ea,f,b),iu(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new kr(this,this.j,f);let ee=this.o;if(this.U&&(ee?(ee=K(ee),pe(ee,this.U)):ee=this.U),this.u!==null||this.R||(Y.J=ee,ee=null),this.S)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var A=this.i[k];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,b>4096){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=ch(this,Y,b),k=Tr(this.J),it(k,"RID",f),it(k,"CVER",22),this.G&&it(k,"X-HTTP-Session-Id",this.G),Ts(this,k),ee&&(this.R?b="headers="+gs(Jf(ee))+"&"+b:this.u&&Zl(k,this.u,ee)),Xl(this.h,Y),this.Ra&&it(k,"TYPE","init"),this.S?(it(k,"$req",b),it(k,"SID","null"),Y.U=!0,Gr(Y,k,null)):Gr(Y,k,b),this.I=2}}else this.I==3&&(f?ko(this,f):this.i.length==0||Zc(this.h)||ko(this))};function ko(f,b){var k;b?k=b.l:k=f.V++;const A=Tr(f.J);it(A,"SID",f.M),it(A,"RID",k),it(A,"AID",f.K),Ts(f,A),f.u&&f.o&&Zl(A,f.u,f.o),k=new kr(f,f.j,k,f.D+1),f.u===null&&(k.J=f.o),b&&(f.i=b.G.concat(f.i)),b=ch(f,k,1e3),k.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Xl(f.h,k),Gr(k,A,b)}function Ts(f,b){f.H&&ne(f.H,function(k,A){it(b,A,k)}),f.l&&ne({},function(k,A){it(b,A,k)})}function ch(f,b,k){k=Math.min(f.i.length,k);const A=f.l?d(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Be=-1;for(;;){const qt=["count="+k];Be==-1?k>0?(Be=Y[0].g,qt.push("ofs="+Be)):Be=0:qt.push("ofs="+Be);let ht=!0;for(let Xt=0;Xt<k;Xt++){var ee=Y[Xt].g;const cr=Y[Xt].map;if(ee-=Be,ee<0)Be=Math.max(0,Y[Xt].g-100),ht=!1;else try{ee="req"+ee+"_"||"";try{var he=cr instanceof Map?cr:Object.entries(cr);for(const[da,Is]of he){let Cs=Is;u(Is)&&(Cs=Ji(Is)),qt.push(ee+da+"="+encodeURIComponent(Cs))}}catch(da){throw qt.push(ee+"type="+encodeURIComponent("_badmap")),da}}catch{A&&A(cr)}}if(ht){he=qt.join("&");break e}}he=void 0}return f=f.i.splice(0,k),b.G=f,he}function Sn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;B||C(),H||(B(),H=!0),M.add(b,f),f.A=0}}function _s(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=na(d(f.Da,f),iu(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ca(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=na(d(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),lr(this),ca(this))};function To(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function ca(f){f.g=new kr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Tr(f.na);it(b,"RID","rpc"),it(b,"SID",f.M),it(b,"AID",f.K),it(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&it(b,"TO",f.ia),it(b,"TYPE","xmlhttp"),Ts(f,b),f.u&&f.o&&Zl(b,f.u,f.o),f.O&&(f.g.H=f.O);var k=f.g;f=f.ba,k.M=1,k.A=ui(Tr(b)),k.u=null,k.R=!0,Yc(k,f)}t.Va=function(){this.C!=null&&(this.C=null,lr(this),_s(this),Nt(19))};function ru(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function su(f,b){var k=null;if(f.g==b){ru(f),To(f),f.g=null;var A=2}else if(eh(f.h,b))k=b.G,vo(f.h,b),A=1;else return;if(f.I!=0){if(b.o)if(A==1){k=b.u?b.u.length:0,b=Date.now()-b.F;var Y=f.D;A=ta(),$t(A,new Qc(A,k)),fi(f)}else Sn(f);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(A==1&&tp(f,b)||A==2&&_s(f)))switch(k&&k.length>0&&(b=f.h,b.i=b.i.concat(k)),Y){case 1:ur(f,5);break;case 4:ur(f,10);break;case 3:ur(f,6);break;default:ur(f,2)}}}function iu(f,b){let k=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(k*=2),k*b}function ur(f,b){if(f.j.info("Error code "+b),b==2){var k=d(f.bb,f),A=f.Ua;const Y=!A;A=new ys(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||wo(A,"https"),ui(A),Y?xs(A.toString(),k):Es(A.toString(),k)}else Nt(2);f.I=0,f.l&&f.l.pa(b),_o(f),nu(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function _o(f){if(f.I=0,f.ja=[],f.l){const b=ir(f.h);(b.length!=0||f.i.length!=0)&&(I(f.ja,b),I(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function hh(f,b,k){var A=k instanceof ys?Tr(k):new ys(k);if(A.g!="")b&&(A.g=b+"."+A.g),vs(A,A.u);else{var Y=o.location;A=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const ee=new ys(null);A&&wo(ee,A),b&&(ee.g=b),Y&&vs(ee,Y),k&&(ee.h=k),A=ee}return k=f.G,b=f.wa,k&&b&&it(A,k,b),it(A,"VER",f.ka),Ts(f,A),A}function np(f,b,k){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new ct(new ci({ab:k})):new ct(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rp(){}t=rp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function au(){}au.prototype.g=function(f,b){return new mn(f,b)};function mn(f,b){mt.call(this),this.g=new eu(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!L(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new ha(this)}g(mn,mt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){tu(this.g)},mn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.v&&(k={},k.__data__=Ji(f),f=k);b.i.push(new Zy(b.Ya++,f)),b.I==3&&fi(b)},mn.prototype.N=function(){this.g.l=null,delete this.j,tu(this.g),delete this.g,mn.Z.N.call(this)};function sp(f){ql.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(sp,ql);function ip(){Gc.call(this),this.status=1}g(ip,Gc);function ha(f){this.g=f}g(ha,rp),ha.prototype.ra=function(){$t(this.g,"a")},ha.prototype.qa=function(f){$t(this.g,new sp(f))},ha.prototype.pa=function(f){$t(this.g,new ip)},ha.prototype.oa=function(){$t(this.g,"b")},au.prototype.createWebChannel=au.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,sN=function(){return new au},rN=function(){return ta()},nN=Kr,Vw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Rm=sa,ia.COMPLETE="complete",tN=ia,Vf.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",mt.prototype.listen=mt.prototype.J,ud=Vf,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,eN=ct}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const FT="@firebase/firestore",UT="4.9.2";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let bn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Rc="12.3.0";/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bl=new Zg("@firebase/firestore");function Gu(){return bl.logLevel}function le(t,...e){if(bl.logLevel<=Ke.DEBUG){const n=e.map(Ex);bl.debug(`Firestore (${Rc}): ${t}`,...n)}}function Ln(t,...e){if(bl.logLevel<=Ke.ERROR){const n=e.map(Ex);bl.error(`Firestore (${Rc}): ${t}`,...n)}}function xl(t,...e){if(bl.logLevel<=Ke.WARN){const n=e.map(Ex);bl.warn(`Firestore (${Rc}): ${t}`,...n)}}function Ex(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(t)}catch{return t}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iN(t,r,n)}function iN(t,e,n){let r=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ln(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||iN(e,s,r)}function Ue(t,e){return t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class aN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(bn.UNAUTHENTICATED)))}shutdown(){}}class tU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nU{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bs,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},u=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new aN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class rU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function aU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=aU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function zw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return P0(s)===P0(i)?Fe(s,i):P0(s)?1:-1}return Fe(t.length,e.length)}const oU=55296,lU=57343;function P0(t){const e=t.charCodeAt(0);return e>=oU&&e<=lU}function fc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function oN(t){return t+"\0"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const zT="__name__";class js{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=js.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=js.isNumericId(e),s=js.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?js.extractNumericId(e).compare(js.extractNumericId(n)):zw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class at extends js{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const uU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends js{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return uU.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zT}static keyField(){return new _t([zT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class de{constructor(e){this.path=e}static fromPath(e){return new de(at.fromString(e))}static fromName(e){return new de(at.fromString(e).popFirst(5))}static empty(){return new de(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new at(e.slice()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lN(t,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cU(t,e,n,r){if(e===!0&&r===!0)throw new ce(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BT(t){if(!de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $T(t){if(de.isDocumentKey(t))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function iy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iy(t);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hU(t,e){if(e<=0)throw new ce(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function en(t,e){const n={typeString:t};return e&&(n.value=e),n}function pf(t,e){if(!uN(t))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const qT=-62135596800,WT=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WT);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pf(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:en("string",rt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new rt(0,0))}static max(){return new Pe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const jd=-1;class fg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function Bw(t){return t.fields.find((e=>e.kind===2))}function Yo(t){return t.fields.filter((e=>e.kind!==2))}fg.UNKNOWN_ID=-1;class Dm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Od{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Od(0,xr.min())}}function dU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new xr(s,de.empty(),e)}function cN(t){return new xr(t.readTime,t.key,jd)}class xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xr(Pe.min(),de.empty(),jd)}static max(){return new xr(Pe.max(),de.empty(),jd)}}function kx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function Ol(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==hN)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((s=>s?Q.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next((p=>{o[d]=p,++u,u===i&&r(o)}),(p=>s(p)))}}))}static doWhile(e,n){return new Q(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const mr="SimpleDb";class ay{static open(e,n,r,s){try{return new ay(n,e.transaction(s,r))}catch(i){throw new vd(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Bs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new vd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=Tx(r.target.error);this.S.reject(new vd(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(le(mr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new pU(n)}}class Ka{static delete(e){return le(mr,"Removing database:",e),tl(rP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Jg())return!1;if(Ka.F())return!0;const e=on(),n=Ka.M(e),r=0<n&&n<10,s=fN(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ka.M(on())===12.2&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(le(mr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new vd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new ce(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new vd(e,o))},s.onupgradeneeded=i=>{le(mr,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{le(mr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const u=ay.open(this.db,e,i?"readonly":"readwrite",r),c=s(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),Q.reject(d)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,d=c.name!=="FirebaseError"&&o<3;if(le(mr,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function fN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class fU{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return tl(this.U.delete())}}class vd extends ce{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function lo(t){return t.name==="IndexedDbTransactionError"}class pU{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(le(mr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(le(mr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tl(r)}add(e){return le(mr,"ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next((n=>(n===void 0&&(n=null),le(mr,"GET",this.store.name,e,n),n)))}delete(e){return le(mr,"DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return le(mr,"COUNT",this.store.name),tl(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Q(((o,u)=>{i.onerror=c=>{u(c.target.error)},i.onsuccess=c=>{o(c.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((u,c)=>{o.push(c)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(e,n){le(mr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Q(((r,s)=>{n.onerror=i=>{const o=Tx(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next((u=>{u?o.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void s();const c=new fU(u),d=n(u.primaryKey,u.value,c);if(d instanceof Q){const p=d.catch((g=>(c.done(),Q.reject(g))));r.push(p)}c.isDone?s():c.G===null?u.continue():u.continue(c.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function tl(t){return new Q(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Tx(r.target.error);n(s)}}))}let HT=!1;function Tx(t){const e=Ka.M(on());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HT||(HT=!0,setTimeout((()=>{throw r}),0)),r}}return t}const wd="IndexBackfiller";class mU{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){le(wd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();le(wd,`Documents written: ${n}`)}catch(n){lo(n)?le(wd,"Ignoring IndexedDB error during index backfill: ",n):await Ol(n)}await this.re(6e4)}))}}class gU{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Q.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return le(wd,`Processing collection: ${o}`),this.oe(e,o,s).next((u=>{s-=u,r.add(o)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(s,i))).next((u=>(le(wd,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const o=cN(i);kx(o,r)>0&&(r=o)})),new xr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Fr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fr.ce=-1;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const hl=-1;function oy(t){return t==null}function Ld(t){return t===0&&1/t==-1/0}function yU(t){return typeof t=="number"&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const pg="";function Mn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KT(e)),e=vU(t.get(n),e);return KT(e)}function vU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case pg:n+="";break;default:n+=i}}return n}function KT(t){return t+pg+""}function Ls(t){const e=t.length;if(Ie(e>=2,64408,{path:t}),e===2)return Ie(t.charAt(0)===pg&&t.charAt(1)==="",56145,{path:t}),at.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(pg,i);switch((o<0||o>n)&&Se(50515,{path:t}),t.charAt(o+1)){case"":const u=t.substring(i,o);let c;s.length===0?c=u:(s+=u,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:Se(61167,{path:t})}i=o+2}return new at(r)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Jo="remoteDocuments",mf="owner",Cu="owner",Fd="mutationQueues",wU="userId",ss="mutations",GT="batchId",il="userMutationsIndex",QT=["userId","batchId"];/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Mm(t,e){return[t,Mn(e)]}function pN(t,e,n){return[t,Mn(e),n]}const bU={},pc="documentMutations",mg="remoteDocumentsV14",xU=["prefixPath","collectionGroup","readTime","documentId"],Am="documentKeyIndex",EU=["prefixPath","collectionGroup","documentId"],mN="collectionGroupIndex",SU=["collectionGroup","readTime","prefixPath","documentId"],Ud="remoteDocumentGlobal",$w="remoteDocumentGlobalKey",mc="targets",gN="queryTargetsIndex",kU=["canonicalId","targetId"],gc="targetDocuments",TU=["targetId","path"],_x="documentTargetsIndex",_U=["path","targetId"],gg="targetGlobalKey",dl="targetGlobal",Vd="collectionParents",IU=["collectionId","parent"],yc="clientMetadata",CU="clientId",ly="bundles",PU="bundleId",uy="namedQueries",NU="name",Ix="indexConfiguration",RU="indexId",qw="collectionGroupIndex",DU="collectionGroup",bd="indexState",MU=["indexId","uid"],yN="sequenceNumberIndex",AU=["uid","sequenceNumber"],xd="indexEntries",jU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vN="documentKeyIndex",OU=["indexId","uid","orderedDocumentKey"],cy="documentOverlays",LU=["userId","collectionPath","documentId"],Ww="collectionPathOverlayIndex",FU=["userId","collectionPath","largestBatchId"],wN="collectionGroupOverlayIndex",UU=["userId","collectionGroup","largestBatchId"],Cx="globals",VU="name",bN=[Fd,ss,pc,Jo,mc,mf,dl,gc,yc,Ud,Vd,ly,uy],zU=[...bN,cy],xN=[Fd,ss,pc,mg,mc,mf,dl,gc,yc,Ud,Vd,ly,uy,cy],EN=xN,Px=[...EN,Ix,bd,xd],BU=Px,SN=[...Px,Cx],$U=SN;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Hw extends dN{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function ln(t,e){const n=Ue(t);return Ka.O(n.le,e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function XT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class St{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??xn.RED,this.left=s??xn.EMPTY,this.right=i??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new xn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,e,n,r,s){return this}insert(t,e,n){return new xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ut{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pu(t){return t.hasNext()?t.getNext():void 0}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tr{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new tr([])}unionWith(e){let n=new ut(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class TN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TN("Invalid base64 string: "+s):s}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const qU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=qU.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const _N="server_timestamp",IN="__type__",CN="__previous_value__",PN="__local_write_time__";function Nx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[IN])==null?void 0:n.stringValue)===_N}function hy(t){const e=t.mapValue.fields[CN];return Nx(e)?hy(e):e}function zd(t){const e=ji(t.mapValue.fields[PN].timestampValue);return new rt(e.seconds,e.nanos)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class WU{constructor(e,n,r,s,i,o,u,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const yg="(default)";class El{constructor(e,n){this.projectId=e,this.database=n||yg}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===yg}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Rx="__type__",NN="__max__",$a={mapValue:{fields:{__type__:{stringValue:NN}}}},Dx="__vector__",vc="value",jm={nullValue:"NULL_VALUE"};function Ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nx(t)?4:RN(t)?9007199254740991:dy(t)?10:11:Se(28295,{value:t})}function Qs(t,e){if(t===e)return!0;const n=Ya(t);if(n!==Ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zd(t).isEqual(zd(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=ji(r.timestampValue),o=ji(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,s){return Oi(r.bytesValue).isEqual(Oi(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,s){return xt(r.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(s.geoPointValue.longitude)})(t,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return xt(r.integerValue)===xt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=xt(r.doubleValue),o=xt(s.doubleValue);return i===o?Ld(i)===Ld(o):isNaN(i)&&isNaN(o)}return!1})(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],Qs);case 10:case 11:return(function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(XT(i)!==XT(o))return!1;for(const u in i)if(i.hasOwnProperty(u)&&(o[u]===void 0||!Qs(i[u],o[u])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Bd(t,e){return(t.values||[]).find((n=>Qs(n,e)))!==void 0}function Ja(t,e){if(t===e)return 0;const n=Ya(t),r=Ya(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(s,i){const o=xt(s.integerValue||s.doubleValue),u=xt(i.integerValue||i.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1})(t,e);case 3:return JT(t.timestampValue,e.timestampValue);case 4:return JT(zd(t),zd(e));case 5:return zw(t.stringValue,e.stringValue);case 6:return(function(s,i){const o=Oi(s),u=Oi(i);return o.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,i){const o=s.split("/"),u=i.split("/");for(let c=0;c<o.length&&c<u.length;c++){const d=Fe(o[c],u[c]);if(d!==0)return d}return Fe(o.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,i){const o=Fe(xt(s.latitude),xt(i.latitude));return o!==0?o:Fe(xt(s.longitude),xt(i.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ZT(t.arrayValue,e.arrayValue);case 10:return(function(s,i){var o,u,c,d;const p=s.fields||{},g=i.fields||{},v=(o=p[vc])==null?void 0:o.arrayValue,S=(u=g[vc])==null?void 0:u.arrayValue,I=Fe(((c=v==null?void 0:v.values)==null?void 0:c.length)||0,((d=S==null?void 0:S.values)==null?void 0:d.length)||0);return I!==0?I:ZT(v,S)})(t.mapValue,e.mapValue);case 11:return(function(s,i){if(s===$a.mapValue&&i===$a.mapValue)return 0;if(s===$a.mapValue)return 1;if(i===$a.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=i.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=zw(u[p],d[p]);if(g!==0)return g;const v=Ja(o[u[p]],c[d[p]]);if(v!==0)return v}return Fe(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function JT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ji(t),r=ji(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function ZT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ja(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function wc(t){return Kw(t)}function Kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(e){const n=ji(e);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(e){return Oi(e).toBase64()})(t.bytesValue):"referenceValue"in t?(function(e){return de.fromName(e).toString()})(t.referenceValue):"geoPointValue"in t?(function(e){return`geo(${e.latitude},${e.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(e){let n="[",r=!0;for(const s of e.values||[])r?r=!1:n+=",",n+=Kw(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(e){const n=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const i of n)s?s=!1:r+=",",r+=`${i}:${Kw(e.fields[i])}`;return r+"}"})(t.mapValue):Se(61005,{value:t})}function Om(t){switch(Ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hy(t);return e?16+Om(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+Om(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let r=0;return uo(n.fields,((s,i)=>{r+=s.length+Om(i)})),r})(t.mapValue);default:throw Se(13486,{value:t})}}function $d(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gw(t){return!!t&&"integerValue"in t}function qd(t){return!!t&&"arrayValue"in t}function e_(t){return!!t&&"nullValue"in t}function t_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lm(t){return!!t&&"mapValue"in t}function dy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)==null?void 0:e.fields)||{})[Rx])==null?void 0:n.stringValue)===Dx}function Ed(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ed(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ed(t.arrayValue.values[n]);return e}return{...t}}function RN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NN}const DN={mapValue:{fields:{[Rx]:{stringValue:Dx},[vc]:{arrayValue:{}}}}};function HU(t){return"nullValue"in t?jm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$d(El.empty(),de.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?dy(t)?DN:{mapValue:{}}:Se(35942,{value:t})}function KU(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$d(El.empty(),de.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?DN:"mapValue"in t?dy(t)?{mapValue:{}}:$a:Se(61959,{value:t})}function n_(t,e){const n=Ja(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function r_(t,e){const n=Ja(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(n)}setAll(e){let n=_t.emptyPath(),r={},s=[];e.forEach(((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=Ed(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){uo(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Nn(Ed(this.value))}}function MN(t){const e=[];return uo(t.fields,((n,r)=>{const s=new _t([n]);if(Lm(r)){const i=MN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new tr(e)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class At{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new At(e,0,Pe.min(),Pe.min(),Pe.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,Pe.min(),Pe.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,Pe.min(),Pe.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class bc{constructor(e,n){this.position=e,this.inclusive=n}}function s_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Ja(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function i_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qs(t.position[n],e.position[n]))return!1;return!0}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function GU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class AN{}class Ge extends AN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QU(e,n,r):n==="array-contains"?new JU(e,r):n==="in"?new VN(e,r):n==="not-in"?new ZU(e,r):n==="array-contains-any"?new eV(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XU(e,r):new YU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Ya(this.value)===Ya(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends AN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lt(e,n)}matches(e){return xc(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xc(t){return t.op==="and"}function Qw(t){return t.op==="or"}function Mx(t){return jN(t)&&xc(t)}function jN(t){for(const e of t.filters)if(e instanceof lt)return!1;return!0}function Xw(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+wc(t.value);if(Mx(t))return t.filters.map((e=>Xw(e))).join(",");{const e=t.filters.map((n=>Xw(n))).join(",");return`${t.op}(${e})`}}function ON(t,e){return t instanceof Ge?(function(n,r){return r instanceof Ge&&n.op===r.op&&n.field.isEqual(r.field)&&Qs(n.value,r.value)})(t,e):t instanceof lt?(function(n,r){return r instanceof lt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,i,o)=>s&&ON(i,r.filters[o])),!0):!1})(t,e):void Se(19439)}function LN(t,e){const n=t.filters.concat(e);return lt.create(n,t.op)}function FN(t){return t instanceof Ge?(function(e){return`${e.field.canonicalString()} ${e.op} ${wc(e.value)}`})(t):t instanceof lt?(function(e){return e.op.toString()+" {"+e.getFilters().map(FN).join(" ,")+"}"})(t):"Filter"}class QU extends Ge{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class XU extends Ge{constructor(e,n){super(e,"in",n),this.keys=UN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YU extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=UN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function UN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class JU extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qd(n)&&Bd(n.arrayValue,this.value)}}class VN extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bd(this.value.arrayValue,n)}}class ZU extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bd(this.value.arrayValue,n)}}class eV extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Bd(this.value.arrayValue,r)))}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class tV{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function Yw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tV(t,e,n,r,s,i,o)}function Sl(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),oy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wc(r))).join(",")),e.Te=n}return e.Te}function gf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ON(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i_(t.startAt,e.startAt)&&i_(t.endAt,e.endAt)}function vg(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wg(t,e){return t.filters.filter((n=>n instanceof Ge&&n.field.isEqual(e)))}function a_(t,e,n){let r=jm,s=!0;for(const i of wg(t,e)){let o=jm,u=!0;switch(i.op){case"<":case"<=":o=HU(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,u=!1;break;case"!=":case"not-in":o=jm}n_({value:r,inclusive:s},{value:o,inclusive:u})<0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];n_({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function o_(t,e,n){let r=$a,s=!0;for(const i of wg(t,e)){let o=$a,u=!0;switch(i.op){case">=":case">":o=KU(i.value),u=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,u=!1;break;case"!=":case"not-in":o=$a}r_({value:r,inclusive:s},{value:o,inclusive:u})>0&&(r=o,s=u)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];r_({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dc{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nV(t,e,n,r,s,i,o,u){return new Dc(t,e,n,r,s,i,o,u)}function yf(t){return new Dc(t)}function l_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function Sd(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let i=new ut(_t.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(i=i.add(u.field))}))})),i})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Wd(s,r))})),n.has(_t.keyField().canonicalString())||e.Ie.push(new Wd(_t.keyField(),r))}return e.Ie}function zr(t){const e=Ue(t);return e.Ee||(e.Ee=rV(e,Sd(t))),e.Ee}function rV(t,e){if(t.limitType==="F")return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Wd(s.field,i)}));const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return Yw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jw(t,e){const n=t.filters.concat([e]);return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bg(t,e,n){return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fy(t,e){return gf(zr(t),zr(e))&&t.limitType===e.limitType}function BN(t){return`${Sl(zr(t))}|lt:${t.limitType}`}function Qu(t){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((r=>FN(r))).join(", ")}]`),oy(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((r=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(r))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wc(r))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wc(r))).join(",")),`Target(${n})`})(zr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,r){for(const s of Sd(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(t,e)&&(function(n,r){return!(n.startAt&&!(function(s,i,o){const u=s_(s,i,o);return s.inclusive?u<=0:u<0})(n.startAt,Sd(n),r)||n.endAt&&!(function(s,i,o){const u=s_(s,i,o);return s.inclusive?u>=0:u>0})(n.endAt,Sd(n),r))})(t,e)}function sV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $N(t){return(e,n)=>{let r=!1;for(const s of Sd(t)){const i=iV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iV(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):(function(s,i,o){const u=i.data.field(s),c=o.data.field(s);return u!==null&&c!==null?Ja(u,c):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return kN(this.inner)}size(){return this.innerSize}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const aV=new St(de.comparator);function vr(){return aV}const qN=new St(de.comparator);function cd(...t){let e=qN;for(const n of t)e=e.insert(n.key,n);return e}function WN(t){let e=qN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fs(){return kd()}function HN(){return kd()}function kd(){return new Wi((t=>t.toString()),((t,e)=>t.isEqual(e)))}const oV=new St(de.comparator),lV=new ut(de.comparator);function We(...t){let e=lV;for(const n of t)e=e.add(n);return e}const uV=new ut(Fe);function cV(){return uV}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function KN(t){return{integerValue:""+t}}function hV(t,e){return yU(e)?KN(e):Ax(t,e)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class py{constructor(){this._=void 0}}function dV(t,e,n){return t instanceof Ec?(function(r,s){const i={fields:{[IN]:{stringValue:_N},[PN]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Nx(s)&&(s=hy(s)),s&&(i.fields[CN]=s),{mapValue:i}})(n,e):t instanceof Sc?QN(t,e):t instanceof kc?XN(t,e):(function(r,s){const i=GN(r,s),o=u_(i)+u_(r.Ae);return Gw(i)&&Gw(r.Ae)?KN(o):Ax(r.serializer,o)})(t,e)}function fV(t,e,n){return t instanceof Sc?QN(t,e):t instanceof kc?XN(t,e):n}function GN(t,e){return t instanceof Hd?(function(n){return Gw(n)||(function(r){return!!r&&"doubleValue"in r})(n)})(e)?e:{integerValue:0}:null}class Ec extends py{}class Sc extends py{constructor(e){super(),this.elements=e}}function QN(t,e){const n=YN(e);for(const r of t.elements)n.some((s=>Qs(s,r)))||n.push(r);return{arrayValue:{values:n}}}class kc extends py{constructor(e){super(),this.elements=e}}function XN(t,e){let n=YN(e);for(const r of t.elements)n=n.filter((s=>!Qs(s,r)));return{arrayValue:{values:n}}}class Hd extends py{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function u_(t){return xt(t.integerValue||t.doubleValue)}function YN(t){return qd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class JN{constructor(e,n){this.field=e,this.transform=n}}function pV(t,e){return t.field.isEqual(e.field)&&(function(n,r){return n instanceof Sc&&r instanceof Sc||n instanceof kc&&r instanceof kc?fc(n.elements,r.elements,Qs):n instanceof Hd&&r instanceof Hd?Qs(n.Ae,r.Ae):n instanceof Ec&&r instanceof Ec})(t.transform,e.transform)}class mV{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let my=class{};function ZN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gy(t.key,Rn.none()):new Mc(t.key,t.data,Rn.none());{const n=t.data,r=Nn.empty();let s=new ut(_t.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Hi(t.key,r,new tr(s.toArray()),Rn.none())}}function gV(t,e,n){t instanceof Mc?(function(r,s,i){const o=r.value.clone(),u=h_(r.fieldTransforms,s,i.transformResults);o.setAll(u),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Hi?(function(r,s,i){if(!Fm(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=h_(r.fieldTransforms,s,i.transformResults),u=s.data;u.setAll(eR(r)),u.setAll(o),s.convertToFoundDocument(i.version,u).setHasCommittedMutations()})(t,e,n):(function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()})(0,e,n)}function Td(t,e,n,r){return t instanceof Mc?(function(s,i,o,u){if(!Fm(s.precondition,i))return o;const c=s.value.clone(),d=d_(s.fieldTransforms,u,i);return c.setAll(d),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Hi?(function(s,i,o,u){if(!Fm(s.precondition,i))return o;const c=d_(s.fieldTransforms,u,i),d=i.data;return d.setAll(eR(s)),d.setAll(c),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,i,o){return Fm(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o})(t,e,n)}function yV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GN(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function c_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&fc(n,r,((s,i)=>pV(s,i)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends my{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Hi extends my{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function eR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function h_(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,fV(o,u,n[s]))}return r}function d_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,dV(i,o,e))}return r}class gy extends my{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tR extends my{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jx{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HN();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=ZN(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),We())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,((n,r)=>c_(n,r)))&&fc(this.baseMutations,e.baseMutations,((n,r)=>c_(n,r)))}}class Ox{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return oV})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ox(e,n,r,s)}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Jt,Ye;function wV(t){switch(t){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function nR(t){if(t===void 0)return Ln("GRPC error has no .code"),te.UNKNOWN;switch(t){case Jt.OK:return te.OK;case Jt.CANCELLED:return te.CANCELLED;case Jt.UNKNOWN:return te.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return te.INTERNAL;case Jt.UNAVAILABLE:return te.UNAVAILABLE;case Jt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Jt.NOT_FOUND:return te.NOT_FOUND;case Jt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Jt.ABORTED:return te.ABORTED;case Jt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Jt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:t})}}(Ye=Jt||(Jt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bV(){return new TextEncoder}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const xV=new Ha([4294967295,4294967295],0);function f_(t){const e=bV().encode(t),n=new ZP;return n.update(e),new Uint8Array(n.digest())}function p_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([s,i],0)]}class Fx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hd(`Invalid padding: ${n}`);if(r<0)throw new hd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ha.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ha.fromNumber(r)));return s.compare(xV)===1&&(s=new Ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f_(e),[r,s]=p_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Fx(i,s,n);return r.forEach((u=>o.insert(u))),o}insert(e){if(this.ge===0)return;const n=f_(e),[r,s]=p_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class yy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yy(Pe.min(),s,new St(Fe),vr(),We())}}class wf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,We(),We(),We())}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Um{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rR{constructor(e,n){this.targetId=e,this.Ce=n}}class sR{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class m_{constructor(){this.ve=0,this.Fe=g_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}})),new wf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=g_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EV{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=nm(),this.He=nm(),this.Ye=new St(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(vg(i))if(r===0){const o=new de(i.path);this.et(n,o,At.newNoDocument(o,Pe.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=Oi(r).toUint8Array()}catch(c){if(c instanceof TN)return xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Fx(o,s,i)}catch(c){return xl(c instanceof hd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const u=this.ot(o);if(u){if(i.current&&vg(u.target)){const c=new de(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,At.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=We();this.He.forEach(((i,o)=>{let u=!0;o.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new yy(e,n,this.Ye,this.je,r);return this.je=vr(),this.Je=nm(),this.He=nm(),this.Ye=new St(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new m_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ut(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ut(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nm(){return new St(de.comparator)}function g_(){return new St(de.comparator)}const SV={asc:"ASCENDING",desc:"DESCENDING"},kV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TV={and:"AND",or:"OR"};class _V{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zw(t,e){return t.useProto3Json||oy(e)?e:{value:e}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IV(t,e){return Tc(t,e.toTimestamp())}function zn(t){return Ie(!!t,49232),Pe.fromTimestamp((function(e){const n=ji(e);return new rt(n.seconds,n.nanos)})(t))}function Ux(t,e){return eb(t,e).canonicalString()}function eb(t,e){const n=(function(r){return new at(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function aR(t){const e=at.fromString(t);return Ie(mR(e),10190,{key:e.toString()}),e}function xg(t,e){return Ux(t.databaseId,e.path)}function fl(t,e){const n=aR(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(uR(n))}function oR(t,e){return Ux(t.databaseId,e)}function lR(t){const e=aR(t);return e.length===4?at.emptyPath():uR(e)}function tb(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uR(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y_(t,e,n){return{name:xg(t,e),fields:n.value.mapValue.fields}}function CV(t,e,n){const r=fl(t,e.name),s=zn(e.updateTime),i=e.createTime?zn(e.createTime):Pe.min(),o=new Nn({mapValue:{fields:e.fields}}),u=At.newFoundDocument(r,s,i,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function PV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(c,d){return c.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),tn.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),tn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(c){const d=c.code===void 0?te.UNKNOWN:nR(c.code);return new ce(d,c.message||"")})(o);n=new sR(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fl(t,r.document.name),i=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):Pe.min(),u=new Nn({mapValue:{fields:r.document.fields}}),c=At.newFoundDocument(s,i,o,u),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Um(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fl(t,r.document),i=r.readTime?zn(r.readTime):Pe.min(),o=At.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Um([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fl(t,r.document),i=r.removedTargetIds||[];n=new Um([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new vV(s,i),u=r.targetId;n=new rR(u,o)}}return n}function Eg(t,e){let n;if(e instanceof Mc)n={update:y_(t,e.key,e.value)};else if(e instanceof gy)n={delete:xg(t,e.key)};else if(e instanceof Hi)n={update:y_(t,e.key,e.data),updateMask:jV(e.fieldMask)};else{if(!(e instanceof tR))return Se(16599,{Vt:e.type});n={verify:xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,i){const o=i.transform;if(o instanceof Ec)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof kc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hd)return{fieldPath:i.field.canonicalString(),increment:o.Ae};throw Se(20930,{transform:i.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:IV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se(27497)})(t,e.precondition)),n}function nb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?Rn.updateTime(zn(s.updateTime)):s.exists!==void 0?Rn.exists(s.exists):Rn.none()})(e.currentDocument):Rn.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(i,o){let u=null;if("setToServerValue"in o)Ie(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),u=new Ec;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];u=new Sc(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];u=new kc(d)}else"increment"in o?u=new Hd(i,o.increment):Se(16584,{proto:o});const c=_t.fromServerFormat(o.fieldPath);return new JN(c,u)})(t,s))):[];if(e.update){e.update.name;const s=fl(t,e.update.name),i=new Nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const c=u.fieldPaths||[];return new tr(c.map((d=>_t.fromServerFormat(d))))})(e.updateMask);return new Hi(s,i,o,n,r)}return new Mc(s,i,n,r)}if(e.delete){const s=fl(t,e.delete);return new gy(s,n)}if(e.verify){const s=fl(t,e.verify);return new tR(s,n)}return Se(1463,{proto:e})}function NV(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map((n=>(function(r,s){let i=r.updateTime?zn(r.updateTime):zn(s);return i.isEqual(Pe.min())&&(i=zn(s)),new mV(i,r.transformResults||[])})(n,e)))):[]}function cR(t,e){return{documents:[oR(t,e.path)]}}function hR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oR(t,s);const i=(function(c){if(c.length!==0)return pR(lt.create(c,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:Xu(p.field),direction:DV(p.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Zw(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:s}}function dR(t){let e=lR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(p){const g=fR(p);return g instanceof lt&&Mx(g)?g.getFilters():[g]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((g=>(function(v){return new Wd(Yu(v.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(g)))})(n.orderBy));let u=null;n.limit&&(u=(function(p){let g;return g=typeof p=="object"?p.value:p,oy(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,v=p.values||[];return new bc(v,g)})(n.startAt));let d=null;return n.endAt&&(d=(function(p){const g=!p.before,v=p.values||[];return new bc(v,g)})(n.endAt)),nV(e,s,o,i,u,"F",c,d)}function RV(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fR(t){return t.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Yu(e.unaryFilter.field);return Ge.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Yu(e.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Yu(e.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yu(e.unaryFilter.field);return Ge.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(e){return Ge.create(Yu(e.fieldFilter.field),(function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(e){return lt.create(e.compositeFilter.filters.map((n=>fR(n))),(function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(e.compositeFilter.op))})(t):Se(30097,{filter:t})}function DV(t){return SV[t]}function MV(t){return kV[t]}function AV(t){return TV[t]}function Xu(t){return{fieldPath:t.canonicalString()}}function Yu(t){return _t.fromServerFormat(t.fieldPath)}function pR(t){return t instanceof Ge?(function(e){if(e.op==="=="){if(t_(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NAN"}};if(e_(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(t_(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NAN"}};if(e_(e.value))return{unaryFilter:{field:Xu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(e.field),op:MV(e.op),value:e.value}}})(t):t instanceof lt?(function(e){const n=e.getFilters().map((r=>pR(r)));return n.length===1?n[0]:{compositeFilter:{op:AV(e.op),filters:n}}})(t):Se(54877,{filter:t})}function jV(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pi{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),u=tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class gR{constructor(e){this.yt=e}}function OV(t,e){let n;if(e.document)n=CV(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=de.fromSegments(e.noDocument.path),s=Tl(e.noDocument.readTime);n=At.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Se(56709);{const r=de.fromSegments(e.unknownDocument.path),s=Tl(e.unknownDocument.version);n=At.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(r){const s=new rt(r[0],r[1]);return Pe.fromTimestamp(s)})(e.readTime)),n}function v_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,i){return{name:xg(s,i.key),fields:i.data.value.mapValue.fields,updateTime:Tc(s,i.version.toTimestamp()),createTime:Tc(s,i.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:kl(e.version)};else{if(!e.isUnknownDocument())return Se(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:kl(e.version)}}return r}function Sg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function kl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tl(t){const e=new rt(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function nl(t,e){const n=(e.baseMutations||[]).map((i=>nb(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>nb(t.yt,i))),s=rt.fromMillis(e.localWriteTimeMs);return new jx(e.batchId,s,n,r)}function dd(t){const e=Tl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Tl(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const i=s.documents.length;return Ie(i===1,1966,{count:i}),zr(yf(lR(s.documents[0])))})(t.query):(function(s){return zr(dR(s))})(t.query),new Pi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,tn.fromBase64String(t.resumeToken))}function yR(t,e){const n=kl(e.snapshotVersion),r=kl(e.lastLimboFreeSnapshotVersion);let s;s=vg(e.target)?cR(t.yt,e.target):hR(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function vR(t){const e=dR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bg(e,e.limit,"L"):e}function N0(t,e){return new Lx(e.largestBatchId,nb(t.yt,e.overlayMutation))}function w_(t,e){const n=e.path.lastSegment();return[t,Mn(e.path.popLast()),n]}function b_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:kl(r.readTime),documentKey:Mn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class LV{getBundleMetadata(e,n){return x_(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Tl(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return x_(e).put((function(r){return{bundleId:r.id,createTime:kl(zn(r.createTime)),version:r.version}})(n))}getNamedQuery(e,n){return E_(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:vR(s.bundledQuery),readTime:Tl(s.readTime)}})(r)}))}saveNamedQuery(e,n){return E_(e).put((function(r){return{name:r.name,readTime:kl(zn(r.readTime)),bundledQuery:r.bundledQuery}})(n))}}function x_(t){return ln(t,ly)}function E_(t){return ln(t,uy)}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class vy{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new vy(e,r)}getOverlay(e,n){return Fh(e).get(w_(this.userId,n)).next((r=>r?N0(this.serializer,r):null))}getOverlays(e,n){const r=Fs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,o)=>{const u=new Lx(n,o);s.push(this.St(e,u))})),Q.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((o=>s.add(Mn(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(Fh(e).Z(Ww,u))})),Q.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Fs(),i=Mn(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Fh(e).J(Ww,o).next((u=>{for(const c of u){const d=N0(this.serializer,c);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Fs();let o;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Fh(e).ee({index:wN,range:u},((c,d,p)=>{const g=N0(this.serializer,d);i.size()<s||g.largestBatchId===o?(i.set(g.getKey(),g),o=g.largestBatchId):p.done()})).next((()=>i))}St(e,n){return Fh(e).put((function(r,s,i){const[o,u,c]=w_(s,i.mutation.key);return{userId:s,collectionPath:u,documentId:c,collectionGroup:i.mutation.key.getCollectionGroup(),largestBatchId:i.largestBatchId,overlayMutation:Eg(r.yt,i.mutation)}})(this.serializer,this.userId,n))}}function Fh(t){return ln(t,cy)}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class FV{bt(e){return ln(e,Cx)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?tn.fromUint8Array(r):tn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xt(e.integerValue));else if("doubleValue"in e){const r=xt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ld(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ji(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Oi(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?RN(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):dy(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Se(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var r,s;const i=e.fields||{};this.Ft(n,53);const o=vc,u=((s=(r=i[o].arrayValue)==null?void 0:r.values)==null?void 0:s.length)||0;this.Ft(n,15),n.Mt(xt(u)),this.Ot(o,n),this.Ct(i[o],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),de.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}rl.Kt=new rl;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law | agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Nu=255;function UV(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function S_(t){const e=64-(function(n){let r=0;for(let s=0;s<8;++s){const i=UV(255&n[s]);if(r+=i,i!==8)break}return r})(t);return Math.ceil(e/8)}class VV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=S_(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=S_(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Nu),this.sn(255)}_n(){this.an(Nu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const i=new DataView(new ArrayBuffer(8));return i.setFloat64(0,s,!1),new Uint8Array(i.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Nu?(this.sn(Nu),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Nu?(this.an(Nu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class zV{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class BV{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Uh{constructor(){this.cn=new VV,this.ln=new zV(this.cn),this.hn=new BV(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class sl{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new sl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Vm(this.En),directionalValue:Vm(this.dn),orderedDocumentKey:Vm(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Ca(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=k_(t.En,e.En),n!==0?n:(n=k_(t.dn,e.dn),n!==0?n:de.comparator(t.In,e.In)))}function k_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Vm(t){return hP()?(function(e){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return n})(t):t}function T_(t){return typeof t!="string"?t:(function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(t)}class __{constructor(e){this.mn=new ut(((n,r)=>_t.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Bw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Yo(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!s.has(u.field.canonicalString())){const c=r[i];if(!this.Sn(u,c)||!this.bn(this.fn[o++],c))return!1}++i}for(;i<r.length;++i){const u=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new ut(_t.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Dm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Dm(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Dm(r.field,r.dir==="asc"?0:1)));return new fg(fg.UNKNOWN_ID,this.collectionId,n,Od.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function wR(t){var e,n;if(Ie(t instanceof Ge||t instanceof lt,20012),t instanceof Ge){if(t instanceof VN){const s=((n=(e=t.value.arrayValue)==null?void 0:e.values)==null?void 0:n.map((i=>Ge.create(t.field,"==",i))))||[];return lt.create(s,"or")}return t}const r=t.filters.map((s=>wR(s)));return lt.create(r,t.op)}function $V(t){if(t.getFilters().length===0)return[];const e=ib(wR(t));return Ie(bR(e),7391),rb(e)||sb(e)?[e]:e.getFilters()}function rb(t){return t instanceof Ge}function sb(t){return t instanceof lt&&Mx(t)}function bR(t){return rb(t)||sb(t)||(function(e){if(e instanceof lt&&Qw(e)){for(const n of e.getFilters())if(!rb(n)&&!sb(n))return!1;return!0}return!1})(t)}function ib(t){if(Ie(t instanceof Ge||t instanceof lt,34018),t instanceof Ge)return t;if(t.filters.length===1)return ib(t.filters[0]);const e=t.filters.map((r=>ib(r)));let n=lt.create(e,t.op);return n=kg(n),bR(n)?n:(Ie(n instanceof lt,64498),Ie(xc(n),40251),Ie(n.filters.length>1,57927),n.filters.reduce(((r,s)=>Vx(r,s))))}function Vx(t,e){let n;return Ie(t instanceof Ge||t instanceof lt,38388),Ie(e instanceof Ge||e instanceof lt,25473),n=t instanceof Ge?e instanceof Ge?(function(r,s){return lt.create([r,s],"and")})(t,e):I_(t,e):e instanceof Ge?I_(e,t):(function(r,s){if(Ie(r.filters.length>0&&s.filters.length>0,48005),xc(r)&&xc(s))return LN(r,s.getFilters());const i=Qw(r)?r:s,o=Qw(r)?s:r,u=i.filters.map((c=>Vx(c,o)));return lt.create(u,"or")})(t,e),kg(n)}function I_(t,e){if(xc(e))return LN(e,t.getFilters());{const n=e.filters.map((r=>Vx(t,r)));return lt.create(n,"or")}}function kg(t){if(Ie(t instanceof Ge||t instanceof lt,11850),t instanceof Ge)return t;const e=t.getFilters();if(e.length===1)return kg(e[0]);if(jN(t))return t;const n=e.map((s=>kg(s))),r=[];return n.forEach((s=>{s instanceof Ge?r.push(s):s instanceof lt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:lt.create(r,t.op)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qV{constructor(){this.Cn=new zx}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(xr.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class zx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ut(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ut(at.comparator)).toArray()}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const C_="IndexedDbIndexManager",rm=new Uint8Array(0);class WV{constructor(e,n){this.databaseId=n,this.vn=new zx,this.Fn=new Wi((r=>Sl(r)),((r,s)=>gf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Mn(s)};return P_(e).put(i)}return Q.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[oN(n),""],!1,!0);return P_(e).J(s).next((i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Ls(o.parent))}return r}))}addFieldIndex(e,n){const r=Vh(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=Du(e);return i.next((u=>{o.put(b_(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Vh(e),s=Du(e),i=Ru(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Vh(e),r=Ru(e),s=Du(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new __(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Ru(e);let s=!0;const i=new Map;return Q.forEach(this.Mn(n),(o=>this.xn(e,o).next((u=>{s&&(s=!!u),i.set(o,u)})))).next((()=>{if(s){let o=We();const u=[];return Q.forEach(i,((c,d)=>{le(C_,`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map((j=>`${j.fieldPath}:${j.kind}`)).join(",")}`})(c)} to execute ${Sl(n)}`);const p=(function(D,j){const V=Bw(j);if(V===void 0)return null;for(const B of wg(D,V.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null})(d,c),g=(function(D,j){const V=new Map;for(const B of Yo(j))for(const H of wg(D,B.fieldPath))switch(H.op){case"==":case"in":V.set(B.fieldPath.canonicalString(),H.value);break;case"not-in":case"!=":return V.set(B.fieldPath.canonicalString(),H.value),Array.from(V.values())}return null})(d,c),v=(function(D,j){const V=[];let B=!0;for(const H of Yo(j)){const M=H.kind===0?a_(D,H.fieldPath,D.startAt):o_(D,H.fieldPath,D.startAt);V.push(M.value),B&&(B=M.inclusive)}return new bc(V,B)})(d,c),S=(function(D,j){const V=[];let B=!0;for(const H of Yo(j)){const M=H.kind===0?o_(D,H.fieldPath,D.endAt):a_(D,H.fieldPath,D.endAt);V.push(M.value),B&&(B=M.inclusive)}return new bc(V,B)})(d,c),I=this.On(c,d,v),T=this.On(c,d,S),_=this.Nn(c,d,g),N=this.Bn(c.indexId,p,I,v.inclusive,T,S.inclusive,_);return Q.forEach(N,(D=>r.Y(D,n.limit).next((j=>{j.forEach((V=>{const B=de.fromSegments(V.documentKey);o.has(B)||(o=o.add(B),u.push(B))}))}))))})).next((()=>u))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=$V(lt.create(e.filters,"and")).map((r=>Yw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,u){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),d=c/(n!=null?n.length:1),p=[];for(let g=0;g<c;++g){const v=n?this.Ln(n[g/d]):rm,S=this.kn(e,v,r[g%d],s),I=this.qn(e,v,i[g%d],o),T=u.map((_=>this.kn(e,v,_,!0)));p.push(...this.createRange(S,I,T))}return p}kn(e,n,r,s){const i=new sl(e,de.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new sl(e,de.empty(),n,r);return s?i.An():i}xn(e,n){const r=new __(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let o=null;for(const u of i)r.yn(u)&&(!o||u.fields.length>o.fields.length)&&(o=u);return o}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Q.forEach(s,(i=>this.xn(e,i).next((o=>{o?r!==0&&o.fields.length<(function(u){let c=new ut(_t.comparator),d=!1;for(const p of u.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:c=c.add(g.field));for(const p of u.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(i){return i.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Uh;for(const s of Yo(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);rl.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new Uh;return rl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Uh;return rl.Kt.Dt($d(this.databaseId,n),r.Pn((function(s){const i=Yo(s);return i.length===0?0:i[i.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Uh);let i=0;for(const o of Yo(e)){const u=r[i++];for(const c of s)if(this.Un(n,o.fieldPath)&&qd(u))s=this.Kn(s,o,u);else{const d=c.Pn(o.kind);rl.Kt.Dt(u,d)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const u of s){const c=new Uh;c.seed(u.un()),rl.Kt.Dt(o,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof Ge&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Vh(e),s=Du(e);return(n?r.J(qw,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const o=[];return Q.forEach(i,(u=>s.get([u.indexId,this.uid]).next((c=>{o.push((function(d,p){const g=p?new Od(p.sequenceNumber,new xr(Tl(p.readTime),new de(Ls(p.documentKey)),p.largestBatchId)):Od.empty(),v=d.fields.map((([S,I])=>new Dm(_t.fromServerFormat(S),I)));return new fg(d.indexId,d.collectionGroup,v,g)})(u,c))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fe(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Vh(e),i=Du(e);return this.Gn(e).next((o=>s.J(qw,IDBKeyRange.bound(n,n)).next((u=>Q.forEach(u,(c=>i.put(b_(c.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((s,i)=>{const o=r.get(s.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next((u=>(r.set(s.collectionGroup,u),Q.forEach(u,(c=>this.zn(e,s,c).next((d=>{const p=this.jn(i,c);return d.isEqual(p)?Q.resolve():this.Jn(e,i,c,d,p)})))))))}))}Hn(e,n,r,s){return Ru(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Ru(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Ru(e);let i=new ut(Ca);return s.ee({index:vN,range:IDBKeyRange.only([r.indexId,this.uid,Vm(this.$n(r,n))])},((o,u)=>{i=i.add(new sl(r.indexId,n,T_(u.arrayValue),T_(u.directionalValue)))})).next((()=>i))}jn(e,n){let r=new ut(Ca);const s=this.Qn(n,e);if(s==null)return r;const i=Bw(n);if(i!=null){const o=e.data.field(i.fieldPath);if(qd(o))for(const u of o.arrayValue.values||[])r=r.add(new sl(n.indexId,e.key,this.Ln(u),s))}else r=r.add(new sl(n.indexId,e.key,rm,s));return r}Jn(e,n,r,s,i){le(C_,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,c,d,p,g){const v=u.getIterator(),S=c.getIterator();let I=Pu(v),T=Pu(S);for(;I||T;){let _=!1,N=!1;if(I&&T){const D=d(I,T);D<0?N=!0:D>0&&(_=!0)}else I!=null?N=!0:_=!0;_?(p(T),T=Pu(S)):N?(g(I),I=Pu(v)):(I=Pu(v),T=Pu(S))}})(s,i,Ca,(u=>{o.push(this.Hn(e,n,r,u))}),(u=>{o.push(this.Yn(e,n,r,u))})),Q.waitFor(o)}Gn(e){let n=1;return Du(e).ee({index:yN,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,u)=>Ca(o,u))).filter(((o,u,c)=>!u||Ca(o,c[u-1])!==0));const s=[];s.push(e);for(const o of r){const u=Ca(o,e),c=Ca(o,n);if(u===0)s[0]=e.An();else if(u>0&&c<0)s.push(o),s.push(o.An());else if(c>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const u=s[o].Vn(this.uid,rm,de.empty()),c=s[o+1].Vn(this.uid,rm,de.empty());i.push(IDBKeyRange.bound(u,c))}return i}Zn(e,n){return Ca(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(N_)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||Se(44426))))).next(N_)}}function P_(t){return ln(t,Vd)}function Ru(t){return ln(t,xd)}function Vh(t){return ln(t,Ix)}function Du(t){return ln(t,bd)}function N_(t){Ie(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;kx(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new xr(e.readTime,e.documentKey,n)}/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xR=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ER(t,e,n){const r=t.store(ss),s=t.store(pc),i=[],o=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:o},((p,g,v)=>(u++,v.delete())));i.push(c.next((()=>{Ie(u===1,47070,{batchId:n.batchId})})));const d=[];for(const p of n.mutations){const g=pN(e,p.key.path,n.batchId);i.push(s.delete(g)),d.push(p.key)}return Q.waitFor(i).next((()=>d))}function Tg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Se(14731);e=t.noDocument}return JSON.stringify(e).length}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(xR,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class wy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){Ie(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new wy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).ee({index:il,range:r},((s,i,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Ju(e),o=Pa(e);return o.add({}).next((u=>{Ie(typeof u=="number",49019);const c=new jx(u,n,r,s),d=(function(v,S,I){const T=I.baseMutations.map((N=>Eg(v.yt,N))),_=I.mutations.map((N=>Eg(v.yt,N)));return{userId:S,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:T,mutations:_}})(this.serializer,this.userId,c),p=[];let g=new ut(((v,S)=>Fe(v.canonicalString(),S.canonicalString())));for(const v of s){const S=pN(this.userId,v.key.path,u);g=g.add(v.key.path.popLast()),p.push(o.put(d)),p.push(i.put(S,bU))}return g.forEach((v=>{p.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),Q.waitFor(p).next((()=>c))}))}lookupMutationBatch(e,n){return Pa(e).get(n).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),nl(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Pa(e).ee({index:il,range:s},((o,u,c)=>{u.userId===this.userId&&(Ie(u.batchId>=r,47524,{tr:r}),i=nl(this.serializer,u)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=hl;return Pa(e).ee({index:il,range:n,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,hl],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).J(il,n).next((r=>r.map((s=>nl(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Ju(e).ee({range:s},((o,u,c)=>{const[d,p,g]=o,v=Ls(p);if(d===this.userId&&n.path.isEqual(v))return Pa(e).get(g).next((S=>{if(!S)throw Se(61480,{nr:o,batchId:g});Ie(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:g}),i.push(nl(this.serializer,S))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);const s=[];return n.forEach((i=>{const o=Mm(this.userId,i.path),u=IDBKeyRange.lowerBound(o),c=Ju(e).ee({range:u},((d,p,g)=>{const[v,S,I]=d,T=Ls(S);v===this.userId&&i.path.isEqual(T)?r=r.add(I):g.done()}));s.push(c)})),Q.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Mm(this.userId,r),o=IDBKeyRange.lowerBound(i);let u=new ut(Fe);return Ju(e).ee({range:o},((c,d,p)=>{const[g,v,S]=c,I=Ls(v);g===this.userId&&r.isPrefixOf(I)?I.length===s&&(u=u.add(S)):p.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Pa(e).get(i).next((o=>{if(o===null)throw Se(35274,{batchId:i});Ie(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(nl(this.serializer,o))})))})),Q.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return ER(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(i){return[i]})(this.userId)),s=[];return Ju(e).ee({range:r},((i,o,u)=>{if(i[0]===this.userId){const c=Ls(i[1]);s.push(c)}else u.done()})).next((()=>{Ie(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return SR(e,this.userId,n)}_r(e){return kR(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:hl,lastStreamToken:""}))}}function SR(t,e,n){const r=Mm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Ju(t).ee({range:i,X:!0},((u,c,d)=>{const[p,g,v]=u;p===e&&g===s&&(o=!0),d.done()})).next((()=>o))}function Pa(t){return ln(t,ss)}function Ju(t){return ln(t,pc)}function kR(t){return ln(t,Fd)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class HV{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new _l(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Pe.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Mu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Mu(e).ee(((o,u)=>{const c=dd(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Q.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Mu(e).ee(((r,s)=>{const i=dd(s);n(i)}))}lr(e){return D_(e).get(gg).next((n=>(Ie(n!==null,2888),n)))}hr(e,n){return D_(e).put(gg,n)}Pr(e,n){return Mu(e).put(yR(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Sl(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Mu(e).ee({range:s,index:gN},((o,u,c)=>{const d=dd(u);gf(n,d.target)&&(i=d,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Ba(e);return n.forEach((o=>{const u=Mn(o.path);s.push(i.put({targetId:r,path:u})),s.push(this.referenceDelegate.addReference(e,r,o))})),Q.waitFor(s)}removeMatchingKeys(e,n,r){const s=Ba(e);return Q.forEach(n,(i=>{const o=Mn(i.path);return Q.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Ba(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Ba(e);let i=We();return s.ee({range:r,X:!0},((o,u,c)=>{const d=Ls(o[1]),p=new de(d);i=i.add(p)})).next((()=>i))}containsKey(e,n){const r=Mn(n.path),s=IDBKeyRange.bound([r],[oN(r)],!1,!0);let i=0;return Ba(e).ee({index:_x,X:!0,range:s},(([o,u],c,d)=>{o!==0&&(i++,d.done())})).next((()=>i>0))}At(e,n){return Mu(e).get(n).next((r=>r?dd(r):null))}}function Mu(t){return ln(t,mc)}function D_(t){return ln(t,dl)}function Ba(t){return ln(t,gc)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const M_="LruGarbageCollector",KV=1048576;function A_([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class GV{constructor(e){this.Ir=e,this.buffer=new ut(A_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();A_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(M_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?le(M_,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class QV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Fr.ce);const r=new GV(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(R_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Gu()<=Ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function _R(t,e){return new QV(t,e)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XV{constructor(e,n){this.db=e,this.garbageCollector=_R(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return sm(e,r)}removeReference(e,n,r){return sm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return sm(e,n)}br(e,n){return(function(r,s){let i=!1;return kR(r).te((o=>SR(r,o,s).next((u=>(u&&(i=!0),Q.resolve(!u)))))).next((()=>i))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((o,u)=>{if(u<=n){const c=this.br(e,o).next((d=>{if(!d)return i++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Pe.min()),Ba(e).delete((function(p){return[0,Mn(p.path)]})(o)))))}));s.push(c)}})).next((()=>Q.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return sm(e,n)}Sr(e,n){const r=Ba(e);let s,i=Fr.ce;return r.ee({index:_x},(([o,u],{path:c,sequenceNumber:d})=>{o===0?(i!==Fr.ce&&n(new de(Ls(s)),i),i=d,s=c):i=Fr.ce})).next((()=>{i!==Fr.ce&&n(new de(Ls(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sm(t,e){return Ba(t).put((function(n,r){return{targetId:0,path:Mn(n.path),sequenceNumber:r}})(e,t.currentSequenceNumber))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class IR{constructor(){this.changes=new Wi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class YV{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Uo(e).put(r)}removeEntry(e,n,r){return Uo(e).delete((function(s,i){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Sg(i),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=At.newInvalidDocument(n);return Uo(e).ee({index:Am,range:IDBKeyRange.only(zh(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:At.newInvalidDocument(n)};return Uo(e).ee({index:Am,range:IDBKeyRange.only(zh(n))},((s,i)=>{r={document:this.Cr(n,i),size:Tg(i)}})).next((()=>r))}getEntries(e,n){let r=vr();return this.Fr(e,n,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(e,n){let r=vr(),s=new St(de.comparator);return this.Fr(e,n,((i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u),s=s.insert(i,Tg(o))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let s=new ut(L_);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(zh(s.first()),zh(s.last())),o=s.getIterator();let u=o.getNext();return Uo(e).ee({index:Am,range:i},((c,d,p)=>{const g=de.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&L_(u,g)<0;)r(u,null),u=o.getNext();u&&u.isEqual(g)&&(r(u,d),u=o.hasNext()?o.getNext():null),u?p.j(zh(u)):p.done()})).next((()=>{for(;u;)r(u,null),u=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,u=[o.popLast().toArray(),o.lastSegment(),Sg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uo(e).J(IDBKeyRange.bound(u,c,!0)).next((d=>{i==null||i.incrementDocumentReadCount(d.length);let p=vr();for(const g of d){const v=this.Cr(de.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);v.isFoundDocument()&&(vf(n,v)||s.has(v.key))&&(p=p.insert(v.key,v))}return p}))}getAllFromCollectionGroup(e,n,r,s){let i=vr();const o=O_(n,r),u=O_(n,xr.max());return Uo(e).ee({index:mN,range:IDBKeyRange.bound(o,u,!0)},((c,d,p)=>{const g=this.Cr(de.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&p.done()})).next((()=>i))}newChangeBuffer(e){return new JV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return j_(e).get($w).next((n=>(Ie(!!n,20021),n)))}Dr(e,n){return j_(e).put($w,n)}Cr(e,n){if(n){const r=OV(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return At.newInvalidDocument(e)}}function CR(t){return new YV(t)}class JV extends IR{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Wi((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new ut(((i,o)=>Fe(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const u=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,u.readTime)),o.isValidDocument()){const c=v_(this.Nr.serializer,o);s=s.add(i.path.popLast());const d=Tg(c);r+=d-u.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=u.size,this.trackRemovals){const c=v_(this.Nr.serializer,o.convertToNoDocument(Pe.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function j_(t){return ln(t,Ud)}function Uo(t){return ln(t,mg)}function zh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function O_(t,e){const n=e.documentKey.path.toArray();return[t,Sg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function L_(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fe(n[i],r[i]),s)return s;return s=Fe(n.length,r.length),s||(s=Fe(n[n.length-2],r[r.length-2]),s||Fe(n[n.length-1],r[r.length-1]))}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ZV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class PR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Td(r.mutation,s,tr.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=We()){const s=Fs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=cd();return i.forEach(((u,c)=>{o=o.insert(u,c.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Fs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,We())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{n.set(o,u)}))}))}computeViews(e,n,r,s){let i=vr();const o=kd(),u=(function(){return kd()})();return n.forEach(((c,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Hi)?i=i.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),Td(p.mutation,d,p.mutation.getFieldMask(),rt.now())):o.set(d.key,tr.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((d,p)=>o.set(d,p))),n.forEach(((d,p)=>u.set(d,new ZV(p,o.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=kd();let s=new St(((o,u)=>o-u)),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const u of o)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||tr.empty();p=u.applyToLocalView(d,p),r.set(c,p);const g=(s.get(u.batchId)||We()).add(c);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,g=HN();p.forEach((v=>{if(!i.has(v)){const S=ZN(n.get(v),r.get(v));S!==null&&g.set(v,S),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Q.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Fs());let u=jd,c=i;return o.next((d=>Q.forEach(d,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{c=c.insert(p,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,c,d,We()))).next((p=>({batchId:u,changes:WN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let s=cd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cd();return this.indexManager.getCollectionParents(e,i).next((u=>Q.forEach(u,(c=>{const d=(function(p,g){return new Dc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((p=>{p.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((c,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,At.newInvalidDocument(p)))}));let u=cd();return o.forEach(((c,d)=>{const p=i.get(c);p!==void 0&&Td(p.mutation,d,tr.empty(),rt.now()),vf(n,d)&&(u=u.insert(c,d))})),u}))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class e9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:zn(r.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:vR(r.bundledQuery),readTime:zn(r.readTime)}})(n)),Q.resolve()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class t9{constructor(){this.overlays=new St(de.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fs();return Q.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Fs(),i=n.length+1,o=new de(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new St(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=Fs(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=Fs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,p)=>u.set(d,p))),!(u.size()>=s)););return Q.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Lx(n,r));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class n9{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Bx{constructor(){this.Qr=new ut(dn.$r),this.Ur=new ut(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new de(new at([])),r=new dn(n,e),s=new dn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new at([])),r=new dn(n,e),s=new dn(n,e+1);let i=We();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new dn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class r9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ut(dn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jx(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new dn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?hl:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const u=this.Xr(o.Yr);i.push(u)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(Fe);return n.forEach((s=>{const i=new dn(s,0),o=new dn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(u=>{r=r.add(u.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;de.isDocumentKey(i)||(i=i.child(""));const o=new dn(new de(i),0);let u=new ut(Fe);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(u=u.add(c.Yr)),!0)}),o),Q.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(s=>{const i=new dn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new dn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class s9{constructor(e){this.ri=e,this.docs=(function(){return new St(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vr();const o=n.path,u=new de(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||kx(cN(p),r)<=0||(s.has(p.key)||vf(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new i9(this)}getSize(e){return Q.resolve(this.size)}}class i9 extends IR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class a9{constructor(e){this.persistence=e,this.si=new Wi((n=>Sl(n)),gf),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Bx,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Q.waitFor(i).next((()=>s))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $x{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fr(0),this.li=!1,this.li=!0,this.hi=new n9,this.referenceDelegate=e(this),this.Pi=new a9(this),this.indexManager=new qV,this.remoteDocumentCache=(function(r){return new s9(r)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gR(n),this.Ii=new e9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new r9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new o9(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class o9 extends dN{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Ri=new Bx,this.Vi=null}static mi(e){return new by(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const s=de.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _g{constructor(e,n){this.persistence=e,this.pi=new Wi((r=>Mn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=_R(this,n)}static mi(e,n){return new _g(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Q.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((u=>{u||(r++,i.removeEntry(o,Pe.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Om(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class l9{constructor(e){this.serializer=e}k(e,n,r,s){const i=new ay("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore(mf)})(e),(function(u){u.createObjectStore(Fd,{keyPath:wU}),u.createObjectStore(ss,{keyPath:GT,autoIncrement:!0}).createIndex(il,QT,{unique:!0}),u.createObjectStore(pc)})(e),F_(e),(function(u){u.createObjectStore(Jo)})(e));let o=Q.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore(gc),u.deleteObjectStore(mc),u.deleteObjectStore(dl)})(e),F_(e)),o=o.next((()=>(function(u){const c=u.store(dl),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return c.put(gg,d)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(u,c){return c.store(ss).J().next((d=>{u.deleteObjectStore(ss),u.createObjectStore(ss,{keyPath:GT,autoIncrement:!0}).createIndex(il,QT,{unique:!0});const p=c.store(ss),g=d.map((v=>p.put(v)));return Q.waitFor(g)}))})(e,i)))),o=o.next((()=>{(function(u){u.createObjectStore(yc,{keyPath:CU})})(e)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Ud)})(e),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(e,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(ly,{keyPath:PU})})(e),(function(u){u.createObjectStore(uy,{keyPath:NU})})(e)}))),r<12&&s>=12&&(o=o.next((()=>{(function(u){const c=u.createObjectStore(cy,{keyPath:LU});c.createIndex(Ww,FU,{unique:!1}),c.createIndex(wN,UU,{unique:!1})})(e)}))),r<13&&s>=13&&(o=o.next((()=>(function(u){const c=u.createObjectStore(mg,{keyPath:xU});c.createIndex(Am,EU),c.createIndex(mN,SU)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Jo)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(o=o.next((()=>(function(u){u.createObjectStore(Ix,{keyPath:RU,autoIncrement:!0}).createIndex(qw,DU,{unique:!1}),u.createObjectStore(bd,{keyPath:MU}).createIndex(yN,AU,{unique:!1}),u.createObjectStore(xd,{keyPath:jU}).createIndex(vN,OU,{unique:!1})})(e)))),r<16&&s>=16&&(o=o.next((()=>{n.objectStore(bd).clear()})).next((()=>{n.objectStore(xd).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(Cx,{keyPath:VU})})(e)}))),r<18&&s>=18&&hP()&&(o=o.next((()=>{n.objectStore(bd).clear()})).next((()=>{n.objectStore(xd).clear()}))),o}wi(e){let n=0;return e.store(Jo).ee(((r,s)=>{n+=Tg(s)})).next((()=>{const r={byteSize:n};return e.store(Ud).put($w,r)}))}yi(e){const n=e.store(Fd),r=e.store(ss);return n.J().next((s=>Q.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,hl],[i.userId,i.lastAcknowledgedBatchId]);return r.J(il,o).next((u=>Q.forEach(u,(c=>{Ie(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=nl(this.serializer,c);return ER(e,i.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(gc),r=e.store(Jo);return e.store(dl).get(gg).next((s=>{const i=[];return r.ee(((o,u)=>{const c=new at(o),d=(function(p){return[0,Mn(p)]})(c);i.push(n.get(d).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:Mn(g),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Q.waitFor(i)))}))}bi(e,n){e.createObjectStore(Vd,{keyPath:IU});const r=n.store(Vd),s=new zx,i=o=>{if(s.add(o)){const u=o.lastSegment(),c=o.popLast();return r.put({collectionId:u,parent:Mn(c)})}};return n.store(Jo).ee({X:!0},((o,u)=>{const c=new at(o);return i(c.popLast())})).next((()=>n.store(pc).ee({X:!0},(([o,u,c],d)=>{const p=Ls(u);return i(p.popLast())}))))}Di(e){const n=e.store(mc);return n.ee(((r,s)=>{const i=dd(s),o=yR(this.serializer,i);return n.put(o)}))}Ci(e,n){const r=n.store(Jo),s=[];return r.ee(((i,o)=>{const u=n.store(mg),c=(function(p){return p.document?new de(at.fromString(p.document.name).popFirst(5)):p.noDocument?de.fromSegments(p.noDocument.path):p.unknownDocument?de.fromSegments(p.unknownDocument.path):Se(36783)})(o).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(u.put(d))})).next((()=>Q.waitFor(s)))}Fi(e,n){const r=n.store(ss),s=CR(this.serializer),i=new $x(by.mi,this.serializer.yt);return r.J().next((o=>{const u=new Map;return o.forEach((c=>{let d=u.get(c.userId)??We();nl(this.serializer,c).keys().forEach((p=>d=d.add(p))),u.set(c.userId,d)})),Q.forEach(u,((c,d)=>{const p=new bn(d),g=vy.wt(this.serializer,p),v=i.getIndexManager(p),S=wy.wt(p,this.serializer,v,i.referenceDelegate);return new PR(s,S,g,v).recalculateAndSaveOverlaysForDocumentKeys(new Hw(n,Fr.ce),c).next()}))}))}}function F_(t){t.createObjectStore(gc,{keyPath:TU}).createIndex(_x,_U,{unique:!0}),t.createObjectStore(mc,{keyPath:"targetId"}).createIndex(gN,kU,{unique:!0}),t.createObjectStore(dl)}const Na="IndexedDbPersistence",R0=18e5,D0=5e3,M0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",u9="main";class qx{constructor(e,n,r,s,i,o,u,c,d,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=u,this.xi=d,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!qx.v())throw new ce(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XV(this,s),this.$i=n+u9,this.serializer=new gR(c),this.Ui=new Ka(this.$i,this.Ni,new l9(this.serializer)),this.hi=new FV,this.Pi=new HV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=CR(this.serializer),this.Ii=new LV,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&Ln(Na,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,M0);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Fr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>im(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(lo(e))return le(Na,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le(Na,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Bh(e).get(Cu).next((n=>Q.resolve(this.es(n))))}ts(e){return im(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,R0)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=ln(n,yc);return r.J().next((s=>{const i=this.ss(s,R0),o=s.filter((u=>i.indexOf(u)===-1));return Q.forEach(o,(u=>r.delete(u.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):Bh(e).get(Cu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,D0)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(te.FAILED_PRECONDITION,M0);return!1}}return!(!this.networkEnabled||!this.inForeground)||im(e).J().next((r=>this.ss(r,D0).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,u=this.networkEnabled===s.networkEnabled;if(i||o&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&le(Na,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[mf,yc],(e=>{const n=new Hw(e,Fr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>im(e).J().next((n=>this.ss(n,R0).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return wy.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WV(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return vy.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){le(Na,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===18?$U:u===17?SN:u===16?BU:u===15?Px:u===14?EN:u===13?xN:u===12?zU:u===11?bN:void Se(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,s,i,(u=>(o=new Hw(u,this.ci?this.ci.next():Fr.ce),n==="readwrite-primary"?this.Hi(o).next((c=>!!c||this.Yi(o))).next((c=>{if(!c)throw Ln(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(te.FAILED_PRECONDITION,hN);return r(o)})).next((c=>this.Xi(o).next((()=>c)))):this.Is(o).next((()=>r(o)))))).then((u=>(o.raiseOnCommittedEvent(),u)))}Is(e){return Bh(e).get(Cu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,D0)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(te.FAILED_PRECONDITION,M0)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bh(e).put(Cu,n)}static v(){return Ka.v()}Zi(e){const n=Bh(e);return n.get(Cu).next((r=>this.es(r)?(le(Na,"Releasing primary lease."),n.delete(Cu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ln(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;cP()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return le(Na,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ln(Na,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ln("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bh(t){return ln(t,mf)}function im(t){return ln(t,yc)}function c9(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Wx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wx(e,n.fromCache,r,s)}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class h9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class NR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cP()?8:fN(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new h9;return this.Ss(e,n,o).next((u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Gu()<=Ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Qu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Gu()<=Ke.DEBUG&&le("QueryEngine","Query:",Qu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Gu()<=Ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Qu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):Q.resolve())}ys(e,n){if(l_(n))return Q.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=bg(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=We(...i);return this.ps.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,o,c.readTime)?this.ys(e,bg(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,s){return l_(n)||s.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(Gu()<=Ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qu(n)),this.vs(e,o,n,dU(s,jd)).next((u=>u)))}))}Ds(e,n){let r=new ut($N(e));return n.forEach(((s,i)=>{vf(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Gu()<=Ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Qu(n)),this.ps.getDocumentsMatchingQuery(e,n,xr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Hx="LocalStore",d9=3e8;class f9{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new St(Fe),this.xs=new Wi((i=>Sl(i)),gf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RR(t,e,n,r){return new f9(t,e,n,r)}async function DR(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],u=[];let c=We();for(const d of s){o.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of i){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:u})))}))}))}function p9(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,u,c,d){const p=c.batch,g=p.keys();let v=Q.resolve();return g.forEach((S=>{v=v.next((()=>d.getEntry(u,S))).next((I=>{const T=c.docVersions.get(S);Ie(T!==null,48541),I.version.compareTo(T)<0&&(p.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(u,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let u=We();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function MR(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function m9(t,e){const n=Ue(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;u.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g))));let S=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):p.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(p.resumeToken,r)),s=s.insert(g,S),(function(I,T,_){return I.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=d9?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(v,S,p)&&u.push(n.Pi.updateTargetData(i,S))}));let c=vr(),d=We();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(g9(i,o,e.documentUpdates).next((p=>{c=p.ks,d=p.qs}))),!r.isEqual(Pe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));u.push(p)}return Q.waitFor(u).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,d))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function g9(t,e,n){let r=We(),s=We();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=vr();return n.forEach(((u,c)=>{const d=i.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):le(Hx,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function y9(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function v9(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ab(t,e,n){const r=Ue(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!lo(o))throw o;le(Hx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function U_(t,e,n){const r=Ue(t);let s=Pe.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,c,d){const p=Ue(u),g=p.xs.get(d);return g!==void 0?Q.resolve(p.Ms.get(g)):p.Pi.getTargetData(c,d)})(r,o,zr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:We()))).next((u=>(w9(r,sV(e),u),{documents:u,Qs:i})))))}function w9(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class V_{constructor(){this.activeTargetIds=cV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AR{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class b9{Oo(e){}shutdown(){}}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const z_="ConnectivityMonitor";class B_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(z_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let am=null;function ob(){return am===null?am=(function(){return 268435456+Math.round(2147483648*Math.random())})():am++,"0x"+am.toString(16)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const A0="RestConnection",x9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===yg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=ob(),u=this.zo(e,n.toUriEncodedString());le(A0,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(u),p=Ml(d);return this.Jo(e,u,c,r,p).then((g=>(le(A0,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw xl(A0,`RPC '${e}' ${o} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=x9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class S9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cn="WebChannelConnection";class k9 extends E9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=ob();return new Promise(((u,c)=>{const d=new eN;d.setWithCredentials(!0),d.listenOnce(tN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Rm.NO_ERROR:const g=d.getResponseJson();le(Cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Rm.TIMEOUT:le(Cn,`RPC '${e}' ${o} timed out`),c(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const v=d.getStatus();if(le(Cn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const T=(function(_){const N=_.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(N)>=0?N:te.UNKNOWN})(I.status);c(new ce(T,I.message))}else c(new ce(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(Cn,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(s);le(Cn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",p,r,15)}))}T_(e,n,r){const s=ob(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sN(),u=rN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");le(Cn,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=o.createWebChannel(p,c);this.I_(g);let v=!1,S=!1;const I=new S9({Yo:_=>{S?le(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(v||(le(Cn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(Cn,`RPC '${e}' stream ${s} sending:`,_),g.send(_))},Zo:()=>g.close()}),T=(_,N,D)=>{_.listen(N,(j=>{try{D(j)}catch(V){setTimeout((()=>{throw V}),0)}}))};return T(g,ud.EventType.OPEN,(()=>{S||(le(Cn,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),T(g,ud.EventType.CLOSE,(()=>{S||(S=!0,le(Cn,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(g))})),T(g,ud.EventType.ERROR,(_=>{S||(S=!0,xl(Cn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),I.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,ud.EventType.MESSAGE,(_=>{var N;if(!S){const D=_.data[0];Ie(!!D,16349);const j=D,V=(j==null?void 0:j.error)||((N=j[0])==null?void 0:N.error);if(V){le(Cn,`RPC '${e}' stream ${s} received error:`,V);const B=V.status;let H=(function(C){const R=Jt[C];if(R!==void 0)return nR(R)})(B),M=V.message;H===void 0&&(H=te.INTERNAL,M="Unknown error status: "+B+" with message "+V.message),S=!0,I.a_(new ce(H,M)),g.close()}else le(Cn,`RPC '${e}' stream ${s} received:`,D),I.u_(D)}})),T(u,nN.STAT_EVENT,(_=>{_.stat===Vw.PROXY?le(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Vw.NOPROXY&&le(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function T9(){return typeof window<"u"?window:null}function zm(){return typeof document<"u"?document:null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xy(t){return new _V(t,!0)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class jR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const $_="PersistentStream";class OR{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ce(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le($_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _9 extends OR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PV(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Pe.min():i.readTime?zn(i.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=tb(this.serializer),n.addTarget=(function(s,i){let o;const u=i.target;if(o=vg(u)?{documents:cR(s,u)}:{query:hR(s,u).ft},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=iR(s,i.resumeToken);const c=Zw(s,i.expectedCount);c!==null&&(o.expectedCount=c)}else if(i.snapshotVersion.compareTo(Pe.min())>0){o.readTime=Tc(s,i.snapshotVersion.toTimestamp());const c=Zw(s,i.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const r=RV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=tb(this.serializer),n.removeTarget=e,this.q_(n)}}class I9 extends OR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=NV(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Eg(this.serializer,r)))};this.q_(n)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class C9{}class P9 extends C9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,eb(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Ho(e,eb(n,r),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(te.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ln(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Il="RemoteStore";class R9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Ll(this)&&(le(Il,"Restarting streams for network reachability change."),await(async function(u){const c=Ue(u);c.Ea.add(4),await bf(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ey(c)})(this))}))})),this.Ra=new N9(r,s)}}async function Ey(t){if(Ll(t))for(const e of t.da)await e(!0)}async function bf(t){for(const e of t.da)await e(!1)}function LR(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xx(n)?Qx(n):Ac(n).O_()&&Gx(n,e))}function Kx(t,e){const n=Ue(t),r=Ac(n);n.Ia.delete(e),r.O_()&&FR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ll(n)&&n.Ra.set("Unknown"))}function Gx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ac(t).Y_(e)}function FR(t,e){t.Va.Ue(e),Ac(t).Z_(e)}function Qx(t){t.Va=new EV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ac(t).start(),t.Ra.ua()}function Xx(t){return Ll(t)&&!Ac(t).x_()&&t.Ia.size>0}function Ll(t){return Ue(t).Ea.size===0}function UR(t){t.Va=void 0}async function D9(t){t.Ra.set("Online")}async function M9(t){t.Ia.forEach(((e,n)=>{Gx(t,e)}))}async function A9(t,e){UR(t),Xx(t)?(t.Ra.ha(e),Qx(t)):t.Ra.set("Unknown")}async function j9(t,e,n){if(t.Ra.set("Online"),e instanceof sR&&e.state===2&&e.cause)try{await(async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Ia.delete(o),r.Va.removeTarget(o))})(t,e)}catch(r){le(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(t,r)}else if(e instanceof Um?t.Va.Ze(e):e instanceof rR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await MR(t.localStore);n.compareTo(r)>=0&&await(function(s,i){const o=s.Va.Tt(i);return o.targetChanges.forEach(((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,i))}})),o.targetMismatches.forEach(((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),FR(s,u);const p=new Pi(d.target,u,c,d.sequenceNumber);Gx(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){le(Il,"Failed to raise snapshot:",r),await Ig(t,r)}}async function Ig(t,e,n){if(!lo(e))throw e;t.Ea.add(1),await bf(t),t.Ra.set("Offline"),n||(n=()=>MR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ey(t)}))}function VR(t,e){return e().catch((n=>Ig(t,n,e)))}async function xf(t){const e=Ue(t),n=Za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hl;for(;O9(e);)try{const s=await y9(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,L9(e,s)}catch(s){await Ig(e,s)}zR(e)&&BR(e)}function O9(t){return Ll(t)&&t.Ta.length<10}function L9(t,e){t.Ta.push(e);const n=Za(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zR(t){return Ll(t)&&!Za(t).x_()&&t.Ta.length>0}function BR(t){Za(t).start()}async function F9(t){Za(t).ra()}async function U9(t){const e=Za(t);for(const n of t.Ta)e.ea(n.mutations)}async function V9(t,e,n){const r=t.Ta.shift(),s=Ox.from(r,e,n);await VR(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await xf(t)}async function z9(t,e){e&&Za(t).X_&&await(async function(n,r){if((function(s){return wV(s)&&s!==te.ABORTED})(r.code)){const s=n.Ta.shift();Za(n).B_(),await VR(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await xf(n)}})(t,e),zR(t)&&BR(t)}async function q_(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),le(Il,"RemoteStore received new credentials");const r=Ll(n);n.Ea.add(3),await bf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ey(n)}async function B9(t,e){const n=Ue(t);e?(n.Ea.delete(2),await Ey(n)):e||(n.Ea.add(2),await bf(n),n.Ra.set("Unknown"))}function Ac(t){return t.ma||(t.ma=(function(e,n,r){const s=Ue(e);return s.sa(),new _9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:D9.bind(null,t),t_:M9.bind(null,t),r_:A9.bind(null,t),H_:j9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Xx(t)?Qx(t):t.Ra.set("Unknown")):(await t.ma.stop(),UR(t))}))),t.ma}function Za(t){return t.fa||(t.fa=(function(e,n,r){const s=Ue(e);return s.sa(),new I9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:F9.bind(null,t),r_:z9.bind(null,t),ta:U9.bind(null,t),na:V9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xf(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Yx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new Yx(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jx(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),lo(t))return new ce(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class lc{static emptySet(e){return new lc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=cd(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class W_{constructor(){this.ga=new St(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _c{constructor(e,n,r,s,i,o,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((u=>{o.push({type:0,doc:u})})),new _c(e,n,lc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class q9{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const r=Ue(e),s=r.queries;r.queries=H_(),s.forEach(((i,o)=>{for(const u of o.Sa)u.onError(n)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function H_(){return new Wi((t=>BN(t)),fy)}async function Zx(t,e){const n=Ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new $9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=Jx(o,`Initialization of query '${Qu(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&t1(n)}async function e1(t,e){const n=Ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W9(t,e){const n=Ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&t1(n)}function H9(t,e,n){const r=Ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function t1(t){t.Ca.forEach((e=>{e.next()}))}var lb,K_;(K_=lb||(lb={})).Ma="default",K_.Cache="cache";class n1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lb.Cache}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $R{constructor(e){this.key=e}}class qR{constructor(e){this.key=e}}class K9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=$N(e),this.tu=new lc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new W_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),S=vf(this.query,g)?g:null,I=!!v&&this.mutatedKeys.has(v.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let _=!1;v&&S?v.data.isEqual(S.data)?I!==T&&(r.track({type:3,doc:S}),_=!0):this.su(v,S)||(r.track({type:2,doc:S}),_=!0,(c&&this.eu(S,c)>0||d&&this.eu(S,d)<0)&&(u=!0)):!v&&S?(r.track({type:0,doc:S}),_=!0):v&&!S&&(r.track({type:1,doc:v}),_=!0,(c||d)&&(u=!0)),_&&(S?(o=o.add(S),i=T?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,g)=>(function(v,S){const I=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:T})}};return I(v)-I(S)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new _c(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new qR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new $R(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _c.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const r1="SyncEngine";class G9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Q9{constructor(e){this.key=e,this.hu=!1}}class X9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Wi((u=>BN(u)),fy),this.Iu=new Map,this.Eu=new Set,this.du=new St(de.comparator),this.Au=new Map,this.Ru=new Bx,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y9(t,e,n=!0){const r=XR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await WR(r,e,n,!0),s}async function J9(t,e){const n=XR(t);await WR(n,e,!0,!1)}async function WR(t,e,n,r){const s=await v9(t.localStore,zr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await Z9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LR(t.remoteStore,s),u}async function Z9(t,e,n,r,s){t.pu=(g,v,S)=>(async function(I,T,_,N){let D=T.view.ru(_);D.Cs&&(D=await U_(I.localStore,T.query,!1).then((({documents:H})=>T.view.ru(H,D))));const j=N&&N.targetChanges.get(T.targetId),V=N&&N.targetMismatches.get(T.targetId)!=null,B=T.view.applyChanges(D,I.isPrimaryClient,j,V);return Q_(I,T.targetId,B.au),B.snapshot})(t,g,v,S);const i=await U_(t.localStore,e,!0),o=new K9(e,i.Qs),u=o.ru(i.documents),c=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(u,t.isPrimaryClient,c);Q_(t,n,d.au);const p=new G9(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function ez(t,e,n){const r=Ue(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!fy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ab(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Kx(r.remoteStore,s.targetId),ub(r,s.targetId)})).catch(Ol)):(ub(r,s.targetId),await ab(r.localStore,s.targetId,!0))}async function tz(t,e){const n=Ue(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kx(n.remoteStore,r.targetId))}async function nz(t,e,n){const r=YR(t);try{const s=await(function(i,o){const u=Ue(i),c=rt.now(),d=o.reduce(((v,S)=>v.add(S.key)),We());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=vr(),I=We();return u.Ns.getEntries(v,d).next((T=>{S=T,S.forEach(((_,N)=>{N.isValidDocument()||(I=I.add(_))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,S))).next((T=>{p=T;const _=[];for(const N of o){const D=yV(N,p.get(N.key).overlayedDocument);D!=null&&_.push(new Hi(N.key,D,MN(D.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,_,o)})).next((T=>{g=T;const _=T.applyToLocalDocumentSet(p,I);return u.documentOverlayCache.saveOverlays(v,T.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:WN(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(i,o,u){let c=i.Vu[i.currentUser.toKey()];c||(c=new St(Fe)),c=c.insert(o,u),i.Vu[i.currentUser.toKey()]=c})(r,s.batchId,n),await Ef(r,s.changes),await xf(r.remoteStore)}catch(s){const i=Jx(s,"Failed to persist write");n.reject(i)}}async function HR(t,e){const n=Ue(t);try{const r=await m9(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ie(o.hu,14607):s.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))})),await Ef(n,r,e)}catch(r){await Ol(r)}}function G_(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(i,o){const u=Ue(i);u.onlineState=o;let c=!1;u.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(o)&&(c=!0)})),c&&t1(u)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rz(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new St(de.comparator);o=o.insert(i,At.newNoDocument(i,Pe.min()));const u=We().add(i),c=new yy(Pe.min(),new Map,new St(Fe),o,u);await HR(r,c),r.du=r.du.remove(i),r.Au.delete(e),s1(r)}else await ab(r.localStore,e,!1).then((()=>ub(r,e,n))).catch(Ol)}async function sz(t,e){const n=Ue(t),r=e.batch.batchId;try{const s=await p9(n.localStore,e);GR(n,r,null),KR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(n,s)}catch(s){await Ol(s)}}async function iz(t,e,n){const r=Ue(t);try{const s=await(function(i,o){const u=Ue(i);return u.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return u.mutationQueue.lookupMutationBatch(c,o).next((p=>(Ie(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p)))).next((()=>u.mutationQueue.performConsistencyCheck(c))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,o))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>u.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);GR(r,e,n),KR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ef(r,s)}catch(s){await Ol(s)}}function KR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GR(t,e,n){const r=Ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ub(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||QR(t,r)}))}function QR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),s1(t))}function Q_(t,e,n){for(const r of n)r instanceof $R?(t.Ru.addReference(r.key,e),az(t,r)):r instanceof qR?(le(r1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||QR(t,r.key)):Se(19791,{wu:r})}function az(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(r1,"New document in limbo: "+n),t.Eu.add(r),s1(t))}function s1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new de(at.fromString(e)),r=t.fu.next();t.Au.set(r,new Q9(n)),t.du=t.du.insert(n,r),LR(t.remoteStore,new Pi(zr(yf(n.path)),r,"TargetPurposeLimboResolution",Fr.ce))}}async function Ef(t,e,n){const r=Ue(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{o.push(r.pu(c,e,n).then((d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Wx.As(c.targetId,d);i.push(g)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(u,c){const d=Ue(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Q.forEach(c,(g=>Q.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v))).next((()=>Q.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))))))}catch(p){if(!lo(p))throw p;le(Hx,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=d.Ms.get(g),S=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(g,I)}}})(r.localStore,i))}async function oz(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){le(r1,"User change. New user:",e.toKey());const r=await DR(n.localStore,e);n.currentUser=e,(function(s,i){s.mu.forEach((o=>{o.forEach((u=>{u.reject(new ce(te.CANCELLED,i))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ef(n,r.Ls)}}function lz(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function XR(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rz.bind(null,e),e.Pu.H_=W9.bind(null,e.eventManager),e.Pu.yu=H9.bind(null,e.eventManager),e}function YR(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iz.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RR(this.persistence,new NR,e.initialUser,this.serializer)}Cu(e){return new $x(by.mi,this.serializer)}Du(e){return new AR}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class uz extends Kd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof _g,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new $x((r=>_g.mi(r,n)),this.serializer)}}class cz extends Kd{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await YR(this.xu.syncEngine),await xf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return RR(this.persistence,new NR,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new TR(r,e.asyncQueue,n)}Mu(e,n){const r=new gU(n,this.persistence);return new mU(e.asyncQueue,r)}Cu(e){const n=c9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new qx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,T9(),zm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new AR}}class Cg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oz.bind(null,this.syncEngine),await B9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q9})()}createDatastore(e){const n=xy(e.databaseInfo.databaseId),r=(function(s){return new k9(s)})(e.databaseInfo);return(function(s,i,o,u){return new P9(s,i,o,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(n,r,s,i,o){return new R9(n,r,s,i,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>G_(this.syncEngine,n,0)),(function(){return B_.v()?new B_:new b9})())}createSyncEngine(e,n){return(function(r,s,i,o,u,c,d){const p=new X9(r,s,i,o,u,c);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const s=Ue(r);le(Il,"RemoteStore shutting down."),s.Ea.add(5),await bf(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Cg.provider={build:()=>new Cg};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*//**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eo="FirestoreClient";class hz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bn.UNAUTHENTICATED,this.clientId=Sx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{le(eo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(le(eo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function j0(t,e){t.asyncQueue.verifyOperationInProgress(),le(eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await DR(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function X_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dz(t);le(eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>q_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>q_(e.remoteStore,s))),t._onlineComponents=e}async function dz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(eo,"Using user provided OfflineComponentProvider");try{await j0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;xl("Error using user provided cache. Falling back to memory cache: "+n),await j0(t,new Kd)}}else le(eo,"Using default OfflineComponentProvider"),await j0(t,new uz(void 0));return t._offlineComponents}async function JR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(eo,"Using user provided OnlineComponentProvider"),await X_(t,t._uninitializedComponentsProvider._online)):(le(eo,"Using default OnlineComponentProvider"),await X_(t,new Cg))),t._onlineComponents}function fz(t){return JR(t).then((e=>e.syncEngine))}async function Pg(t){const e=await JR(t),n=e.eventManager;return n.onListen=Y9.bind(null,e.syncEngine),n.onUnlisten=ez.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tz.bind(null,e.syncEngine),n}function pz(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new i1({next:g=>{d.Nu(),i.enqueueAndForget((()=>e1(s,p)));const v=g.docs.has(o);!v&&g.fromCache?c.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new n1(yf(o.path),d,{includeMetadataChanges:!0,qa:!0});return Zx(s,p)})(await Pg(t),t.asyncQueue,e,n,r))),r.promise}function mz(t,e,n={}){const r=new Bs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,i,o,u,c){const d=new i1({next:g=>{d.Nu(),i.enqueueAndForget((()=>e1(s,p))),g.fromCache&&u.source==="server"?c.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new n1(o,d,{includeMetadataChanges:!0,qa:!0});return Zx(s,p)})(await Pg(t),t.asyncQueue,e,n,r))),r.promise}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function ZR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Y_=new Map;/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eD="firestore.googleapis.com",J_=!0;class Z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eD,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KV)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZR(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new eU;switch(n.type){case"firstParty":return new sU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=Y_.get(e);n&&(le("ComponentProvider","Removing Datastore"),Y_.delete(e),n.terminate())})(this),Promise.resolve()}}function gz(t,e,n,r={}){var s;t=Vn(t,Sy);const i=Ml(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(ux(`https://${c}`),cx("Firestore",!0)),o.host!==eD&&o.host!==c&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:i,emulatorOptions:r};if(!Xa(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=bn.MOCK_USER;else{p=lP(r.mockUserToken,(s=t._app)==null?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new bn(v)}t._authCredentials=new tU(new aN(p,g))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Fl=class tD{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tD(this.firestore,e,this._query)}};class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pf(n,jt._jsonSchema))return new jt(e,r||null,new de(at.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:en("string",jt._jsonSchemaVersion),referencePath:en("string")};class Ga extends Fl{constructor(e,n,r){super(e,n,yf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new de(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function An(t,e,...n){if(t=Pt(t),lN("collection","path",e),t instanceof Sy){const r=at.fromString(e,...n);return $T(r),new Ga(t,null,r)}{if(!(t instanceof jt||t instanceof Ga))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return $T(r),new Ga(t.firestore,null,r)}}function ei(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Sx.newId()),lN("doc","path",e),t instanceof Sy){const r=at.fromString(e,...n);return BT(r),new jt(t,null,new de(r))}{if(!(t instanceof jt||t instanceof Ga))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return BT(r),new jt(t.firestore,t instanceof Ga?t.converter:null,new de(r))}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const eI="AsyncQueue";class tI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jR(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&le(eI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;le(eI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ln("INTERNAL UNHANDLED ERROR: ",nI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Yx.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:nI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function rI(t){return(function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Xs extends Sy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tI(e),this._firestoreClient=void 0,await e}}}function ky(t,e){const n=typeof t=="object"?t:ey(),r=typeof t=="string"?t:yg,s=ao(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=iP("firestore");i&&gz(s,...i)}return s}function Ty(t){if(t._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nD(t),t._firestoreClient}function nD(t){var e,n,r;const s=t._freezeSettings(),i=(function(o,u,c,d){return new WU(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ZR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((e=t._app)==null?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||(n=s.localCache)!=null&&n._offlineComponentProvider&&(r=s.localCache)!=null&&r._onlineComponentProvider&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new hz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}})(t._componentsProvider))}function yz(t,e){xl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return vz(t,Cg.provider,{build:r=>new cz(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function vz(t,e,n){if((t=Vn(t,Xs))._firestoreClient||t._terminated)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(te.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},nD(t)}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(tn.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lr(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pf(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:en("string",Lr._jsonSchemaVersion),bytes:en("string")};/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class _y{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Iy{constructor(e){this._methodName=e}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class $s{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$s._jsonSchemaVersion}}static fromJSON(e){if(pf(e,$s._jsonSchema))return new $s(e.latitude,e.longitude)}}$s._jsonSchemaVersion="firestore/geoPoint/1.0",$s._jsonSchema={type:en("string",$s._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pf(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qs(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:en("string",qs._jsonSchemaVersion),vectorValues:en("object")};/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const wz=/^__.*__$/;class bz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class rD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class a1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new a1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var n;const r=(n=this.path)==null?void 0:n.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ng(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sD(this.Ac)&&wz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xy(e)}Cc(e,n,r,s=!1){return new a1({Ac:e,methodName:n,Dc:r,path:_t.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cy(t){const e=t._freezeSettings(),n=xy(t._databaseId);return new xz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iD(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);l1("Data must be an object, but it was:",o,r);const u=aD(r,o);let c,d;if(i.merge)c=new tr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=cb(e,g,n);if(!o.contains(v))throw new ce(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);lD(p,v)||p.push(v)}c=new tr(p),d=o.fieldTransforms.filter((g=>c.covers(g.field)))}else c=null,d=o.fieldTransforms;return new bz(new Nn(u),c,d)}class Py extends Iy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Py}}class o1 extends Iy{_toFieldTransform(e){return new JN(e.path,new Ec)}isEqual(e){return e instanceof o1}}function Ez(t,e,n,r){const s=t.Cc(1,e,n);l1("Data must be an object, but it was:",s,r);const i=[],o=Nn.empty();uo(r,((c,d)=>{const p=u1(e,c,n);d=Pt(d);const g=s.yc(p);if(d instanceof Py)i.push(p);else{const v=Sf(d,g);v!=null&&(i.push(p),o.set(p,v))}}));const u=new tr(i);return new rD(o,u,s.fieldTransforms)}function Sz(t,e,n,r,s,i){const o=t.Cc(1,e,n),u=[cb(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)u.push(cb(e,i[v])),c.push(i[v+1]);const d=[],p=Nn.empty();for(let v=u.length-1;v>=0;--v)if(!lD(d,u[v])){const S=u[v];let I=c[v];I=Pt(I);const T=o.yc(S);if(I instanceof Py)d.push(S);else{const _=Sf(I,T);_!=null&&(d.push(S),p.set(S,_))}}const g=new tr(d);return new rD(p,g,o.fieldTransforms)}function kz(t,e,n,r=!1){return Sf(n,t.Cc(r?4:3,e))}function Sf(t,e){if(oD(t=Pt(t)))return l1("Unsupported field value:",e,t),aD(t,e);if(t instanceof Iy)return(function(n,r){if(!sD(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let i=0;for(const o of n){let u=Sf(o,r.wc(i));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),i++}return{arrayValue:{values:s}}})(t,e)}return(function(n,r){if((n=Pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hV(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rt.fromDate(n);return{timestampValue:Tc(r.serializer,s)}}if(n instanceof rt){const s=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tc(r.serializer,s)}}if(n instanceof $s)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Lr)return{bytesValue:iR(r.serializer,n._byteString)};if(n instanceof jt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ux(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof qs)return(function(s,i){return{mapValue:{fields:{[Rx]:{stringValue:Dx},[vc]:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw i.Sc("VectorValues must only contain numeric values.");return Ax(i.serializer,o)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${iy(n)}`)})(t,e)}function aD(t,e){const n={};return kN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,((r,s)=>{const i=Sf(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function oD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof $s||t instanceof Lr||t instanceof jt||t instanceof Iy||t instanceof qs)}function l1(t,e,n){if(!oD(n)||!uN(n)){const r=iy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cb(t,e,n){if((e=Pt(e))instanceof _y)return e._internalPath;if(typeof e=="string")return u1(t,e);throw Ng("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tz=new RegExp("[~\\*/\\[\\]]");function u1(t,e,n){if(e.search(Tz)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _y(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ng(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ce(te.INVALID_ARGUMENT,u+t+c)}function lD(t,e){return t.some((n=>n.isEqual(e)))}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class uD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ny("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _z extends uD{data(){return super.data()}}function Ny(t,e){return typeof e=="string"?u1(t,e):e instanceof _y?e._internalPath:e._delegate._internalPath}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function cD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c1{}class h1 extends c1{}function us(t,e,...n){let r=[];e instanceof c1&&r.push(e),r=r.concat(n),(function(s){const i=s.filter((u=>u instanceof d1)).length,o=s.filter((u=>u instanceof Ry)).length;if(i>1||i>0&&o>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Ry extends h1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ry(e,n,r)}_apply(e){const n=this._parse(e);return hD(e._query,n),new Fl(e.firestore,e.converter,Jw(e._query,n))}_parse(e){const n=Cy(e.firestore);return(function(r,s,i,o,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){iI(d,c);const g=[];for(const v of d)g.push(sI(o,r,v));p={arrayValue:{values:g}}}else p=sI(o,r,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||iI(d,c),p=kz(i,s,d,c==="in"||c==="not-in");return Ge.create(u,c,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ur(t,e,n){const r=e,s=Ny("where",t);return Ry._create(s,r,n)}class d1 extends c1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new d1(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:lt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,s){let i=r;const o=s.getFlattenedFilters();for(const u of o)hD(i,u),i=Jw(i,u)})(e._query,n),new Fl(e.firestore,e.converter,Jw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f1 extends h1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new f1(e,n)}_apply(e){const n=(function(r,s,i){if(r.startAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ce(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wd(s,i)})(e._query,this._field,this._direction);return new Fl(e.firestore,e.converter,(function(r,s){const i=r.explicitOrderBy.concat([s]);return new Dc(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function jc(t,e="asc"){const n=e,r=Ny("orderBy",t);return f1._create(r,n)}class p1 extends h1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new p1(e,n,r)}_apply(e){return new Fl(e.firestore,e.converter,bg(e._query,this._limit,this._limitType))}}function m1(t){return hU("limit",t),p1._create("limit",t,"F")}function sI(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!de.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $d(t,new de(r))}if(n instanceof jt)return $d(t,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iy(n)}.`)}function iI(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hD(t,e){const n=(function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Iz{convertValue(e,n="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return uo(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)==null?void 0:n[vc].arrayValue)==null?void 0:r.values)==null?void 0:s.map((o=>xt(o.doubleValue)));return new qs(i)}convertGeoPoint(e){return new $s(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zd(e));default:return null}}convertTimestamp(e){const n=ji(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ie(mR(r),9688,{name:e});const s=new El(r.get(1),r.get(3)),i=new de(r.popFirst(5));return s.isEqual(n)||Ln(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function dD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class fd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pl extends uD{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ny("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()||(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED")),n}}pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",pl._jsonSchema={type:en("string",pl._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Bm extends pl{data(e={}){return super.data(e)}}class ml{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new fd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Bm(this._firestore,this._userDataWriter,r.key,r,new fd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map((o=>{const u=new Bm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:i++}}))}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const u=new Bm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),d=i.indexOf(o.doc.key)),{type:Cz(o.type),doc:u,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function fD(t){t=Vn(t,jt);const e=Vn(t.firestore,Xs);return pz(Ty(e),t._key).then((n=>mD(e,t,n)))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:en("string",ml._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class g1 extends Iz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function cs(t){t=Vn(t,Fl);const e=Vn(t.firestore,Xs),n=Ty(e),r=new g1(e);return cD(t._query),mz(n,t._query).then((s=>new ml(e,r,t,s)))}function Dy(t,e,n){t=Vn(t,jt);const r=Vn(t.firestore,Xs),s=dD(t.converter,e,n);return Ay(r,[iD(Cy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Rn.none())])}function My(t,e,n,...r){t=Vn(t,jt);const s=Vn(t.firestore,Xs),i=Cy(s);let o;return o=typeof(e=Pt(e))=="string"||e instanceof _y?Sz(i,"updateDoc",t._key,e,n,r):Ez(i,"updateDoc",t._key,e),Ay(s,[o.toMutation(t._key,Rn.exists(!0))])}function xne(t){return Ay(Vn(t.firestore,Xs),[new gy(t._key,Rn.none())])}function y1(t,e){const n=Vn(t.firestore,Xs),r=ei(t),s=dD(t.converter,e);return Ay(n,[iD(Cy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then((()=>r))}function pD(t,...e){var n,r,s;t=Pt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||rI(e[o])||(i=e[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(rI(e[o])){const g=e[o];e[o]=(n=g.next)==null?void 0:n.bind(g),e[o+1]=(r=g.error)==null?void 0:r.bind(g),e[o+2]=(s=g.complete)==null?void 0:s.bind(g)}let c,d,p;if(t instanceof jt)d=Vn(t.firestore,Xs),p=yf(t._key.path),c={next:g=>{e[o]&&e[o](mD(d,t,g))},error:e[o+1],complete:e[o+2]};else{const g=Vn(t,Fl);d=Vn(g.firestore,Xs),p=g._query;const v=new g1(d);c={next:S=>{e[o]&&e[o](new ml(d,v,g,S))},error:e[o+1],complete:e[o+2]},cD(t._query)}return(function(g,v,S,I){const T=new i1(I),_=new n1(v,T,S);return g.asyncQueue.enqueueAndForget((async()=>Zx(await Pg(g),_))),()=>{T.Nu(),g.asyncQueue.enqueueAndForget((async()=>e1(await Pg(g),_)))}})(Ty(d),p,u,c)}function Ay(t,e){return(function(n,r){const s=new Bs;return n.asyncQueue.enqueueAndForget((async()=>nz(await fz(n),r,s))),s.promise})(Ty(t),e)}function mD(t,e,n){const r=n.docs.get(e._key),s=new g1(t);return new pl(t,s,e._key,r,new fd(n.hasPendingWrites,n.fromCache),e.converter)}function Fn(){return new o1("serverTimestamp")}(function(t,e=!0){(function(n){Rc=n})(jl),os(new qr("firestore",((n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Xs(new nU(n.getProvider("auth-internal")),new iU(i,n.getProvider("app-check-internal")),(function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(u.options.projectId,c)})(i,r),i);return s={useFetchStreams:e,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),rr(FT,UT,t),rr(FT,UT,"esm2020")})();/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const gD="firebasestorage.googleapis.com",Pz="storageBucket",Nz=120*1e3,Rz=600*1e3;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class ti extends Wr{constructor(e,n,r=0){super(O0(e),`Firebase Storage: ${n} (${O0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return O0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ys;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ys||(Ys={}));function O0(t){return"storage/"+t}function Dz(){const t="An unknown error occurred, please check the error payload for server response.";return new ti(Ys.UNKNOWN,t)}function Mz(){return new ti(Ys.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Az(){return new ti(Ys.CANCELED,"User canceled the upload/download.")}function jz(t){return new ti(Ys.INVALID_URL,"Invalid URL '"+t+"'.")}function Oz(t){return new ti(Ys.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aI(t){return new ti(Ys.INVALID_ARGUMENT,t)}function yD(){return new ti(Ys.APP_DELETED,"The Firebase app was deleted.")}function Lz(t){return new ti(Ys.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class as{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=as.makeFromUrl(e,n)}catch{return new as(e,"")}if(r.path==="")return r;throw Oz(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",S=new RegExp(`^https?://${g}/${p}/b/${s}/o${v}`,"i"),I={bucket:1,path:3},T=n===gD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",N=new RegExp(`^https?://${T}/${s}/${_}`,"i"),D=[{regex:u,indices:c,postModify:i},{regex:S,indices:I,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<D.length;j++){const V=D[j],B=V.regex.exec(e);if(B){const H=B[V.indices.bucket];let M=B[V.indices.path];M||(M=""),r=new as(H,M),V.postModify(r);break}}if(r==null)throw jz(e);return r}}class Fz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Uz(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let d=!1;function p(..._){d||(d=!0,e.apply(null,_))}function g(_){s=setTimeout(()=>{s=null,t(S,c())},_)}function v(){i&&clearTimeout(i)}function S(_,...N){if(d){v();return}if(_){v(),p.call(null,_,...N);return}if(c()||o){v(),p.call(null,_,...N);return}r<64&&(r*=2);let D;u===1?(u=2,D=0):D=(r+Math.random())*1e3,g(D)}let I=!1;function T(_){I||(I=!0,v(),!d&&(s!==null?(_||(u=2),clearTimeout(s),g(0)):_||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,T(!0)},n),T}function Vz(t){t(!1)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function zz(t){return t!==void 0}function oI(t,e,n,r){if(r<e)throw aI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw aI(`Invalid value for '${t}'. Expected ${n} or less.`)}function Bz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Rg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rg||(Rg={}));/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function $z(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class qz{constructor(e,n,r,s,i,o,u,c,d,p,g,v=!0,S=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,T)=>{this.resolve_=I,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new om(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===Rg.NO_ERROR,c=i.getStatus();if(!u||$z(c,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===Rg.ABORT;r(!1,new om(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new om(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());zz(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=Dz();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?yD():Az();o(c)}else{const c=Mz();o(c)}};this.canceled_?n(!1,new om(!1,null,!0)):this.backoffId_=Uz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Vz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class om{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Gz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Qz(t,e,n,r,s,i,o=!0,u=!1){const c=Bz(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return Kz(p,e),Wz(p,n),Hz(p,i),Gz(p,r),new qz(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Yz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dg{constructor(e,n){this._service=e,n instanceof as?this._location=n:this._location=as.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dg(e,n)}get root(){const e=new as(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yz(this._location.path)}get storage(){return this._service}get parent(){const e=Xz(this._location.path);if(e===null)return null;const n=new as(this._location.bucket,e);return new Dg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Lz(e)}}function lI(t,e){const n=e==null?void 0:e[Pz];return n==null?null:as.makeFromBucketSpec(n,t)}function Jz(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ml(e);s&&(ux(`https://${t.host}/b`),cx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lP(i,t.app.options.projectId))}class Zz{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=gD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Nz,this._maxUploadRetryTime=Rz,this._requests=new Set,s!=null?this._bucket=as.makeFromBucketSpec(s,this._host):this._bucket=lI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=as.makeFromBucketSpec(this._url,e):this._bucket=lI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Fz(yD());{const o=Qz(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const uI="@firebase/storage",cI="0.14.0";/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const vD="storage";function e8(t=ey(),e){t=Pt(t);const n=ao(t,vD).getImmediate({identifier:e}),r=iP("storage");return r&&t8(n,...r),n}function t8(t,e,n,r={}){Jz(t,e,n,r)}function n8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Zz(n,r,s,e,jl)}function r8(){os(new qr(vD,n8,"PUBLIC").setMultipleInstances(!0)),rr(uI,cI,""),rr(uI,cI,"esm2020")}r8();const wD="@firebase/installations",v1="0.6.19";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const bD=1e4,xD=`w:${v1}`,ED="FIS_v2",s8="https://firebaseinstallations.googleapis.com/v1",i8=3600*1e3,a8="installations",o8="Installations";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cl=new Al(a8,o8,l8);function SD(t){return t instanceof Wr&&t.code.includes("request-failed")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function kD({projectId:t}){return`${s8}/projects/${t}/installations`}function TD(t){return{token:t.token,requestStatus:2,expiresIn:c8(t.expiresIn),creationTime:Date.now()}}async function _D(t,e){const n=(await e.json()).error;return Cl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function ID({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function u8(t,{refreshToken:e}){const n=ID(t);return n.append("Authorization",h8(e)),n}async function CD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function c8(t){return Number(t.replace("s","000"))}function h8(t){return`${ED} ${t}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function d8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=kD(t),s=ID(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:ED,appId:t.appId,sdkVersion:xD},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await CD(()=>fetch(r,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:TD(d.authToken)}}else throw await _D("Create Installation",c)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function PD(t){return new Promise(e=>{setTimeout(e,t)})}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function f8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const p8=/^[cdef][\w-]{21}$/,hb="";function m8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=g8(t);return p8.test(e)?e:hb}catch{return hb}}function g8(t){return f8(t).substr(0,22)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function jy(t){return`${t.appName}!${t.appId}`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ND=new Map;function RD(t,e){const n=jy(t);DD(n,e),y8(n,e)}function DD(t,e){const n=ND.get(t);if(n)for(const r of n)r(e)}function y8(t,e){const n=v8();n&&n.postMessage({key:t,fid:e}),w8()}let al=null;function v8(){return!al&&"BroadcastChannel"in self&&(al=new BroadcastChannel("[Firebase] FID Change"),al.onmessage=t=>{DD(t.data.key,t.data.fid)}),al}function w8(){ND.size===0&&al&&(al.close(),al=null)}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const b8="firebase-installations-database",x8=1,Pl="firebase-installations-store";let L0=null;function w1(){return L0||(L0=mP(b8,x8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pl)}}})),L0}async function Mg(t,e){const n=jy(t),r=(await w1()).transaction(Pl,"readwrite"),s=r.objectStore(Pl),i=await s.get(n);return await s.put(e,n),await r.done,(!i||i.fid!==e.fid)&&RD(t,e.fid),e}async function MD(t){const e=jy(t),n=(await w1()).transaction(Pl,"readwrite");await n.objectStore(Pl).delete(e),await n.done}async function Oy(t,e){const n=jy(t),r=(await w1()).transaction(Pl,"readwrite"),s=r.objectStore(Pl),i=await s.get(n),o=e(i);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!i||i.fid!==o.fid)&&RD(t,o.fid),o}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function b1(t){let e;const n=await Oy(t.appConfig,r=>{const s=E8(r),i=S8(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===hb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function E8(t){const e=t||{fid:m8(),registrationStatus:0};return AD(e)}function S8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Cl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=k8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T8(t)}:{installationEntry:e}}async function k8(t,e){try{const n=await d8(t,e);return Mg(t.appConfig,n)}catch(n){throw SD(n)&&n.customData.serverCode===409?await MD(t.appConfig):await Mg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function T8(t){let e=await hI(t.appConfig);for(;e.registrationStatus===1;)await PD(100),e=await hI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await b1(t);return r||n}return e}function hI(t){return Oy(t,e=>{if(!e)throw Cl.create("installation-not-found");return AD(e)})}function AD(t){return _8(t)?{fid:t.fid,registrationStatus:0}:t}function _8(t){return t.registrationStatus===1&&t.registrationTime+bD<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function I8({appConfig:t,heartbeatServiceProvider:e},n){const r=C8(t,n),s=u8(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:xD,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},c=await CD(()=>fetch(r,u));if(c.ok){const d=await c.json();return TD(d)}else throw await _D("Generate Auth Token",c)}function C8(t,{fid:e}){return`${kD(t)}/${e}/authTokens:generate`}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function x1(t,e=!1){let n;const r=await Oy(t.appConfig,s=>{if(!jD(s))throw Cl.create("not-registered");const i=s.authToken;if(!e&&R8(i))return s;if(i.requestStatus===1)return n=P8(t,e),s;{if(!navigator.onLine)throw Cl.create("app-offline");const o=M8(s);return n=N8(t,o),o}});return n?await n:r.authToken}async function P8(t,e){let n=await dI(t.appConfig);for(;n.authToken.requestStatus===1;)await PD(100),n=await dI(t.appConfig);const r=n.authToken;return r.requestStatus===0?x1(t,e):r}function dI(t){return Oy(t,e=>{if(!jD(e))throw Cl.create("not-registered");const n=e.authToken;return A8(n)?{...e,authToken:{requestStatus:0}}:e})}async function N8(t,e){try{const n=await I8(t,e),r={...e,authToken:n};return await Mg(t.appConfig,r),n}catch(n){if(SD(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MD(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Mg(t.appConfig,r)}throw n}}function jD(t){return t!==void 0&&t.registrationStatus===2}function R8(t){return t.requestStatus===2&&!D8(t)}function D8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+i8}function M8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function A8(t){return t.requestStatus===1&&t.requestTime+bD<Date.now()}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function j8(t){const e=t,{installationEntry:n,registrationPromise:r}=await b1(e);return r?r.catch(console.error):x1(e).catch(console.error),n.fid}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function O8(t,e=!1){const n=t;return await L8(n),(await x1(n,e)).token}async function L8(t){const{registrationPromise:e}=await b1(t);e&&await e}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function F8(t){if(!t||!t.options)throw F0("App Configuration");if(!t.name)throw F0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw F0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function F0(t){return Cl.create("missing-app-config-values",{valueName:t})}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const OD="installations",U8="installations-internal",V8=t=>{const e=t.getProvider("app").getImmediate(),n=F8(e),r=ao(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},z8=t=>{const e=t.getProvider("app").getImmediate(),n=ao(e,OD).getImmediate();return{getId:()=>j8(n),getToken:r=>O8(n,r)}};function B8(){os(new qr(OD,V8,"PUBLIC")),os(new qr(U8,z8,"PRIVATE"))}B8();rr(wD,v1);rr(wD,v1,"esm2020");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Ag="analytics",$8="firebase_id",q8="origin",W8=60*1e3,H8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",E1="https://www.googletagmanager.com/gtag/js";/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Bn=new Zg("@firebase/analytics");/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const K8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wr=new Al("analytics","Analytics",K8);/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G8(t){if(!t.startsWith(E1)){const e=wr.create("invalid-gtag-resource",{gtagURL:t});return Bn.warn(e.message),""}return t}function LD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Q8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X8(t,e){const n=Q8("firebase-js-sdk-policy",{createScriptURL:G8}),r=document.createElement("script"),s=`${E1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Y8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function J8(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await LD(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(u){Bn.error(u)}t("config",s,i)}async function Z8(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await LD(n);for(const c of o){const d=u.find(g=>g.measurementId===c),p=d&&e[d.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Bn.error(i)}}function e7(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[u,c]=o;await Z8(t,e,n,u,c)}else if(i==="config"){const[u,c]=o;await J8(t,e,n,r,u,c)}else if(i==="consent"){const[u,c]=o;t("consent",u,c)}else if(i==="get"){const[u,c,d]=o;t("get",u,c,d)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){Bn.error(u)}}return s}function t7(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=e7(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function n7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(E1)&&n.src.includes(t))return n;return null}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const r7=30,s7=1e3;class i7{constructor(e={},n=s7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const FD=new i7;function a7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function o7(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:a7(r)},i=H8.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const c=await o.json();(e=c.error)!=null&&e.message&&(u=c.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function l7(t,e=FD,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw wr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw wr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new h7;return setTimeout(async()=>{u.abort()},W8),UD({appId:r,apiKey:s,measurementId:i},o,u,e)}async function UD(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=FD){var i;const{appId:o,measurementId:u}=t;try{await u7(r,e)}catch(c){if(u)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:u};throw c}try{const c=await o7(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!c7(d)){if(s.deleteThrottleMetadata(o),u)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw c}const p=Number((i=d==null?void 0:d.customData)==null?void 0:i.httpStatus)===503?uT(n,s.intervalMillis,r7):uT(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return s.setThrottleMetadata(o,g),Bn.debug(`Calling attemptFetch again in ${p} millis`),UD(t,g,r,s)}}function u7(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function c7(t){if(!(t instanceof Wr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class h7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function d7(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function f7(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function p7(){if(Jg())try{await dx()}catch(t){return Bn.warn(wr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bn.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function m7(t,e,n,r,s,i,o){const u=l7(t);u.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Bn.error(v)),e.push(u);const c=p7().then(v=>{if(v)return r.getId()}),[d,p]=await Promise.all([u,c]);n7(i)||X8(i,d.measurementId),s("js",new Date);const g=(o==null?void 0:o.config)??{};return g[q8]="firebase",g.update=!0,p!=null&&(g[$8]=p),s("config",d.measurementId,g),d.measurementId}/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class g7{constructor(e){this.app=e}_delete(){return delete uc[this.app.options.appId],Promise.resolve()}}let uc={},fI=[];const pI={};let U0="dataLayer",y7="gtag",mI,S1,gI=!1;function v7(){const t=[];if(hx()&&t.push("This is a browser extension environment."),dP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=wr.create("invalid-analytics-context",{errorInfo:e});Bn.warn(n.message)}}function w7(t,e,n){v7();const r=t.options.appId;if(!r)throw wr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wr.create("no-api-key");if(uc[r]!=null)throw wr.create("already-exists",{id:r});if(!gI){Y8(U0);const{wrappedGtag:s,gtagCore:i}=t7(uc,fI,pI,U0,y7);S1=s,mI=i,gI=!0}return uc[r]=m7(t,fI,pI,e,mI,U0,n),new g7(t)}function VD(t=ey()){t=Pt(t);const e=ao(t,Ag);return e.isInitialized()?e.getImmediate():b7(t)}function b7(t,e={}){const n=ao(t,Ag);if(n.isInitialized()){const r=n.getImmediate();if(Xa(e,n.getOptions()))return r;throw wr.create("already-initialized")}return n.initialize({options:e})}async function zD(){if(hx()||!dP()||!Jg())return!1;try{return await dx()}catch{return!1}}function x7(t,e,n){t=Pt(t),f7(S1,uc[t.app.options.appId],e,n).catch(r=>Bn.error(r))}function BD(t,e,n,r){t=Pt(t),d7(S1,uc[t.app.options.appId],e,n,r).catch(s=>Bn.error(s))}const yI="@firebase/analytics",vI="0.10.19";function E7(){os(new qr(Ag,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return w7(r,s,n)},"PUBLIC")),os(new qr("analytics-internal",t,"PRIVATE")),rr(yI,vI),rr(yI,vI,"esm2020");function t(e){try{const n=e.getProvider(Ag).getImmediate();return{logEvent:(r,s,i)=>BD(n,r,s,i),setUserProperties:(r,s)=>x7(n,r,s)}}catch(n){throw wr.create("interop-component-reg-failed",{reason:n})}}}E7();const S7={apiKey:"AIzaSyA-ji4PrndkvUwbcN6axWGjLJd-pNJrTBY",authDomain:"math-adventure-app.firebaseapp.com",projectId:"math-adventure-app",storageBucket:"math-adventure-app.firebasestorage.app",messagingSenderId:"685781375492",appId:"1:685781375492:web:cb2f52696292927cb07351",measurementId:"G-FGQWD7WPCY"},hs=gP(S7),V0=sy(hs),k7=ky(hs);e8(hs);try{yz(k7).catch(t=>{t.code==="failed-precondition"?console.warn("Firestore persistence: Multiple tabs open"):t.code==="unimplemented"&&console.warn("Firestore persistence: Not supported in this browser")})}catch(t){console.warn("Firestore persistence init failed:",t)}let $D=null;try{zD().then(t=>{t&&($D=VD(hs))}).catch(()=>{})}catch{}const T7=$D;/**
* react-router v7.9.5
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/var wI="popstate";function _7(t={}){function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return db("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gd(s)}return C7(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Js(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I7(){return Math.random().toString(36).substring(2,10)}function bI(t,e){return{usr:t.state,key:t.key,idx:e}}function db(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oc(e):e,state:n,key:e&&e.key||r||I7()}}function Gd({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function C7(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u="POP",c=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let _=p(),N=_==null?null:_-d;d=_,c&&c({action:u,location:T.location,delta:N})}function v(_,N){u="PUSH";let D=db(T.location,_,N);d=p()+1;let j=bI(D,d),V=T.createHref(D);try{o.pushState(j,"",V)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(V)}i&&c&&c({action:u,location:T.location,delta:1})}function S(_,N){u="REPLACE";let D=db(T.location,_,N);d=p();let j=bI(D,d),V=T.createHref(D);o.replaceState(j,"",V),i&&c&&c({action:u,location:T.location,delta:0})}function I(_){return P7(_)}let T={get action(){return u},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wI,g),c=_,()=>{s.removeEventListener(wI,g),c=null}},createHref(_){return e(s,_)},createURL:I,encodeLocation(_){let N=I(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:S,go(_){return o.go(_)}};return T}function P7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Gd(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qD(t,e,n="/"){return N7(t,e,n,!1)}function N7(t,e,n,r){let s=typeof e=="string"?Oc(e):e,i=Li(s.pathname||"/",n);if(i==null)return null;let o=WD(t);R7(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let d=B7(i);u=V7(o[c],d,r)}return u}function WD(t,e=[],n=[],r="",s=!1){let i=(o,u,c=s,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&c)return;Ct(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Di([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(Ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),WD(o.children,e,v,g,c)),!(o.path==null&&!o.index)&&e.push({path:g,score:F7(g,o.index),routesMeta:v})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let d of HD(o.path))i(o,u,!0,d)}),e}function HD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=HD(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function R7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var D7=/^:[\w-]+$/,M7=3,A7=2,j7=1,O7=10,L7=-2,xI=t=>t==="*";function F7(t,e){let n=t.split("/"),r=n.length;return n.some(xI)&&(r+=L7),e&&(r+=A7),n.filter(s=>!xI(s)).reduce((s,i)=>s+(D7.test(i)?M7:i===""?j7:O7),r)}function U7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function V7(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),v=c.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Di([i,g.pathname]),pathnameBase:H7(Di([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Di([i,g.pathnameBase]))}return o}function jg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=z7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},g)=>{if(d==="*"){let S=u[g]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[g];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function z7(t,e=!1,n=!0){Js(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function B7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Js(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $7(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Oc(t):t;return{pathname:n?n.startsWith("/")?n:q7(n,e):e,search:K7(r),hash:G7(s)}}function q7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function z0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KD(t){let e=W7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function GD(t,e,n,r=!1){let s;typeof t=="string"?s=Oc(t):(s={...t},Ct(!s.pathname||!s.pathname.includes("?"),z0("?","pathname","search",s)),Ct(!s.pathname||!s.pathname.includes("#"),z0("#","pathname","hash",s)),Ct(!s.search||!s.search.includes("#"),z0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let c=$7(s,u),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),H7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),K7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QD=["POST","PUT","PATCH","DELETE"];new Set(QD);var X7=["GET",...QD];new Set(X7);var Lc=E.createContext(null);Lc.displayName="DataRouter";var Ly=E.createContext(null);Ly.displayName="DataRouterState";E.createContext(!1);var XD=E.createContext({isTransitioning:!1});XD.displayName="ViewTransition";var Y7=E.createContext(new Map);Y7.displayName="Fetchers";var J7=E.createContext(null);J7.displayName="Await";var ni=E.createContext(null);ni.displayName="Navigation";var kf=E.createContext(null);kf.displayName="Location";var Ki=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var k1=E.createContext(null);k1.displayName="RouteError";function Z7(t,{relative:e}={}){Ct(Tf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(ni),{hash:s,pathname:i,search:o}=_f(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Di([n,i])),r.createHref({pathname:u,search:o,hash:s})}function Tf(){return E.useContext(kf)!=null}function Gi(){return Ct(Tf(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(kf).location}var YD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JD(t){E.useContext(ni).static||E.useLayoutEffect(t)}function T1(){let{isDataRoute:t}=E.useContext(Ki);return t?dB():eB()}function eB(){Ct(Tf(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Lc),{basename:e,navigator:n}=E.useContext(ni),{matches:r}=E.useContext(Ki),{pathname:s}=Gi(),i=JSON.stringify(KD(r)),o=E.useRef(!1);return JD(()=>{o.current=!0}),E.useCallback((u,c={})=>{if(Js(o.current,YD),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=GD(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Di([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}E.createContext(null);function _f(t,{relative:e}={}){let{matches:n}=E.useContext(Ki),{pathname:r}=Gi(),s=JSON.stringify(KD(n));return E.useMemo(()=>GD(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function tB(t,e){return ZD(t,e)}function ZD(t,e,n,r,s){var i;Ct(Tf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(ni),{matches:u}=E.useContext(Ki),c=u[u.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let j=v&&v.path||"";eM(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Gi(),I;if(e){let j=typeof e=="string"?Oc(e):e;Ct(g==="/"||((i=j.pathname)==null?void 0:i.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),I=j}else I=S;let T=I.pathname||"/",_=T;if(g!=="/"){let j=g.replace(/^\//,"").split("/");_="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=qD(t,{pathname:_});Js(v||N!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Js(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=aB(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Di([g,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Di([g,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,n,r,s);return e&&D?E.createElement(kf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},D):D}function nB(){let t=hB(),e=Q7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,o)}var rB=E.createElement(nB,null),sB=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(Ki.Provider,{value:this.props.routeContext},E.createElement(k1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iB({routeContext:t,match:e,children:n}){let r=E.useContext(Lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ki.Provider,{value:t},n)}function aB(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let d=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ct(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:v}=n,S=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||S){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,p,g)=>{let v,S=!1,I=null,T=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,I=p.route.errorElement||rB,u&&(c<0&&g===0?(eM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):c===g&&(S=!0,T=p.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,g+1)),N=()=>{let D;return v?D=I:S?D=T:p.route.Component?D=E.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=d,E.createElement(iB,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(sB,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):N()},null)}function _1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oB(t){let e=E.useContext(Lc);return Ct(e,_1(t)),e}function lB(t){let e=E.useContext(Ly);return Ct(e,_1(t)),e}function uB(t){let e=E.useContext(Ki);return Ct(e,_1(t)),e}function I1(t){let e=uB(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cB(){return I1("useRouteId")}function hB(){var t;let e=E.useContext(k1),n=lB("useRouteError"),r=I1("useRouteError");return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dB(){let{router:t}=oB("useNavigate"),e=I1("useNavigate"),n=E.useRef(!1);return JD(()=>{n.current=!0}),E.useCallback(async(r,s={})=>{Js(n.current,YD),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var EI={};function eM(t,e,n){!e&&!EI[t]&&(EI[t]=!0,Js(!1,n))}E.memo(fB);function fB({routes:t,future:e,state:n,unstable_onError:r}){return ZD(t,void 0,n,r,e)}function Dt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ct(!Tf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Oc(n));let{pathname:c="/",search:d="",hash:p="",state:g=null,key:v="default"}=n,S=E.useMemo(()=>{let I=Li(c,o);return I==null?null:{location:{pathname:I,search:d,hash:p,state:g,key:v},navigationType:r}},[o,c,d,p,g,v,r]);return Js(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:E.createElement(ni.Provider,{value:u},E.createElement(kf.Provider,{children:e,value:S}))}function mB({children:t,location:e}){return tB(fb(t),e)}function fb(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let i=[...e,s];if(r.type===E.Fragment){n.push.apply(n,fb(r.props.children,i));return}Ct(r.type===Dt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fb(r.props.children,i)),n.push(o)}),n}var $m="get",qm="application/x-www-form-urlencoded";function Fy(t){return t!=null&&typeof t.tagName=="string"}function gB(t){return Fy(t)&&t.tagName.toLowerCase()==="button"}function yB(t){return Fy(t)&&t.tagName.toLowerCase()==="form"}function vB(t){return Fy(t)&&t.tagName.toLowerCase()==="input"}function wB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bB(t,e){return t.button===0&&(!e||e==="_self")&&!wB(t)}var lm=null;function xB(){if(lm===null)try{new FormData(document.createElement("form"),0),lm=!1}catch{lm=!0}return lm}var EB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function B0(t){return t!=null&&!EB.has(t)?(Js(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qm}"`),null):t}function SB(t,e){let n,r,s,i,o;if(yB(t)){let u=t.getAttribute("action");r=u?Li(u,e):null,n=t.getAttribute("method")||$m,s=B0(t.getAttribute("enctype"))||qm,i=new FormData(t)}else if(gB(t)||vB(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Li(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||$m,s=B0(t.getAttribute("formenctype"))||B0(u.getAttribute("enctype"))||qm,i=new FormData(u,t),!xB()){let{name:d,type:p,value:g}=t;if(p==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Fy(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$m,r=null,s=qm,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function C1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Li(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function TB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _B(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IB(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await TB(i,n);return o.links?o.links():[]}return[]}));return RB(r.flat(1).filter(_B).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function SI(t,e,n,r,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,u=(c,d)=>{var p;return n[d].pathname!==c.pathname||((p=n[d].route.path)==null?void 0:p.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||u(c,d)):i==="data"?e.filter((c,d)=>{var p;let g=r.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(o(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function CB(t,e,{includeHydrateFallback:n}={}){return PB(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function PB(t){return[...new Set(t)]}function NB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function RB(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(NB(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function tM(){let t=E.useContext(Lc);return C1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DB(){let t=E.useContext(Ly);return C1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var P1=E.createContext(void 0);P1.displayName="FrameworkContext";function nM(){let t=E.useContext(P1);return C1(t,"You must render this element inside a <HydratedRouter> element"),t}function MB(t,e){let n=E.useContext(P1),[r,s]=E.useState(!1),[i,o]=E.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=N=>{N.forEach(D=>{o(D.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),E.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{s(!0)},I=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:$h(u,S),onBlur:$h(c,I),onMouseEnter:$h(d,S),onMouseLeave:$h(p,I),onTouchStart:$h(g,S)}]:[!1,v,{}]}function $h(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function AB({page:t,...e}){let{router:n}=tM(),r=E.useMemo(()=>qD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(OB,{page:t,matches:r,...e}):null}function jB(t){let{manifest:e,routeModules:n}=nM(),[r,s]=E.useState([]);return E.useEffect(()=>{let i=!1;return IB(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function OB({page:t,matches:e,...n}){let r=Gi(),{manifest:s,routeModules:i}=nM(),{basename:o}=tM(),{loaderData:u,matches:c}=DB(),d=E.useMemo(()=>SI(t,e,c,s,r,"data"),[t,e,c,s,r]),p=E.useMemo(()=>SI(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,T=!1;if(e.forEach(N=>{var D;let j=s.routes[N.route.id];!j||!j.hasLoader||(!d.some(V=>V.route.id===N.route.id)&&N.route.id in u&&(D=i[N.route.id])!=null&&D.shouldRevalidate||j.hasClientLoader?T=!0:I.add(N.route.id))}),I.size===0)return[];let _=kB(t,o,"data");return T&&I.size>0&&_.searchParams.set("_routes",e.filter(N=>I.has(N.route.id)).map(N=>N.route.id).join(",")),[_.pathname+_.search]},[o,u,r,s,d,e,t,i]),v=E.useMemo(()=>CB(p,s),[p,s]),S=jB(p);return E.createElement(E.Fragment,null,g.map(I=>E.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),v.map(I=>E.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),S.map(({key:I,link:T})=>E.createElement("link",{key:I,nonce:n.nonce,...T})))}function LB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rM&&(window.__reactRouterVersion="7.9.5")}catch{}function FB({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=_7({window:n,v5Compat:!0}));let s=r.current,[i,o]=E.useState({action:s.action,location:s.location}),u=E.useCallback(c=>{E.startTransition(()=>o(c))},[o]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(pB,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var sM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=E.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:s,replace:i,state:o,target:u,to:c,preventScrollReset:d,viewTransition:p,...g},v){let{basename:S}=E.useContext(ni),I=typeof c=="string"&&sM.test(c),T,_=!1;if(typeof c=="string"&&I&&(T=c,rM))try{let C=new URL(window.location.href),R=c.startsWith("//")?new URL(C.protocol+c):new URL(c),O=Li(R.pathname,S);R.origin===C.origin&&O!=null?c=O+R.search+R.hash:_=!0}catch{Js(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Z7(c,{relative:r}),[D,j,V]=MB(n,g),B=BB(c,{replace:i,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:p});function H(C){t&&t(C),C.defaultPrevented||B(C)}let M=E.createElement("a",{...g,...V,href:T||N,onClick:_||s?t:H,ref:LB(v,j),target:u,"data-discover":!I&&e==="render"?"true":void 0});return D&&!I?E.createElement(E.Fragment,null,M,E.createElement(AB,{page:N})):M});ft.displayName="Link";var UB=E.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:s,to:i,viewTransition:o,children:u,...c},d){let p=_f(i,{relative:c.relative}),g=Gi(),v=E.useContext(Ly),{navigator:S,basename:I}=E.useContext(ni),T=v!=null&&KB(p)&&o===!0,_=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,N=g.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(N=N.toLowerCase(),D=D?D.toLowerCase():null,_=_.toLowerCase()),D&&I&&(D=Li(D,I)||D);const j=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let V=N===_||!r&&N.startsWith(_)&&N.charAt(j)==="/",B=D!=null&&(D===_||!r&&D.startsWith(_)&&D.charAt(_.length)==="/"),H={isActive:V,isPending:B,isTransitioning:T},M=V?t:void 0,C;typeof n=="function"?C=n(H):C=[n,V?"active":null,B?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(H):s;return E.createElement(ft,{...c,"aria-current":M,className:C,ref:d,style:R,to:i,viewTransition:o},typeof u=="function"?u(H):u)});UB.displayName="NavLink";var VB=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=$m,action:u,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:g,...v},S)=>{let I=WB(),T=HB(u,{relative:d}),_=o.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&sM.test(u),D=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let V=j.nativeEvent.submitter,B=(V==null?void 0:V.getAttribute("formmethod"))||o;I(V||j.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:s,state:i,relative:d,preventScrollReset:p,viewTransition:g})};return E.createElement("form",{ref:S,method:_,action:T,onSubmit:r?c:D,...v,"data-discover":!N&&t==="render"?"true":void 0})});VB.displayName="Form";function zB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iM(t){let e=E.useContext(Lc);return Ct(e,zB(t)),e}function BB(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=T1(),c=Gi(),d=_f(t,{relative:i});return E.useCallback(p=>{if(bB(p,e)){p.preventDefault();let g=n!==void 0?n:Gd(c)===Gd(d);u(t,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[c,u,d,n,r,e,t,s,i,o])}var $B=0,qB=()=>`__${String(++$B)}__`;function WB(){let{router:t}=iM("useSubmit"),{basename:e}=E.useContext(ni),n=cB();return E.useCallback(async(r,s={})=>{let{action:i,method:o,encType:u,formData:c,body:d}=SB(r,e);if(s.navigate===!1){let p=s.fetcherKey||qB();await t.fetch(p,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function HB(t,{relative:e}={}){let{basename:n}=E.useContext(ni),r=E.useContext(Ki);Ct(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={..._f(t||".",{relative:e})},o=Gi();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(d=>d==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let d=u.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Di([n,i.pathname])),Gd(i)}function KB(t,{relative:e}={}){let n=E.useContext(XD);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iM("useViewTransitionState"),s=_f(t,{relative:e});if(!n.isTransitioning)return!1;let i=Li(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Li(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jg(s.pathname,o)!=null||jg(s.pathname,i)!=null}var N1=Z2();const GB=ax(N1);function nt(t){if(!t)return"/";const[e,n]=t.split("?"),r="/"+e.replace(/\s+/g,"");return n?`${r}?${n}`:r}var If=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},QB={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vo,kI,TI,XB=(TI=class{constructor(){Ae(this,Vo,QB),Ae(this,kI,!1)}setTimeoutProvider(t){ge(this,Vo,t)}setTimeout(t,e){return q(this,Vo).setTimeout(t,e)}clearTimeout(t){q(this,Vo).clearTimeout(t)}setInterval(t,e){return q(this,Vo).setInterval(t,e)}clearInterval(t){q(this,Vo).clearInterval(t)}},Vo=new WeakMap,kI=new WeakMap,TI),ol=new XB;function YB(t){setTimeout(t,0)}var Nl=typeof window>"u"||"Deno"in globalThis;function er(){}function JB(t,e){return typeof t=="function"?t(e):t}function pb(t){return typeof t=="number"&&t>=0&&t!==1/0}function aM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qa(t,e){return typeof t=="function"?t(e):t}function Or(t,e){return typeof t=="function"?t(e):t}function _I(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==R1(o,e.options))return!1}else if(!Xd(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||i&&!i(e))}function II(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Qd(e.options.mutationKey)!==Qd(i))return!1}else if(!Xd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function R1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qd)(t)}function Qd(t){return JSON.stringify(t,(e,n)=>gb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xd(t[n],e[n])):!1}var ZB=Object.prototype.hasOwnProperty;function oM(t,e){if(t===e)return t;const n=CI(t)&&CI(e);if(!n&&!(gb(t)&&gb(e)))return e;const r=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),i=s.length,o=n?new Array(i):{};let u=0;for(let c=0;c<i;c++){const d=n?c:s[c],p=t[d],g=e[d];if(p===g){o[d]=p,(n?c<r:ZB.call(t,d))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[d]=g;continue}const v=oM(p,g);o[d]=v,v===p&&u++}return r===i&&u===r?t:o}function mb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function CI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gb(t){if(!PI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!PI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function PI(t){return Object.prototype.toString.call(t)==="[object Object]"}function e$(t){return new Promise(e=>{ol.setTimeout(e,t)})}function yb(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?oM(t,e):e}function t$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function n$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var D1=Symbol();function lM(t,e){return!t.queryFn&&e!=null&&e.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===D1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function r$(t,e){return typeof t=="function"?t(...e):!!t}var Au,zo,qh,NI,s$=(NI=class extends If{constructor(){super(),Ae(this,Au),Ae(this,zo),Ae(this,qh),ge(this,qh,t=>{if(!Nl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){q(this,zo)||this.setEventListener(q(this,qh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,zo))==null||t.call(this),ge(this,zo,void 0))}setEventListener(t){var e;ge(this,qh,t),(e=q(this,zo))==null||e.call(this),ge(this,zo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Au)!==t&&(ge(this,Au,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof q(this,Au)=="boolean"?q(this,Au):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Au=new WeakMap,zo=new WeakMap,qh=new WeakMap,NI),M1=new s$;function vb(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var i$=YB;function a$(){let t=[],e=0,n=u=>{u()},r=u=>{u()},s=i$;const i=u=>{e?t.push(u):s(()=>{n(u)})},o=()=>{const u=t;t=[],u.length&&s(()=>{r(()=>{u.forEach(c=>{n(c)})})})};return{batch:u=>{let c;e++;try{c=u()}finally{e--,e||o()}return c},batchCalls:u=>(...c)=>{i(()=>{u(...c)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var En=a$(),Wh,Bo,Hh,RI,o$=(RI=class extends If{constructor(){super(),Ae(this,Wh,!0),Ae(this,Bo),Ae(this,Hh),ge(this,Hh,t=>{if(!Nl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,Bo)||this.setEventListener(q(this,Hh))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Bo))==null||t.call(this),ge(this,Bo,void 0))}setEventListener(t){var e;ge(this,Hh,t),(e=q(this,Bo))==null||e.call(this),ge(this,Bo,t(this.setOnline.bind(this)))}setOnline(t){q(this,Wh)!==t&&(ge(this,Wh,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return q(this,Wh)}},Wh=new WeakMap,Bo=new WeakMap,Hh=new WeakMap,RI),Og=new o$;function l$(t){return Math.min(1e3*2**t,3e4)}function uM(t){return(t??"online")==="online"?Og.isOnline():!0}var wb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cM(t){let e=!1,n=0,r;const s=vb(),i=()=>s.status!=="pending",o=T=>{var _;if(!i()){const N=new wb(T);v(N),(_=t.onCancel)==null||_.call(t,N)}},u=()=>{e=!0},c=()=>{e=!1},d=()=>M1.isFocused()&&(t.networkMode==="always"||Og.isOnline())&&t.canRun(),p=()=>uM(t.networkMode)&&t.canRun(),g=T=>{i()||(r==null||r(),s.resolve(T))},v=T=>{i()||(r==null||r(),s.reject(T))},S=()=>new Promise(T=>{var _;r=N=>{(i()||d())&&T(N)},(_=t.onPause)==null||_.call(t)}).then(()=>{var T;r=void 0,i()||(T=t.onContinue)==null||T.call(t)}),I=()=>{if(i())return;let T;const _=n===0?t.initialPromise:void 0;try{T=_??t.fn()}catch(N){T=Promise.reject(N)}Promise.resolve(T).then(g).catch(N=>{var D;if(i())return;const j=t.retry??(Nl?0:3),V=t.retryDelay??l$,B=typeof V=="function"?V(n,N):V,H=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,N);if(e||!H){v(N);return}n++,(D=t.onFail)==null||D.call(t,n,N),e$(B).then(()=>d()?void 0:S()).then(()=>{e?v(N):I()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:c,canStart:p,start:()=>(p()?I():S().then(I),s)}}var ju,DI,hM=(DI=class{constructor(){Ae(this,ju)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pb(this.gcTime)&&ge(this,ju,ol.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nl?1/0:300*1e3))}clearGcTimeout(){q(this,ju)&&(ol.clearTimeout(q(this,ju)),ge(this,ju,void 0))}},ju=new WeakMap,DI),Ou,Kh,ns,Lu,vn,um,Fu,Ms,Ei,MI,u$=(MI=class extends hM{constructor(t){super(),Ae(this,Ms),Ae(this,Ou),Ae(this,Kh),Ae(this,ns),Ae(this,Lu),Ae(this,vn),Ae(this,um),Ae(this,Fu),ge(this,Fu,!1),ge(this,um,t.defaultOptions),this.setOptions(t.options),this.observers=[],ge(this,Lu,t.client),ge(this,ns,q(this,Lu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ge(this,Ou,jI(this.options)),this.state=t.state??q(this,Ou),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,vn))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,um),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=jI(this.options);e.data!==void 0&&(this.setState(AI(e.data,e.dataUpdatedAt)),ge(this,Ou,e))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,ns).remove(this)}setData(t,e){const n=yb(this.state.data,t,this.options);return Ze(this,Ms,Ei).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){Ze(this,Ms,Ei).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var e,n;const r=(e=q(this,vn))==null?void 0:e.promise;return(n=q(this,vn))==null||n.cancel(t),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Ou))}isActive(){return this.observers.some(t=>Or(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===D1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aM(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,vn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=q(this,vn))==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,ns).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(q(this,vn)&&(q(this,Fu)?q(this,vn).cancel({revert:!0}):q(this,vn).cancelRetry()),this.scheduleGc()),q(this,ns).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Ms,Ei).call(this,{type:"invalidate"})}async fetch(t,e){var n,r,s,i,o,u,c,d,p,g,v,S;if(this.state.fetchStatus!=="idle"&&((n=q(this,vn))==null?void 0:n.status())!=="rejected"){if(this.state.data!==void 0&&e!=null&&e.cancelRefetch)this.cancel({silent:!0});else if(q(this,vn))return q(this,vn).continueRetry(),q(this,vn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const D=this.observers.find(j=>j.options.queryFn);D&&this.setOptions(D.options)}const I=new AbortController,T=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(ge(this,Fu,!0),I.signal)})},_=()=>{const D=lM(this.options,e),j=(()=>{const V={client:q(this,Lu),queryKey:this.queryKey,meta:this.meta};return T(V),V})();return ge(this,Fu,!1),this.options.persister?this.options.persister(D,j,this):D(j)},N=(()=>{const D={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:q(this,Lu),state:this.state,fetchFn:_};return T(D),D})();(r=this.options.behavior)==null||r.onFetch(N,this),ge(this,Kh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=N.fetchOptions)==null?void 0:s.meta))&&Ze(this,Ms,Ei).call(this,{type:"fetch",meta:(i=N.fetchOptions)==null?void 0:i.meta}),ge(this,vn,cM({initialPromise:e==null?void 0:e.initialPromise,fn:N.fetchFn,onCancel:D=>{D instanceof wb&&D.revert&&this.setState({...q(this,Kh),fetchStatus:"idle"}),I.abort()},onFail:(D,j)=>{Ze(this,Ms,Ei).call(this,{type:"failed",failureCount:D,error:j})},onPause:()=>{Ze(this,Ms,Ei).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Ms,Ei).call(this,{type:"continue"})},retry:N.options.retry,retryDelay:N.options.retryDelay,networkMode:N.options.networkMode,canRun:()=>!0}));try{const D=await q(this,vn).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(u=(o=q(this,ns).config).onSuccess)==null||u.call(o,D,this),(d=(c=q(this,ns).config).onSettled)==null||d.call(c,D,this.state.error,this),D}catch(D){if(D instanceof wb){if(D.silent)return q(this,vn).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw Ze(this,Ms,Ei).call(this,{type:"error",error:D}),(g=(p=q(this,ns).config).onError)==null||g.call(p,D,this),(S=(v=q(this,ns).config).onSettled)==null||S.call(v,this.state.data,D,this),D}finally{this.scheduleGc()}}},Ou=new WeakMap,Kh=new WeakMap,ns=new WeakMap,Lu=new WeakMap,vn=new WeakMap,um=new WeakMap,Fu=new WeakMap,Ms=new WeakSet,Ei=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...dM(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...AI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Kh,t.manual?r:void 0),r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),En.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,ns).notify({query:this,type:"updated",action:t})})},MI);function dM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function AI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,Je,cm,Jn,Uu,Gh,Ra,$o,hm,Qh,Xh,Vu,zu,qo,Yh,Ht,Jh,$0,q0,W0,H0,K0,G0,Q0,OI,LI,c$=(LI=class extends If{constructor(t,e){super(),Ae(this,Ht),Ae(this,pr),Ae(this,Je),Ae(this,cm),Ae(this,Jn),Ae(this,Uu),Ae(this,Gh),Ae(this,Ra),Ae(this,$o),Ae(this,hm),Ae(this,Qh),Ae(this,Xh),Ae(this,Vu),Ae(this,zu),Ae(this,qo),Ae(this,Yh,new Set),this.options=e,ge(this,pr,t),ge(this,$o,null),ge(this,Ra,vb()),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Je).addObserver(this),FI(q(this,Je),this.options)?Ze(this,Ht,Jh).call(this):this.updateResult(),Ze(this,Ht,H0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bb(q(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bb(q(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,Ht,K0).call(this),Ze(this,Ht,G0).call(this),q(this,Je).removeObserver(this)}setOptions(t){const e=this.options,n=q(this,Je);if(this.options=q(this,pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Or(this.options.enabled,q(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,Ht,Q0).call(this),q(this,Je).setOptions(this.options),e._defaulted&&!mb(this.options,e)&&q(this,pr).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Je),observer:this});const r=this.hasListeners();r&&UI(q(this,Je),n,this.options,e)&&Ze(this,Ht,Jh).call(this),this.updateResult(),r&&(q(this,Je)!==n||Or(this.options.enabled,q(this,Je))!==Or(e.enabled,q(this,Je))||Qa(this.options.staleTime,q(this,Je))!==Qa(e.staleTime,q(this,Je)))&&Ze(this,Ht,$0).call(this);const s=Ze(this,Ht,q0).call(this);r&&(q(this,Je)!==n||Or(this.options.enabled,q(this,Je))!==Or(e.enabled,q(this,Je))||s!==q(this,qo))&&Ze(this,Ht,W0).call(this,s)}getOptimisticResult(t){const e=q(this,pr).getQueryCache().build(q(this,pr),t),n=this.createResult(e,t);return d$(this,n)&&(ge(this,Jn,n),ge(this,Gh,this.options),ge(this,Uu,q(this,Je).state)),n}getCurrentResult(){return q(this,Jn)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e==null||e(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,Ra).status==="pending"&&q(this,Ra).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){q(this,Yh).add(t)}getCurrentQuery(){return q(this,Je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=q(this,pr).defaultQueryOptions(t),n=q(this,pr).getQueryCache().build(q(this,pr),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return Ze(this,Ht,Jh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Jn)))}createResult(t,e){var n;const r=q(this,Je),s=this.options,i=q(this,Jn),o=q(this,Uu),u=q(this,Gh),c=t!==r?t.state:q(this,cm),{state:d}=t;let p={...d},g=!1,v;if(e._optimisticResults){const M=this.hasListeners(),C=!M&&FI(t,e),R=M&&UI(t,r,e,s);(C||R)&&(p={...p,...dM(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:S,errorUpdatedAt:I,status:T}=p;v=p.data;let _=!1;if(e.placeholderData!==void 0&&v===void 0&&T==="pending"){let M;i!=null&&i.isPlaceholderData&&e.placeholderData===(u==null?void 0:u.placeholderData)?(M=i.data,_=!0):M=typeof e.placeholderData=="function"?e.placeholderData((n=q(this,Xh))==null?void 0:n.state.data,q(this,Xh)):e.placeholderData,M!==void 0&&(T="success",v=yb(i==null?void 0:i.data,M,e),g=!0)}if(e.select&&v!==void 0&&!_)if(i&&v===(o==null?void 0:o.data)&&e.select===q(this,hm))v=q(this,Qh);else try{ge(this,hm,e.select),v=e.select(v),v=yb(i==null?void 0:i.data,v,e),ge(this,Qh,v),ge(this,$o,null)}catch(M){ge(this,$o,M)}q(this,$o)&&(S=q(this,$o),v=q(this,Qh),I=Date.now(),T="error");const N=p.fetchStatus==="fetching",D=T==="pending",j=T==="error",V=D&&N,B=v!==void 0,H={status:T,fetchStatus:p.fetchStatus,isPending:D,isSuccess:T==="success",isError:j,isInitialLoading:V,isLoading:V,data:v,dataUpdatedAt:p.dataUpdatedAt,error:S,errorUpdatedAt:I,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:N,isRefetching:N&&!D,isLoadingError:j&&!B,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:j&&B,isStale:A1(t,e),refetch:this.refetch,promise:q(this,Ra),isEnabled:Or(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=O=>{H.status==="error"?O.reject(H.error):H.data!==void 0&&O.resolve(H.data)},C=()=>{const O=ge(this,Ra,H.promise=vb());M(O)},R=q(this,Ra);switch(R.status){case"pending":t.queryHash===r.queryHash&&M(R);break;case"fulfilled":(H.status==="error"||H.data!==R.value)&&C();break;case"rejected":(H.status!=="error"||H.error!==R.reason)&&C();break}}return H}updateResult(){const t=q(this,Jn),e=this.createResult(q(this,Je),this.options);if(ge(this,Uu,q(this,Je).state),ge(this,Gh,this.options),q(this,Uu).data!==void 0&&ge(this,Xh,q(this,Je)),mb(e,t))return;ge(this,Jn,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!q(this,Yh).size)return!0;const i=new Set(s??q(this,Yh));return this.options.throwOnError&&i.add("error"),Object.keys(q(this,Jn)).some(o=>{const u=o;return q(this,Jn)[u]!==t[u]&&i.has(u)})};Ze(this,Ht,OI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,Ht,H0).call(this)}},pr=new WeakMap,Je=new WeakMap,cm=new WeakMap,Jn=new WeakMap,Uu=new WeakMap,Gh=new WeakMap,Ra=new WeakMap,$o=new WeakMap,hm=new WeakMap,Qh=new WeakMap,Xh=new WeakMap,Vu=new WeakMap,zu=new WeakMap,qo=new WeakMap,Yh=new WeakMap,Ht=new WeakSet,Jh=function(t){Ze(this,Ht,Q0).call(this);let e=q(this,Je).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(er)),e},$0=function(){Ze(this,Ht,K0).call(this);const t=Qa(this.options.staleTime,q(this,Je));if(Nl||q(this,Jn).isStale||!pb(t))return;const e=aM(q(this,Jn).dataUpdatedAt,t)+1;ge(this,Vu,ol.setTimeout(()=>{q(this,Jn).isStale||this.updateResult()},e))},q0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Je)):this.options.refetchInterval)??!1},W0=function(t){Ze(this,Ht,G0).call(this),ge(this,qo,t),!(Nl||Or(this.options.enabled,q(this,Je))===!1||!pb(q(this,qo))||q(this,qo)===0)&&ge(this,zu,ol.setInterval(()=>{(this.options.refetchIntervalInBackground||M1.isFocused())&&Ze(this,Ht,Jh).call(this)},q(this,qo)))},H0=function(){Ze(this,Ht,$0).call(this),Ze(this,Ht,W0).call(this,Ze(this,Ht,q0).call(this))},K0=function(){q(this,Vu)&&(ol.clearTimeout(q(this,Vu)),ge(this,Vu,void 0))},G0=function(){q(this,zu)&&(ol.clearInterval(q(this,zu)),ge(this,zu,void 0))},Q0=function(){const t=q(this,pr).getQueryCache().build(q(this,pr),this.options);if(t===q(this,Je))return;const e=q(this,Je);ge(this,Je,t),ge(this,cm,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},OI=function(t){En.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(q(this,Jn))}),q(this,pr).getQueryCache().notify({query:q(this,Je),type:"observerResultsUpdated"})})},LI);function h$(t,e){return Or(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function FI(t,e){return h$(t,e)||t.state.data!==void 0&&bb(t,e,e.refetchOnMount)}function bb(t,e,n){if(Or(e.enabled,t)!==!1&&Qa(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&A1(t,e)}return!1}function UI(t,e,n,r){return(t!==e||Or(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&A1(t,n)}function A1(t,e){return Or(e.enabled,t)!==!1&&t.isStaleByTime(Qa(e.staleTime,t))}function d$(t,e){return!mb(t.getCurrentResult(),e)}function VI(t){return{onFetch:(e,n)=>{var r,s,i,o,u;const c=e.options,d=(i=(s=(r=e.fetchOptions)==null?void 0:r.meta)==null?void 0:s.fetchMore)==null?void 0:i.direction,p=((o=e.state.data)==null?void 0:o.pages)||[],g=((u=e.state.data)==null?void 0:u.pageParams)||[];let v={pages:[],pageParams:[]},S=0;const I=async()=>{let T=!1;const _=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},N=lM(e.options,e.fetchOptions),D=async(j,V,B)=>{if(T)return Promise.reject();if(V==null&&j.pages.length)return Promise.resolve(j);const H=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:V,direction:B?"backward":"forward",meta:e.options.meta};return _(O),O})(),M=await N(H),{maxPages:C}=e.options,R=B?n$:t$;return{pages:R(j.pages,M,C),pageParams:R(j.pageParams,V,C)}};if(d&&p.length){const j=d==="backward",V=j?f$:zI,B={pages:p,pageParams:g},H=V(c,B);v=await D(B,H,j)}else{const j=t??p.length;do{const V=S===0?g[0]??c.initialPageParam:zI(c,v);if(S>0&&V==null)break;v=await D(v,V),S++}while(S<j)}return v};e.options.persister?e.fetchFn=()=>{var T,_;return(_=(T=e.options).persister)==null?void 0:_.call(T,I,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=I}}}function zI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function f$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var dm,Si,Zn,Bu,ki,Da,BI,p$=(BI=class extends hM{constructor(t){super(),Ae(this,ki),Ae(this,dm),Ae(this,Si),Ae(this,Zn),Ae(this,Bu),ge(this,dm,t.client),this.mutationId=t.mutationId,ge(this,Zn,t.mutationCache),ge(this,Si,[]),this.state=t.state||m$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,Si).includes(t)||(q(this,Si).push(t),this.clearGcTimeout(),q(this,Zn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ge(this,Si,q(this,Si).filter(e=>e!==t)),this.scheduleGc(),q(this,Zn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,Si).length||(this.state.status==="pending"?this.scheduleGc():q(this,Zn).remove(this))}continue(){var t;return((t=q(this,Bu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var e,n,r,s,i,o,u,c,d,p,g,v,S,I,T,_,N,D,j,V;const B=()=>{Ze(this,ki,Da).call(this,{type:"continue"})},H={client:q(this,dm),meta:this.options.meta,mutationKey:this.options.mutationKey};ge(this,Bu,cM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,H):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{Ze(this,ki,Da).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{Ze(this,ki,Da).call(this,{type:"pause"})},onContinue:B,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Zn).canRun(this)}));const M=this.state.status==="pending",C=!q(this,Bu).canStart();try{if(M)B();else{Ze(this,ki,Da).call(this,{type:"pending",variables:t,isPaused:C}),await((n=(e=q(this,Zn).config).onMutate)==null?void 0:n.call(e,t,this,H));const O=await((s=(r=this.options).onMutate)==null?void 0:s.call(r,t,H));O!==this.state.context&&Ze(this,ki,Da).call(this,{type:"pending",context:O,variables:t,isPaused:C})}const R=await q(this,Bu).start();return await((o=(i=q(this,Zn).config).onSuccess)==null?void 0:o.call(i,R,t,this.state.context,this,H)),await((c=(u=this.options).onSuccess)==null?void 0:c.call(u,R,t,this.state.context,H)),await((p=(d=q(this,Zn).config).onSettled)==null?void 0:p.call(d,R,null,this.state.variables,this.state.context,this,H)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,R,null,t,this.state.context,H)),Ze(this,ki,Da).call(this,{type:"success",data:R}),R}catch(R){try{throw await((I=(S=q(this,Zn).config).onError)==null?void 0:I.call(S,R,t,this.state.context,this,H)),await((_=(T=this.options).onError)==null?void 0:_.call(T,R,t,this.state.context,H)),await((D=(N=q(this,Zn).config).onSettled)==null?void 0:D.call(N,void 0,R,this.state.variables,this.state.context,this,H)),await((V=(j=this.options).onSettled)==null?void 0:V.call(j,void 0,R,t,this.state.context,H)),R}finally{Ze(this,ki,Da).call(this,{type:"error",error:R})}}finally{q(this,Zn).runNext(this)}}},dm=new WeakMap,Si=new WeakMap,Zn=new WeakMap,Bu=new WeakMap,ki=new WeakSet,Da=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),En.batch(()=>{q(this,Si).forEach(n=>{n.onMutationUpdate(t)}),q(this,Zn).notify({mutation:this,type:"updated",action:t})})},BI);function m$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ma,As,fm,$I,g$=($I=class extends If{constructor(t={}){super(),Ae(this,Ma),Ae(this,As),Ae(this,fm),this.config=t,ge(this,Ma,new Set),ge(this,As,new Map),ge(this,fm,0)}build(t,e,n){const r=new p$({client:t,mutationCache:this,mutationId:++Rw(this,fm)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){q(this,Ma).add(t);const e=pm(t);if(typeof e=="string"){const n=q(this,As).get(e);n?n.push(t):q(this,As).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,Ma).delete(t)){const e=pm(t);if(typeof e=="string"){const n=q(this,As).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&q(this,As).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=pm(t);if(typeof e=="string"){const n=q(this,As).get(e),r=n==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){var e;const n=pm(t);if(typeof n=="string"){const r=(e=q(this,As).get(n))==null?void 0:e.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){En.batch(()=>{q(this,Ma).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,Ma).clear(),q(this,As).clear()})}getAll(){return Array.from(q(this,Ma))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>II(e,n))}findAll(t={}){return this.getAll().filter(e=>II(t,e))}notify(t){En.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return En.batch(()=>Promise.all(t.map(e=>e.continue().catch(er))))}},Ma=new WeakMap,As=new WeakMap,fm=new WeakMap,$I);function pm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ti,qI,y$=(qI=class extends If{constructor(t={}){super(),Ae(this,Ti),this.config=t,ge(this,Ti,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??R1(r,e);let i=this.get(s);return i||(i=new u$({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){q(this,Ti).has(t.queryHash)||(q(this,Ti).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=q(this,Ti).get(t.queryHash);e&&(t.destroy(),e===t&&q(this,Ti).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){En.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Ti).get(t)}getAll(){return[...q(this,Ti).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>_I(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>_I(t,n)):e}notify(t){En.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){En.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ti=new WeakMap,qI),Kt,Wo,Ho,Zh,ed,Ko,td,nd,WI,v$=(WI=class{constructor(t={}){Ae(this,Kt),Ae(this,Wo),Ae(this,Ho),Ae(this,Zh),Ae(this,ed),Ae(this,Ko),Ae(this,td),Ae(this,nd),ge(this,Kt,t.queryCache||new y$),ge(this,Wo,t.mutationCache||new g$),ge(this,Ho,t.defaultOptions||{}),ge(this,Zh,new Map),ge(this,ed,new Map),ge(this,Ko,0)}mount(){Rw(this,Ko)._++,q(this,Ko)===1&&(ge(this,td,M1.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Kt).onFocus())})),ge(this,nd,Og.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,Kt).onOnline())})))}unmount(){var t,e;Rw(this,Ko)._--,q(this,Ko)===0&&((t=q(this,td))==null||t.call(this),ge(this,td,void 0),(e=q(this,nd))==null||e.call(this),ge(this,nd,void 0))}isFetching(t){return q(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Wo).findAll({...t,status:"pending"}).length}getQueryData(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Kt).get(n.queryHash))==null?void 0:e.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,Kt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Qa(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return q(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=q(this,Kt).get(r.queryHash),i=s==null?void 0:s.state.data,o=JB(e,i);if(o!==void 0)return q(this,Kt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return En.batch(()=>q(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;const n=this.defaultQueryOptions({queryKey:t});return(e=q(this,Kt).get(n.queryHash))==null?void 0:e.state}removeQueries(t){const e=q(this,Kt);En.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,Kt);return En.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=En.batch(()=>q(this,Kt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t,e={}){return En.batch(()=>(q(this,Kt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=En.batch(()=>q(this,Kt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,Kt).build(this,e);return n.isStaleByTime(Qa(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=VI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=VI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Og.isOnline()?q(this,Wo).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,Kt)}getMutationCache(){return q(this,Wo)}getDefaultOptions(){return q(this,Ho)}setDefaultOptions(t){ge(this,Ho,t)}setQueryDefaults(t,e){q(this,Zh).set(Qd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,Zh).values()],n={};return e.forEach(r=>{Xd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){q(this,ed).set(Qd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,ed).values()],n={};return e.forEach(r=>{Xd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,Ho).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=R1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===D1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,Ho).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,Kt).clear(),q(this,Wo).clear()}},Kt=new WeakMap,Wo=new WeakMap,Ho=new WeakMap,Zh=new WeakMap,ed=new WeakMap,Ko=new WeakMap,td=new WeakMap,nd=new WeakMap,WI),fM=E.createContext(void 0),w$=t=>{const e=E.useContext(fM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},b$=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(fM.Provider,{value:t,children:e})),pM=E.createContext(!1),x$=()=>E.useContext(pM);pM.Provider;function E$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var S$=E.createContext(E$()),k$=()=>E.useContext(S$),T$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_$=t=>{E.useEffect(()=>{t.clearReset()},[t])},I$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||r$(n,[t.error,r])),C$=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},P$=(t,e)=>t.isLoading&&t.isFetching&&!e,N$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,HI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function R$(t,e,n){var r,s,i,o,u;const c=x$(),d=k$(),p=w$(),g=p.defaultQueryOptions(t);(s=(r=p.getDefaultOptions().queries)==null?void 0:r._experimental_beforeQuery)==null||s.call(r,g),g._optimisticResults=c?"isRestoring":"optimistic",C$(g),T$(g,d),_$(d);const v=!p.getQueryCache().get(g.queryHash),[S]=E.useState(()=>new e(p,g)),I=S.getOptimisticResult(g),T=!c&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(_=>{const N=T?S.subscribe(En.batchCalls(_)):er;return S.updateResult(),N},[S,T]),()=>S.getCurrentResult(),()=>S.getCurrentResult()),E.useEffect(()=>{S.setOptions(g)},[g,S]),N$(g,I))throw HI(g,S,d);if(I$({result:I,errorResetBoundary:d,throwOnError:g.throwOnError,query:p.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw I.error;if((o=(i=p.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,g,I),g.experimental_prefetchInRender&&!Nl&&P$(I,c)){const _=v?HI(g,S,d):(u=p.getQueryCache().get(g.queryHash))==null?void 0:u.promise;_==null||_.catch(er).finally(()=>{S.updateResult()})}return g.notifyOnChangeProps?I:S.trackResult(I)}function D$(t,e){return R$(t,c$)}/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const M$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var A$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const j$=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>E.createElement("svg",{ref:c,...A$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mM("lucide",s),...u},[...o.map(([d,p])=>E.createElement(d,p)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xe=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(j$,{ref:i,iconNode:e,className:mM(`lucide-${M$(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L$=Xe("ArrowRight",O$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const F$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],U$=Xe("Award",F$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const V$=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Wm=Xe("Brain",V$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const z$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],X0=Xe("Calendar",z$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const B$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$$=Xe("ChartColumn",B$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const q$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],W$=Xe("Check",q$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const H$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K$=Xe("ChevronDown",H$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const G$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q$=Xe("ChevronRight",G$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const X$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y$=Xe("CircleCheckBig",X$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const J$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Z$=Xe("CircleX",J$);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tq=Xe("Circle",eq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],rq=Xe("Clock",nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sq=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],KI=Xe("Coins",sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],aq=Xe("CreditCard",iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oq=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ll=Xe("Crown",oq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GI=Xe("EyeOff",lq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QI=Xe("Eye",uq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cq=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],hq=Xe("Gamepad2",cq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dq=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],XI=Xe("GraduationCap",dq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fq=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],YI=Xe("Heart",fq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],JI=Xe("House",pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mq=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ZI=Xe("LogOut",mq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gq=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],eC=Xe("Mail",gq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yq=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],vq=Xe("Menu",yq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wq=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],bq=Xe("PartyPopper",wq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Eq=Xe("Rocket",xq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Sq=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tC=Xe("Settings",Sq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tq=Xe("Shield",kq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _q=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Y0=Xe("ShoppingBag",_q);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Iq=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],gM=Xe("Sparkles",Iq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Cq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],J0=Xe("Star",Cq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pq=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],xb=Xe("Trophy",Pq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Nq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Z0=Xe("User",Nq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Eb=Xe("Users",Rq);/**
* @license lucide-react v0.475.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Dq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j1=Xe("X",Dq);function yM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=yM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vM(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=yM(t))&&(r&&(r+=" "),r+=e);return r}const nC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rC=vM,Uy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return rC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const p=n==null?void 0:n[d],g=i==null?void 0:i[d];if(p===null)return null;const v=nC(p)||nC(g);return s[d][v]}),u=n&&Object.entries(n).reduce((d,p)=>{let[g,v]=p;return v===void 0||(d[g]=v),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:g,className:v,...S}=p;return Object.entries(S).every(I=>{let[T,_]=I;return Array.isArray(_)?_.includes({...i,...u}[T]):{...i,...u}[T]===_})?[...d,g,v]:d},[]);return rC(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},O1="-",Mq=t=>{const e=jq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const i=s.split(O1);return i[0]===""&&i.length!==1&&i.shift(),wM(i,e)||Aq(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},wM=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),i=s?wM(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(O1);return(n=e.validators.find(({validator:u})=>u(o)))==null?void 0:n.classGroupId},sC=/^\[(.+)\]$/,Aq=t=>{if(sC.test(t)){const e=sC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jq=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Sb(n[s],r,s,e);return r},Sb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:iC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Oq(s)){Sb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Sb(o,iC(e,i),n,r)})})},iC=(t,e)=>{let n=t;return e.split(O1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Oq=t=>t.isThemeGetter,Lq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},kb="!",Tb=":",Fq=Tb.length,Uq=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,u=0,c=0,d;for(let I=0;I<s.length;I++){let T=s[I];if(o===0&&u===0){if(T===Tb){i.push(s.slice(c,I)),c=I+Fq;continue}if(T==="/"){d=I;continue}}T==="["?o++:T==="]"?o--:T==="("?u++:T===")"&&u--}const p=i.length===0?s:s.substring(c),g=Vq(p),v=g!==p,S=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const s=e+Tb,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Vq=t=>t.endsWith(kb)?t.substring(0,t.length-1):t.startsWith(kb)?t.substring(1):t,zq=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||e[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},Bq=t=>({cache:Lq(t.cacheSize),parseClassName:Uq(t),sortModifiers:zq(t),...Mq(t)}),$q=/\s+/,qq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],u=t.trim().split($q);let c="";for(let d=u.length-1;d>=0;d-=1){const p=u[d],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:T}=n(p);if(g){c=p+(c.length>0?" "+c:c);continue}let _=!!T,N=r(_?I.substring(0,T):I);if(!N){if(!_){c=p+(c.length>0?" "+c:c);continue}if(N=r(I),!N){c=p+(c.length>0?" "+c:c);continue}_=!1}const D=i(v).join(":"),j=S?D+kb:D,V=j+N;if(o.includes(V))continue;o.push(V);const B=s(N,_);for(let H=0;H<B.length;++H){const M=B[H];o.push(j+M)}c=p+(c.length>0?" "+c:c)}return c};function Wq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bM(e))&&(r&&(r+=" "),r+=n);return r}const bM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bM(t[r]))&&(n&&(n+=" "),n+=e);return n};function Hq(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((p,g)=>g(p),t());return n=Bq(d),r=n.cache.get,s=n.cache.set,i=u,u(c)}function u(c){const d=r(c);if(d)return d;const p=qq(c,n);return s(c,p),p}return function(){return i(Wq.apply(null,arguments))}}const sn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kq=/^\d+\/\d+$/,Gq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Yq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$u=t=>Kq.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),Aa=t=>!!t&&Number.isInteger(Number(t)),ew=t=>t.endsWith("%")&&qe(t.slice(0,-1)),_i=t=>Gq.test(t),Zq=()=>!0,eW=t=>Qq.test(t)&&!Xq.test(t),SM=()=>!1,tW=t=>Yq.test(t),nW=t=>Jq.test(t),rW=t=>!xe(t)&&!Ee(t),sW=t=>Fc(t,_M,SM),xe=t=>xM.test(t),Go=t=>Fc(t,IM,eW),tw=t=>Fc(t,uW,qe),aC=t=>Fc(t,kM,SM),iW=t=>Fc(t,TM,nW),mm=t=>Fc(t,CM,tW),Ee=t=>EM.test(t),rd=t=>Uc(t,IM),aW=t=>Uc(t,cW),oC=t=>Uc(t,kM),oW=t=>Uc(t,_M),lW=t=>Uc(t,TM),gm=t=>Uc(t,CM,!0),Fc=(t,e,n)=>{const r=xM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Uc=(t,e,n=!1)=>{const r=EM.exec(t);return r?r[1]?e(r[1]):n:!1},kM=t=>t==="position"||t==="percentage",TM=t=>t==="image"||t==="url",_M=t=>t==="length"||t==="size"||t==="bg-size",IM=t=>t==="length",uW=t=>t==="number",cW=t=>t==="family-name",CM=t=>t==="shadow",hW=()=>{const t=sn("color"),e=sn("font"),n=sn("text"),r=sn("font-weight"),s=sn("tracking"),i=sn("leading"),o=sn("breakpoint"),u=sn("container"),c=sn("spacing"),d=sn("radius"),p=sn("shadow"),g=sn("inset-shadow"),v=sn("text-shadow"),S=sn("drop-shadow"),I=sn("blur"),T=sn("perspective"),_=sn("aspect"),N=sn("ease"),D=sn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...V(),Ee,xe],H=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],C=()=>[Ee,xe,c],R=()=>[$u,"full","auto",...C()],O=()=>[Aa,"none","subgrid",Ee,xe],U=()=>["auto",{span:["full",Aa,Ee,xe]},Aa,Ee,xe],$=()=>[Aa,"auto",Ee,xe],L=()=>["auto","min","max","fr",Ee,xe],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],ye=()=>["auto",...C()],ve=()=>[$u,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],G=()=>[t,Ee,xe],ne=()=>[...V(),oC,aC,{position:[Ee,xe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",oW,sW,{size:[Ee,xe]}],re=()=>[ew,rd,Go],pe=()=>["","none","full",d,Ee,xe],me=()=>["",qe,rd,Go],Me=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[qe,ew,oC,aC],$e=()=>["","none",I,Ee,xe],Ve=()=>["none",qe,Ee,xe],pt=()=>["none",qe,Ee,xe],Er=()=>[qe,Ee,xe],Sr=()=>[$u,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_i],breakpoint:[_i],color:[Zq],container:[_i],"drop-shadow":[_i],ease:["in","out","in-out"],font:[rW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_i],shadow:[_i],spacing:["px",qe],text:[_i],"text-shadow":[_i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$u,xe,Ee,_]}],container:["container"],columns:[{columns:[qe,xe,Ee,u]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Aa,"auto",Ee,xe]}],basis:[{basis:[$u,"full","auto",u,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,$u,"auto","initial","none",xe]}],grow:[{grow:["",qe,Ee,xe]}],shrink:[{shrink:["",qe,Ee,xe]}],order:[{order:[Aa,"first","last","none",Ee,xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ye()}],mx:[{mx:ye()}],my:[{my:ye()}],ms:[{ms:ye()}],me:[{me:ye()}],mt:[{mt:ye()}],mr:[{mr:ye()}],mb:[{mb:ye()}],ml:[{ml:ye()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ve()}],w:[{w:[u,"screen",...ve()]}],"min-w":[{"min-w":[u,"screen","none",...ve()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ve()]}],h:[{h:["screen","lh",...ve()]}],"min-h":[{"min-h":["screen","lh","none",...ve()]}],"max-h":[{"max-h":["screen","lh",...ve()]}],"font-size":[{text:["base",n,rd,Go]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,tw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ew,xe]}],"font-family":[{font:[aW,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ee,xe]}],"line-clamp":[{"line-clamp":[qe,"none",Ee,tw]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",Ee,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Ee,Go]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[qe,"auto",Ee,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Aa,Ee,xe],radial:["",Ee,xe],conic:[Aa,Ee,xe]},lW,iW]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:pe()}],"rounded-s":[{"rounded-s":pe()}],"rounded-e":[{"rounded-e":pe()}],"rounded-t":[{"rounded-t":pe()}],"rounded-r":[{"rounded-r":pe()}],"rounded-b":[{"rounded-b":pe()}],"rounded-l":[{"rounded-l":pe()}],"rounded-ss":[{"rounded-ss":pe()}],"rounded-se":[{"rounded-se":pe()}],"rounded-ee":[{"rounded-ee":pe()}],"rounded-es":[{"rounded-es":pe()}],"rounded-tl":[{"rounded-tl":pe()}],"rounded-tr":[{"rounded-tr":pe()}],"rounded-br":[{"rounded-br":pe()}],"rounded-bl":[{"rounded-bl":pe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Ee,xe]}],"outline-w":[{outline:["",qe,rd,Go]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",p,gm,mm]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,gm,mm]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[qe,Go]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,gm,mm]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[qe,Ee,xe]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ee,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":V()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,xe]}],filter:[{filter:["","none",Ee,xe]}],blur:[{blur:$e()}],brightness:[{brightness:[qe,Ee,xe]}],contrast:[{contrast:[qe,Ee,xe]}],"drop-shadow":[{"drop-shadow":["","none",S,gm,mm]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",qe,Ee,xe]}],"hue-rotate":[{"hue-rotate":[qe,Ee,xe]}],invert:[{invert:["",qe,Ee,xe]}],saturate:[{saturate:[qe,Ee,xe]}],sepia:[{sepia:["",qe,Ee,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,xe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Ee,xe]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Ee,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Ee,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Ee,xe]}],"backdrop-invert":[{"backdrop-invert":["",qe,Ee,xe]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Ee,xe]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Ee,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Ee,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Ee,xe]}],ease:[{ease:["linear","initial",N,Ee,xe]}],delay:[{delay:[qe,Ee,xe]}],animate:[{animate:["none",D,Ee,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,Ee,xe]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:pt()}],"scale-x":[{"scale-x":pt()}],"scale-y":[{"scale-y":pt()}],"scale-z":[{"scale-z":pt()}],"scale-3d":["scale-3d"],skew:[{skew:Er()}],"skew-x":[{"skew-x":Er()}],"skew-y":[{"skew-y":Er()}],transform:[{transform:[Ee,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Sr()}],"translate-x":[{"translate-x":Sr()}],"translate-y":[{"translate-y":Sr()}],"translate-z":[{"translate-z":Sr()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,xe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[qe,rd,Go,tw]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},dW=Hq(hW);function wt(...t){return dW(vM(t))}function _b(t){const e=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],n=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(t<20)return e[t];if(t<100)return n[Math.floor(t/10)]+(t%10?"-"+e[t%10]:"");if(t<1e3){const r=t%100,s=e[Math.floor(t/100)]+" hundred";return r?s+" "+_b(r):s}return String(t)}function Ib(t){const e=["cero","uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","diecisis","diecisiete","dieciocho","diecinueve"],n=["","","veinte","treinta","cuarenta","cincuenta","sesenta","setenta","ochenta","noventa"];if(t<20)return e[t];if(t<30)return t===20?"veinte":"veinti"+e[t-20];if(t<100)return n[Math.floor(t/10)]+(t%10?" y "+e[t%10]:"");if(t<200)return"ciento"+(t%100?" "+Ib(t%100):"");if(t<1e3){const r=["cero","ciento","doscientos","trescientos","cuatrocientos","quinientos","seiscientos","setecientos","ochocientos","novecientos"][Math.floor(t/100)],s=t%100;return r+(s?" "+Ib(s):"")}return String(t)}function Ene(t,e={}){if(!t||typeof t!="string")return t;const{numberToWords:n="auto",language:r,pauseOperators:s=!0}=e;let i="en";try{i=r||(localStorage.getItem("tts.lang")==="es"?"es":"en")||"en"}catch{}let o=t;o=o.replace(//g,"-").replace(/|/g,"");const u={2:"half",3:"third",4:"fourth",5:"fifth",6:"sixth",7:"seventh",8:"eighth",9:"ninth",10:"tenth",12:"twelfth"},c={2:"medios",3:"tercios",4:"cuartos",5:"quintos",6:"sextos",7:"sptimos",8:"octavos",9:"novenos",10:"dcimos",12:"duodcimos"};if([{pattern:/\s*\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\/\s*/g,spoken:i==="es"?" dividido entre ":" divided by "},{pattern:/\s*\s*/g,spoken:i==="es"?" por ":" times "},{pattern:/\s*\*\s*/g,spoken:" times "},{pattern:/(\d+)\s*[xX]\s*(\d+)/g,spoken:i==="es"?"$1 por $2":"$1 times $2"},{pattern:/\s*\+\s*/g,spoken:i==="es"?" ms ":" plus "},{pattern:/(\d+)\s*-\s*(\d+)/g,spoken:i==="es"?"$1 menos $2":"$1 minus $2"},{pattern:/\s*=\s*/g,spoken:i==="es"?" igual a ":" equals "},{pattern:/\s*>\s*/g,spoken:i==="es"?" es mayor que ":" is greater than "},{pattern:/\s*<\s*/g,spoken:i==="es"?" es menor que ":" is less than "},{pattern:/\s*\s*/g,spoken:i==="es"?" es mayor o igual que ":" is greater than or equal to "},{pattern:/\s*\s*/g,spoken:i==="es"?" es menor o igual que ":" is less than or equal to "},{pattern:/(\d+)\/(\d+)/g,spoken:(d,p,g)=>i==="es"?`${p} ${c[g]||"sobre "+g}`:u[g]?`${p==="1"?"one":_b(Number(p))} ${u[g]}${p!=="1"?"s":""}`:`${p} over ${g}`},{pattern:/%/g,spoken:i==="es"?" por ciento":" percent"},{pattern:/\^(\d+)/g,spoken:i==="es"?" a la potencia de $1":" to the power of $1"},{pattern:/(\d+)/g,spoken:i==="es"?"raz cuadrada de $1":"square root of $1"}].forEach(({pattern:d,spoken:p})=>{o=o.replace(d,p)}),o=o.replace(/(\d)\.(\d)/g,i==="es"?"$1 coma $2":"$1 point $2"),o=o.replace(/\s*(,)?\s*(\?+|_+)\s*(,)?\s*/g,(d,p,g,v)=>p&&v?", ":" "),o=o.replace(/\?\s*$/g,""),s&&(i==="es"?[" ms "," menos "," por "," dividido entre "," igual a "]:[" plus "," minus "," times "," divided by "," equals "]).forEach(d=>{const p=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(?!,)","g");o=o.replace(p,d+", ")}),n!=="none"){const d=i==="es"?Ib:_b;o=o.replace(/\b\d+\b/g,(p,g)=>{const v=parseInt(p,10);if(!Number.isFinite(v))return p;if(n==="all")return d(v);const S=v<=20,I=o[g-1]||"",T=o[g+p.length]||"";return S||I===","||T===","?d(v):p})}return o=o.replace(/\s+,/g,",").replace(/,\s*,/g,", ").replace(/\s+/g," ").replace(/\s+,\s*$/g,"").trim(),o}const fW=Uy("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jr({className:t,variant:e,...n}){return x.jsx("div",{className:wt(fW({variant:e}),t),...n})}function lC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ul(...t){return e=>{let n=!1;const r=t.map(s=>{const i=lC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():lC(t[s],null)}}}}function sr(...t){return E.useCallback(Ul(...t),t)}var pW=Symbol.for("react.lazy"),Lg=lx[" use ".trim().toString()];function mW(t){return typeof t=="object"&&t!==null&&"then"in t}function PM(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===pW&&"_payload"in t&&mW(t._payload)}function gW(t){const e=vW(t),n=E.forwardRef((r,s)=>{let{children:i,...o}=r;PM(i)&&typeof Lg=="function"&&(i=Lg(i._payload));const u=E.Children.toArray(i),c=u.find(bW);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var yW=gW("Slot");function vW(t){const e=E.forwardRef((n,r)=>{let{children:s,...i}=n;if(PM(s)&&typeof Lg=="function"&&(s=Lg(s._payload)),E.isValidElement(s)){const o=EW(s),u=xW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ul(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wW=Symbol("radix.slottable");function bW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wW}function xW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function EW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const SW=Uy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ws=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?yW:"button";return x.jsx(o,{className:wt(SW({variant:e,size:n,className:t})),ref:i,...s})});Ws.displayName="Button";const fn=ky(hs);sy(hs);const NM=async(t,e={})=>{const n=ei(fn,"users",t),r={email:t,subscription_tier:"free",subscription_expires_at:null,subscription_auto_renew:!1,trial_start_date:Fn(),trial_expires_at:null,trial_used:!1,trial_grace_used:!1,coins:0,stars_spent:0,total_stars_earned:0,owned_pets:[],active_pet:null,purchased_items:[],unlocked_items:[],power_ups:{},pet_experience:{},daily_login_streak:0,total_login_days:0,last_login_date:null,parental_controls:{enabled:!1,allowed_operations:[],allowed_levels:[],focus_operations:[],daily_time_limit_minutes:0,enforce_time_limits:!1},daily_usage_tracking:{},is_parent_mode:!1,is_premium_parent:!1,is_family_teacher:!1,parent_email:null,child_name:null,full_name:null,created_at:Fn(),updated_at:Fn(),...e};await Dy(n,r);const s=(await fD(n)).data();let i=null;if(s&&s.trial_start_date&&s.trial_start_date.toDate?i=s.trial_start_date.toDate():s&&s.trial_start_date&&s.trial_start_date.seconds&&(i=new Date(s.trial_start_date.seconds*1e3)),i){const o=new Date(i.getTime()+6048e5);return await My(n,{trial_expires_at:rt.fromDate(o),updated_at:Fn()}),{...s,trial_expires_at:rt.fromDate(o)}}return s||r},RM=async t=>{const e=ei(fn,"users",t),n=await fD(e);return n.exists()?{id:n.id,...n.data()}:await NM(t)},ym=async(t,e)=>{const n=ei(fn,"users",t);await My(n,{...e,updated_at:Fn()})},Sne=async()=>{const t=An(fn,"users");return(await cs(t)).docs.map(e=>({id:e.id,...e.data()}))},kne=async(t,e)=>{const n=An(fn,"gameProgress"),r=ei(n),s={user_email:t,operation:e.operation,level:e.level,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,coins_earned:e.coins_earned||0,accuracy:e.accuracy||0,completed_at:Fn(),...e};return await Dy(r,s),{id:r.id,...s}},Tne=async t=>{const e=An(fn,"gameProgress"),n=us(e,Ur("user_email","==",t),jc("completed_at","desc"));return(await cs(n)).docs.map(r=>({id:r.id,...r.data()}))},_ne=(t,e)=>{const n=An(fn,"gameProgress"),r=us(n,Ur("user_email","==",t),jc("completed_at","desc"));return pD(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)})},Ine=async()=>{const t=An(fn,"gameProgress"),e=us(t,jc("score","desc"),m1(100));return(await cs(e)).docs.map(n=>({id:n.id,...n.data()}))},Cne=async(t,e)=>{const n=An(fn,"dailyChallenges"),r=ei(n),s={user_email:t,challenge_type:e.challenge_type,challenge_date:e.challenge_date,score:e.score||0,correct_answers:e.correct_answers||0,total_questions:e.total_questions||0,time_taken:e.time_taken||0,stars_earned:e.stars_earned||0,bonus_coins:e.bonus_coins||0,completed_at:Fn(),...e};return await Dy(r,s),{id:r.id,...s}},Pne=async t=>{const e=An(fn,"dailyChallenges"),n=us(e,Ur("user_email","==",t),jc("completed_at","desc"));return(await cs(n)).docs.map(r=>({id:r.id,...r.data()}))},Nne=async()=>{const t=An(fn,"dailyChallenges"),e=us(t,jc("score","desc"),m1(100));return(await cs(e)).docs.map(n=>({id:n.id,...n.data()}))},Rne=async t=>{const e=An(fn,"teamChallenges"),n=us(e,Ur("creator_email","==",t)),r=us(e,Ur("team_members","array-contains",t)),[s,i]=await Promise.all([cs(n),cs(r)]),o=new Map;return s.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),i.docs.forEach(u=>o.set(u.id,{id:u.id,...u.data()})),Array.from(o.values())},Dne=async(t,e)=>{const n=ei(fn,"teamChallenges",t);await My(n,{...e,updated_at:Fn()})},Mne=async t=>{const e=An(fn,"tutorSessions"),n=us(e,Ur("user_email","==",t),jc("created_at","desc"),m1(50));return(await cs(n)).docs.map(r=>({id:r.id,...r.data()}))},Ane=async(t,e)=>{const n=An(fn,"friendConnections"),r=ei(n),s={user_email:t,friend_email:e,status:"pending",sent_at:Fn()};return await Dy(r,s),{id:r.id,...s}},jne=async t=>{const e=An(fn,"friendConnections"),n=us(e,Ur("user_email","==",t),Ur("status","==","accepted")),r=us(e,Ur("friend_email","==",t),Ur("status","==","accepted")),[s,i]=await Promise.all([cs(n),cs(r)]);return[...s.docs.map(o=>({id:o.id,...o.data()})),...i.docs.map(o=>({id:o.id,...o.data()}))]},One=async t=>{const e=An(fn,"friendConnections"),n=us(e,Ur("friend_email","==",t),Ur("status","==","pending"));return(await cs(n)).docs.map(r=>({id:r.id,...r.data()}))},Lne=async(t,e)=>{const n=ei(fn,"friendConnections",t);await My(n,{status:e,updated_at:Fn()})},Hm=E.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hm.displayName="Input";function DM(){const[t,e]=E.useState("sign-in"),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,u]=E.useState(""),[c,d]=E.useState(!1),[p,g]=E.useState(""),[v,S]=E.useState(""),[I,T]=E.useState(!1),[_,N]=E.useState(!1),D=()=>{S(""),g("")},j=async()=>{if(D(),!n){S("Email required");return}if(t==="sign-up"){if(!s){S("Password required");return}if(s!==o){S("Passwords do not match");return}}if(t==="sign-in"&&!s){S("Password required");return}d(!0);try{t==="sign-up"?(await j6(V0,n,s),await NM(n),g("Account created. You are signed in.")):t==="sign-in"?(await O6(V0,n,s),await RM(n),g("Signed in.")):t==="reset"&&(await A6(V0,n),g("Reset link sent. Check your email."))}catch(B){S((B==null?void 0:B.message)||"Auth failed")}finally{d(!1)}},V=B=>{D(),e(B)};return x.jsxs("div",{className:"w-full max-w-sm mx-auto bg-white/90 rounded-xl shadow-lg p-5 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-purple-700 text-center",children:[t==="sign-in"&&"Sign In",t==="sign-up"&&"Create Account",t==="reset"&&"Reset Password"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(Hm,{type:"email",autoComplete:"email",placeholder:"Email",value:n,onChange:B=>r(B.target.value)}),t!=="reset"&&x.jsxs("div",{className:"relative",children:[x.jsx(Hm,{type:I?"text":"password",autoComplete:t==="sign-up"?"new-password":"current-password",placeholder:"Password",value:s,onChange:B=>i(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>T(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:I?x.jsx(GI,{className:"w-4 h-4"}):x.jsx(QI,{className:"w-4 h-4"})})]}),t==="sign-up"&&x.jsxs("div",{className:"relative",children:[x.jsx(Hm,{type:_?"text":"password",placeholder:"Confirm Password",value:o,onChange:B=>u(B.target.value),className:"pr-10"}),x.jsx("button",{type:"button",onClick:()=>N(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?x.jsx(GI,{className:"w-4 h-4"}):x.jsx(QI,{className:"w-4 h-4"})})]})]}),(v||p)&&x.jsx("div",{className:`text-sm rounded-md p-2 ${v?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v||p}),x.jsx(Ws,{onClick:j,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-700",children:c?"Please wait":t==="sign-in"?"Sign In":t==="sign-up"?"Sign Up":"Send Reset Link"}),x.jsxs("div",{className:"text-xs text-center text-gray-600 space-y-1",children:[t==="sign-in"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>V("sign-up"),className:"text-purple-600 hover:underline block w-full",children:"Need an account? Sign up"}),x.jsx("button",{onClick:()=>V("reset"),className:"text-purple-600 hover:underline block w-full",children:"Forgot password?"})]}),t==="sign-up"&&x.jsx("button",{onClick:()=>V("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Have an account? Sign in"}),t==="reset"&&x.jsx("button",{onClick:()=>V("sign-in"),className:"text-purple-600 hover:underline block w-full",children:"Back to sign in"})]})]})}const MM=t=>{if(!t)return!1;if(!t.trial_start_date||!t.trial_expires_at)return t.subscription_tier==="free"&&t.trial_used!==!0;if(t.subscription_tier!=="free"||t.trial_used===!0)return!1;const e=new Date,n=t.trial_expires_at.toDate();return e<n},kW=t=>{if(!t||!t.trial_start_date||!t.trial_expires_at||t.subscription_tier!=="free")return!1;const e=new Date,n=t.trial_expires_at.toDate();return e>=n},TW=t=>{if(!t||!t.trial_expires_at||t.subscription_tier!=="free")return 0;const e=new Date,n=t.trial_expires_at.toDate()-e;return n<=0?0:Math.ceil(n/(1e3*60*60*24))},_W=t=>t?!!(t.subscription_tier&&t.subscription_tier!=="free"||MM(t)&&t.trial_used!==!0):!1;let Fg=T7;(async()=>{try{!Fg&&await zD()&&(Fg=VD(hs))}catch{}})();function Vy(t,e={}){if(Fg)try{BD(Fg,t,e)}catch(n){console.warn("analytics log skipped",t,n==null?void 0:n.message)}}const IW=t=>Vy("trial_start",{method:"auto",user_email:t}),CW=(t,e)=>Vy("trial_day",{day:e,user_email:t}),PW=t=>Vy("trial_expired",{user_email:t}),NW=t=>Vy("trial_grace_lock",{user_email:t}),L1=ky(hs);async function RW(t){try{await y1(An(L1,"notifications"),{user_email:t,type:"trial_day6_warning",title:"Trial Ending Soon!",message:"Your 7-day trial ends tomorrow. Upgrade now to keep unlimited access to premium features!",is_read:!1,created_at:Fn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create day6 notification:",e.message)}}async function DW(t){try{await y1(An(L1,"notifications"),{user_email:t,type:"trial_expired",title:"Trial Ended",message:"Your 7-day trial has ended. You are now on the free plan. Upgrade anytime to regain premium features.",is_read:!1,created_at:Fn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create trial expired notification:",e.message)}}async function MW(t){try{await y1(An(L1,"notifications"),{user_email:t,type:"trial_grace_day",title:"Grace Day: Final Chance!",message:"Your trial expired, but you still have premium access today only. Upgrade now before it locks tomorrow.",is_read:!1,created_at:Fn(),action_url:"/subscription"})}catch(e){console.warn("Failed to create grace day notification:",e.message)}}function AW(){const[t,e]=E.useState(null),[n,r]=E.useState(!0),[s,i]=E.useState(null);return E.useEffect(()=>{const o=sy(hs),u=ky(hs);let c=null;const d=U6(o,async p=>{var g;if(!p){e(null),r(!1);return}try{e(v=>v||{email:p.email,subscription_tier:"free",coins:0}),i(null);try{const v=(g=p==null?void 0:p.metadata)!=null&&g.creationTime?new Date(p.metadata.creationTime).getTime():null,S=v?Date.now()-v<1440*60*1e3:!1,I=`optimistic_trial_${p.email}`,T=typeof window<"u"?localStorage.getItem(I):null;S&&!T&&(e(_=>({..._||{},email:p.email,subscription_tier:"free",coins:0,isOnTrial:!0,trialExpired:!1,trialDaysRemaining:7,inGraceDay:!1,hasPremiumAccess:!0,_optimisticTrial:!0})),localStorage.setItem(I,"true"))}catch{}try{if(typeof window<"u"&&window.location.search.includes("reset_trial=true")){const v=Date.now(),S=new Date(v+10080*60*1e3);await ym(p.email,{trial_start_date:Fn(),trial_expires_at:rt.fromDate(S),trial_used:!1,trial_grace_used:!1}),localStorage.removeItem(`trial_log_${p.email}`);const I=new URL(window.location.href);I.searchParams.delete("reset_trial"),window.history.replaceState({},"",I.toString()),console.info("[trial] Trial reset performed for",p.email)}}catch(v){console.warn("[trial] Trial reset attempt failed:",v==null?void 0:v.message)}c&&c(),c=pD(ei(u,"users",p.email),v=>{var S,I;if(v.exists()){const T={id:v.id,...v.data()};(async()=>{try{if(!T.trial_start_date||!T.trial_expires_at){const U=Date.now(),$=new Date(U+10080*60*1e3);await ym(p.email,{trial_start_date:Fn(),trial_expires_at:rt.fromDate($),trial_used:!1,trial_grace_used:!1})}}catch{}})();const _=MM(T)||!T.trial_start_date||!T.trial_expires_at,N=kW(T),D=TW(T),j=7,V=(S=T.trial_start_date)!=null&&S.toDate?Math.floor((Date.now()-T.trial_start_date.toDate().getTime())/(1e3*60*60*24)):null,B=N&&V===j&&T.trial_grace_used!==!0;e({...T,isOnTrial:_,trialExpired:N,trialDaysRemaining:D,inGraceDay:B,hasPremiumAccess:_W(T)||_||B});const H=v.id,M=`trial_log_${H}`,C=localStorage.getItem(M);let R=C?JSON.parse(C):{};const O=(I=T.trial_start_date)!=null&&I.toDate?T.trial_start_date.toDate().getTime():null;if(O){const U=R.trial_start_timestamp||null;(!U||U!==O)&&(R={})}if(T.trial_start_date&&!R.trial_start&&(IW(H),R.trial_start=!0,O&&(R.trial_start_timestamp=O)),_&&D>=0&&D<=7){const U=`day_${7-D}`;R[U]||(CW(H,7-D),R[U]=!0),D===1&&!R.notif_day6&&(RW(H),R.notif_day6=!0)}N&&T.subscription_tier==="free"&&!R.trial_expired&&(PW(H),R.trial_expired=!0,T.trial_used!==!0&&ym(v.id,{trial_used:!0}).catch(()=>{}),R.notif_expired||(DW(H),R.notif_expired=!0)),B&&!R.grace_lock&&(NW(H),R.grace_lock=!0,T.trial_grace_used!==!0&&ym(v.id,{trial_grace_used:!0}).catch(()=>{}),R.notif_grace||(MW(H),R.notif_grace=!0));try{localStorage.setItem(M,JSON.stringify(R))}catch{}}},v=>{console.error("Firestore snapshot error:",v)}),RM(p.email).catch(v=>{console.error("Failed to ensure user profile",v),i(v)})}catch(v){console.error("Failed to initialize user session",v),i(v),e({email:p.email,subscription_tier:"free",coins:0})}finally{r(!1)}});return()=>{c&&c(),d()}},[]),{user:t,loading:n,error:s}}const AM=E.createContext({user:null,loading:!0,error:null});function jW({children:t}){const e=AW();return x.jsx(AM.Provider,{value:e,children:t})}function F1(){return E.useContext(AM)}const OW=Uy("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jM=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,role:"alert",className:wt(OW({variant:e}),t),...n}));jM.displayName="Alert";const LW=E.forwardRef(({className:t,...e},n)=>x.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",t),...e}));LW.displayName="AlertTitle";const OM=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",t),...e}));OM.displayName="AlertDescription";function FW(){const{user:t}=F1(),e=T1(),[n,r]=an.useState(!1),[s,i]=an.useState(!0);if(!t||n===!0||s===!1||!(t.isOnTrial||t.trialExpired||t.inGraceDay))return null;const o=t.trialExpired&&!t.inGraceDay,u=t.trialDaysRemaining||0,c=t.inGraceDay;return x.jsx(jM,{className:`mb-4 ${o?"bg-red-50 border-red-300":u<=2?"bg-orange-50 border-orange-300":"bg-blue-50 border-blue-300"}`,children:x.jsxs("div",{className:"flex items-start justify-between gap-4",children:[x.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c?x.jsx(ll,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}):o?x.jsx(ll,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}):x.jsx(rq,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),x.jsx(OM,{className:c?"text-orange-800":o?"text-red-800":"text-blue-800",children:x.jsx("div",{className:"space-y-2",children:c?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Grace Day: Final Chance!"}),x.jsx("p",{className:"text-sm",children:"Your trial expired, but you still have premium access today only. Upgrade now to keep everything before it locks tomorrow."})]}):o?x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:"Your 7-day trial has ended"}),x.jsx("p",{className:"text-sm",children:"You're now on the free plan with limited access. Upgrade to continue enjoying premium features like unlimited games, AI tutor, and more!"})]}):x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"font-semibold text-lg",children:u===0?" Trial ends today!":`${u} day${u===1?"":"s"} left in your trial`}),x.jsx("p",{className:"text-sm",children:"You're currently enjoying premium features. Upgrade now to keep unlimited access after your trial ends!"})]})})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Ws,{onClick:()=>e("/subscription"),className:`${c?"bg-orange-600 hover:bg-orange-700":o?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white whitespace-nowrap`,size:"sm",children:[x.jsx(ll,{className:"w-4 h-4 mr-1"}),"Upgrade Now"]}),x.jsx(Ws,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"flex-shrink-0",children:x.jsx(j1,{className:"w-4 h-4"})})]})]})})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Fne(t,e){const n=E.createContext(e),r=i=>{const{children:o,...u}=i,c=E.useMemo(()=>u,Object.values(u));return x.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Cf(t,e=[]){let n=[];function r(i,o){const u=E.createContext(o),c=n.length;n=[...n,o];const d=g=>{var v;const{scope:S,children:I,...T}=g,_=((v=S==null?void 0:S[t])==null?void 0:v[c])||u,N=E.useMemo(()=>T,Object.values(T));return x.jsx(_.Provider,{value:N,children:I})};d.displayName=i+"Provider";function p(g,v){var S;const I=((S=v==null?void 0:v[t])==null?void 0:S[c])||u,T=E.useContext(I);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,p]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(o){const u=(o==null?void 0:o[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...o,[t]:u}}),[o,u])}};return s.scopeName=t,[r,UW(s,...e)]}function UW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:u,scopeName:c})=>{const d=u(s)[`__scope${c}`];return{...o,...d}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var to=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},VW=lx[" useInsertionEffect ".trim().toString()]||to;function LM({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=zW({defaultProp:e,onChange:n}),u=t!==void 0,c=u?t:s;{const p=E.useRef(t!==void 0);E.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const d=E.useCallback(p=>{var g;if(u){const v=BW(p)?p(t):p;v!==t&&((g=o.current)==null||g.call(o,v))}else i(p)},[u,t,i,o]);return[c,d]}function zW({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),s=E.useRef(n),i=E.useRef(e);return VW(()=>{i.current=e},[e]),E.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function BW(t){return typeof t=="function"}function $W(t){const e=qW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(HW);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function qW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=GW(s),u=KW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ul(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var WW=Symbol("radix.slottable");function HW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===WW}function KW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function GW(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var QW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$n=QW.reduce((t,e)=>{const n=$W(`Primitive.${e}`),r=E.forwardRef((s,i)=>{const{asChild:o,...u}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function FM(t,e){t&&N1.flushSync(()=>t.dispatchEvent(e))}function uC(t){const e=XW(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(JW);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function XW(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=eH(s),u=ZW(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ul(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YW=Symbol("radix.slottable");function JW(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YW}function ZW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function eH(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function UM(t){const e=t+"CollectionProvider",[n,r]=Cf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:_,children:N}=T,D=an.useRef(null),j=an.useRef(new Map).current;return x.jsx(s,{scope:_,itemMap:j,collectionRef:D,children:N})};o.displayName=e;const u=t+"CollectionSlot",c=uC(u),d=an.forwardRef((T,_)=>{const{scope:N,children:D}=T,j=i(u,N),V=sr(_,j.collectionRef);return x.jsx(c,{ref:V,children:D})});d.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=uC(p),S=an.forwardRef((T,_)=>{const{scope:N,children:D,...j}=T,V=an.useRef(null),B=sr(_,V),H=i(p,N);return an.useEffect(()=>(H.itemMap.set(V,{ref:V,...j}),()=>void H.itemMap.delete(V))),x.jsx(v,{[g]:"",ref:B,children:D})});S.displayName=p;function I(T){const _=i(t+"CollectionConsumer",T);return an.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const D=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((j,V)=>D.indexOf(j.ref.current)-D.indexOf(V.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:S},I,r]}var tH=E.createContext(void 0);function VM(t){const e=E.useContext(tH);return t||e||"ltr"}function Fi(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nH(t,e=globalThis==null?void 0:globalThis.document){const n=Fi(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rH="DismissableLayer",Cb="dismissableLayer.update",sH="dismissableLayer.pointerDownOutside",iH="dismissableLayer.focusOutside",cC,zM=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BM=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...c}=t,d=E.useContext(zM),[p,g]=E.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=E.useState({}),I=sr(e,M=>g(M)),T=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=T.indexOf(_),D=p?T.indexOf(p):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,V=D>=N,B=lH(M=>{const C=M.target,R=[...d.branches].some(O=>O.contains(C));!V||R||(s==null||s(M),o==null||o(M),M.defaultPrevented||u==null||u())},v),H=uH(M=>{const C=M.target;[...d.branches].some(R=>R.contains(C))||(i==null||i(M),o==null||o(M),M.defaultPrevented||u==null||u())},v);return nH(M=>{D===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},v),E.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(cC=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),hC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=cC)}},[p,v,n,d]),E.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),hC())},[p,d]),E.useEffect(()=>{const M=()=>S({});return document.addEventListener(Cb,M),()=>document.removeEventListener(Cb,M)},[]),x.jsx($n.div,{...c,ref:I,style:{pointerEvents:j?V?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,H.onFocusCapture),onBlurCapture:et(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,B.onPointerDownCapture)})});BM.displayName=rH;var aH="DismissableLayerBranch",oH=E.forwardRef((t,e)=>{const n=E.useContext(zM),r=E.useRef(null),s=sr(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),x.jsx($n.div,{...t,ref:s})});oH.displayName=aH;function lH(t,e=globalThis==null?void 0:globalThis.document){const n=Fi(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let c=function(){$M(sH,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uH(t,e=globalThis==null?void 0:globalThis.document){const n=Fi(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&$M(iH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hC(){const t=new CustomEvent(Cb);document.dispatchEvent(t)}function $M(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?FM(s,i):s.dispatchEvent(i)}var nw=0;function cH(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dC()),document.body.insertAdjacentElement("beforeend",t[1]??dC()),nw++,()=>{nw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),nw--}},[])}function dC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rw="focusScope.autoFocusOnMount",sw="focusScope.autoFocusOnUnmount",fC={bubbles:!1,cancelable:!0},hH="FocusScope",qM=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[u,c]=E.useState(null),d=Fi(s),p=Fi(i),g=E.useRef(null),v=sr(e,T=>c(T)),S=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let T=function(j){if(S.paused||!u)return;const V=j.target;u.contains(V)?g.current=V:Oa(g.current,{select:!0})},_=function(j){if(S.paused||!u)return;const V=j.relatedTarget;V!==null&&(u.contains(V)||Oa(g.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const V of j)V.removedNodes.length>0&&Oa(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",_);const D=new MutationObserver(N);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",_),D.disconnect()}}},[r,u,S.paused]),E.useEffect(()=>{if(u){mC.add(S);const T=document.activeElement;if(!u.contains(T)){const _=new CustomEvent(rw,fC);u.addEventListener(rw,d),u.dispatchEvent(_),_.defaultPrevented||(dH(yH(WM(u)),{select:!0}),document.activeElement===T&&Oa(u))}return()=>{u.removeEventListener(rw,d),setTimeout(()=>{const _=new CustomEvent(sw,fC);u.addEventListener(sw,p),u.dispatchEvent(_),_.defaultPrevented||Oa(T??document.body,{select:!0}),u.removeEventListener(sw,p),mC.remove(S)},0)}}},[u,d,p,S]);const I=E.useCallback(T=>{if(!n&&!r||S.paused)return;const _=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,N=document.activeElement;if(_&&N){const D=T.currentTarget,[j,V]=fH(D);j&&V?!T.shiftKey&&N===V?(T.preventDefault(),n&&Oa(j,{select:!0})):T.shiftKey&&N===j&&(T.preventDefault(),n&&Oa(V,{select:!0})):N===D&&T.preventDefault()}},[n,r,S.paused]);return x.jsx($n.div,{tabIndex:-1,...o,ref:v,onKeyDown:I})});qM.displayName=hH;function dH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Oa(r,{select:e}),document.activeElement!==n)return}function fH(t){const e=WM(t),n=pC(e,t),r=pC(e.reverse(),t);return[n,r]}function WM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pC(t,e){for(const n of t)if(!pH(n,{upTo:e}))return n}function pH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mH(t){return t instanceof HTMLInputElement&&"select"in t}function Oa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mH(t)&&e&&t.select()}}var mC=gH();function gH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=gC(t,e),t.unshift(e)},remove(e){var n;t=gC(t,e),(n=t[0])==null||n.resume()}}}function gC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yH(t){return t.filter(e=>e.tagName!=="A")}var vH=lx[" useId ".trim().toString()]||(()=>{}),wH=0;function Pb(t){const[e,n]=E.useState(vH());return to(()=>{n(r=>r??String(wH++))},[t]),e?`radix-${e}`:""}const bH=["top","right","bottom","left"],no=Math.min,gr=Math.max,Ug=Math.round,vm=Math.floor,Hs=t=>({x:t,y:t}),xH={left:"right",right:"left",bottom:"top",top:"bottom"},EH={start:"end",end:"start"};function Nb(t,e,n){return gr(t,no(e,n))}function Ui(t,e){return typeof t=="function"?t(e):t}function Vi(t){return t.split("-")[0]}function Vc(t){return t.split("-")[1]}function U1(t){return t==="x"?"y":"x"}function V1(t){return t==="y"?"height":"width"}const SH=new Set(["top","bottom"]);function Us(t){return SH.has(Vi(t))?"y":"x"}function z1(t){return U1(Us(t))}function kH(t,e,n){n===void 0&&(n=!1);const r=Vc(t),s=z1(t),i=V1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vg(o)),[o,Vg(o)]}function TH(t){const e=Vg(t);return[Rb(t),e,Rb(e)]}function Rb(t){return t.replace(/start|end/g,e=>EH[e])}const yC=["left","right"],vC=["right","left"],_H=["top","bottom"],IH=["bottom","top"];function CH(t,e,n){switch(t){case"top":case"bottom":return n?e?vC:yC:e?yC:vC;case"left":case"right":return e?_H:IH;default:return[]}}function PH(t,e,n,r){const s=Vc(t);let i=CH(Vi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Rb)))),i}function Vg(t){return t.replace(/left|right|bottom|top/g,e=>xH[e])}function NH(t){return{top:0,right:0,bottom:0,left:0,...t}}function HM(t){return typeof t!="number"?NH(t):{top:t,right:t,bottom:t,left:t}}function zg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function wC(t,e,n){let{reference:r,floating:s}=t;const i=Us(e),o=z1(e),u=V1(o),c=Vi(e),d=i==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let S;switch(c){case"top":S={x:p,y:r.y-s.height};break;case"bottom":S={x:p,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:g};break;case"left":S={x:r.x-s.width,y:g};break;default:S={x:r.x,y:r.y}}switch(Vc(e)){case"start":S[o]-=v*(n&&d?-1:1);break;case"end":S[o]+=v*(n&&d?-1:1);break}return S}const RH=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,u=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=wC(d,r,c),v=r,S={},I=0;for(let T=0;T<u.length;T++){const{name:_,fn:N}=u[T],{x:D,y:j,data:V,reset:B}=await N({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:S,rects:d,platform:o,elements:{reference:t,floating:e}});p=D??p,g=j??g,S={...S,[_]:{...S[_],...V}},B&&I<=50&&(I++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(d=B.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):B.rects),{x:p,y:g}=wC(d,v,c)),T=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:S}};async function Yd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:u,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Ui(e,t),I=HM(S),T=u[v?g==="floating"?"reference":"floating":g],_=zg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:d,rootBoundary:p,strategy:c})),N=g==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),j=await(i.isElement==null?void 0:i.isElement(D))?await(i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},V=zg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:N,offsetParent:D,strategy:c}):N);return{top:(_.top-V.top+I.top)/j.y,bottom:(V.bottom-_.bottom+I.bottom)/j.y,left:(_.left-V.left+I.left)/j.x,right:(V.right-_.right+I.right)/j.x}}const DH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:u,middlewareData:c}=e,{element:d,padding:p=0}=Ui(t,e)||{};if(d==null)return{};const g=HM(p),v={x:n,y:r},S=z1(s),I=V1(S),T=await o.getDimensions(d),_=S==="y",N=_?"top":"left",D=_?"bottom":"right",j=_?"clientHeight":"clientWidth",V=i.reference[I]+i.reference[S]-v[S]-i.floating[I],B=v[S]-i.reference[S],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=H?H[j]:0;(!M||!await(o.isElement==null?void 0:o.isElement(H)))&&(M=u.floating[j]||i.floating[I]);const C=V/2-B/2,R=M/2-T[I]/2-1,O=no(g[N],R),U=no(g[D],R),$=O,L=M-T[I]-U,ke=M/2-T[I]/2+C,De=Nb($,ke,L),ye=!c.arrow&&Vc(s)!=null&&ke!==De&&i.reference[I]/2-(ke<$?O:U)-T[I]/2<0,ve=ye?ke<$?ke-$:ke-L:0;return{[S]:v[S]+ve,data:{[S]:De,centerOffset:ke-De-ve,...ye&&{alignmentOffset:ve}},reset:ye}}}),MH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:u,platform:c,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:T=!0,..._}=Ui(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const N=Vi(s),D=Us(u),j=Vi(u)===u,V=await(c.isRTL==null?void 0:c.isRTL(d.floating)),B=v||(j||!T?[Vg(u)]:TH(u)),H=I!=="none";!v&&H&&B.push(...PH(u,T,I,V));const M=[u,...B],C=await Yd(e,_),R=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&R.push(C[N]),g){const ke=kH(s,o,V);R.push(C[ke[0]],C[ke[1]])}if(O=[...O,{placement:s,overflows:R}],!R.every(ke=>ke<=0)){var U,$;const ke=(((U=i.flip)==null?void 0:U.index)||0)+1,De=M[ke];if(De&&(!(g==="alignment"&&D!==Us(De))||O.every(ve=>Us(ve.placement)===D?ve.overflows[0]>0:!0)))return{data:{index:ke,overflows:O},reset:{placement:De}};let ye=($=O.filter(ve=>ve.overflows[0]<=0).sort((ve,G)=>ve.overflows[1]-G.overflows[1])[0])==null?void 0:$.placement;if(!ye)switch(S){case"bestFit":{var L;const ve=(L=O.filter(G=>{if(H){const ne=Us(G.placement);return ne===D||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,ae)=>ne+ae,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:L[0];ve&&(ye=ve);break}case"initialPlacement":ye=u;break}if(s!==ye)return{reset:{placement:ye}}}return{}}}};function bC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xC(t){return bH.some(e=>t[e]>=0)}const AH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ui(t,e);switch(r){case"referenceHidden":{const i=await Yd(e,{...s,elementContext:"reference"}),o=bC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xC(o)}}}case"escaped":{const i=await Yd(e,{...s,altBoundary:!0}),o=bC(i,n.floating);return{data:{escapedOffsets:o,escaped:xC(o)}}}default:return{}}}}},KM=new Set(["left","top"]);async function jH(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vi(n),u=Vc(n),c=Us(n)==="y",d=KM.has(o)?-1:1,p=i&&c?-1:1,g=Ui(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:I}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof I=="number"&&(S=u==="end"?I*-1:I),c?{x:S*p,y:v*d}:{x:v*d,y:S*p}}const OH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:u}=e,c=await jH(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},LH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:u={fn:_=>{let{x:N,y:D}=_;return{x:N,y:D}}},...c}=Ui(t,e),d={x:n,y:r},p=await Yd(e,c),g=Us(Vi(s)),v=U1(g);let S=d[v],I=d[g];if(i){const _=v==="y"?"top":"left",N=v==="y"?"bottom":"right",D=S+p[_],j=S-p[N];S=Nb(D,S,j)}if(o){const _=g==="y"?"top":"left",N=g==="y"?"bottom":"right",D=I+p[_],j=I-p[N];I=Nb(D,I,j)}const T=u.fn({...e,[v]:S,[g]:I});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:o}}}}}},FH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:u=0,mainAxis:c=!0,crossAxis:d=!0}=Ui(t,e),p={x:n,y:r},g=Us(s),v=U1(g);let S=p[v],I=p[g];const T=Ui(u,e),_=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const j=v==="y"?"height":"width",V=i.reference[v]-i.floating[j]+_.mainAxis,B=i.reference[v]+i.reference[j]-_.mainAxis;S<V?S=V:S>B&&(S=B)}if(d){var N,D;const j=v==="y"?"width":"height",V=KM.has(Vi(s)),B=i.reference[g]-i.floating[j]+(V&&((N=o.offset)==null?void 0:N[g])||0)+(V?0:_.crossAxis),H=i.reference[g]+i.reference[j]+(V?0:((D=o.offset)==null?void 0:D[g])||0)-(V?_.crossAxis:0);I<B?I=B:I>H&&(I=H)}return{[v]:S,[g]:I}}}},UH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:u}=e,{apply:c=()=>{},...d}=Ui(t,e),p=await Yd(e,d),g=Vi(s),v=Vc(s),S=Us(s)==="y",{width:I,height:T}=i.floating;let _,N;g==="top"||g==="bottom"?(_=g,N=v===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,_=v==="end"?"top":"bottom");const D=T-p.top-p.bottom,j=I-p.left-p.right,V=no(T-p[_],D),B=no(I-p[N],j),H=!e.middlewareData.shift;let M=V,C=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=D),H&&!v){const O=gr(p.left,0),U=gr(p.right,0),$=gr(p.top,0),L=gr(p.bottom,0);S?C=I-2*(O!==0||U!==0?O+U:gr(p.left,p.right)):M=T-2*($!==0||L!==0?$+L:gr(p.top,p.bottom))}await c({...e,availableWidth:C,availableHeight:M});const R=await o.getDimensions(u.floating);return I!==R.width||T!==R.height?{reset:{rects:!0}}:{}}}};function zy(){return typeof window<"u"}function zc(t){return GM(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ri(t){var e;return(e=(GM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GM(t){return zy()?t instanceof Node||t instanceof br(t).Node:!1}function ds(t){return zy()?t instanceof Element||t instanceof br(t).Element:!1}function Zs(t){return zy()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function EC(t){return!zy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const VH=new Set(["inline","contents"]);function Pf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!VH.has(s)}const zH=new Set(["table","td","th"]);function BH(t){return zH.has(zc(t))}const $H=[":popover-open",":modal"];function By(t){return $H.some(e=>{try{return t.matches(e)}catch{return!1}})}const qH=["transform","translate","scale","rotate","perspective"],WH=["transform","translate","scale","rotate","perspective","filter"],HH=["paint","layout","strict","content"];function B1(t){const e=$1(),n=ds(t)?fs(t):t;return qH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||WH.some(r=>(n.willChange||"").includes(r))||HH.some(r=>(n.contain||"").includes(r))}function KH(t){let e=ro(t);for(;Zs(e)&&!Ic(e);){if(B1(e))return e;if(By(e))return null;e=ro(e)}return null}function $1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GH=new Set(["html","body","#document"]);function Ic(t){return GH.has(zc(t))}function fs(t){return br(t).getComputedStyle(t)}function $y(t){return ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ro(t){if(zc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EC(t)&&t.host||ri(t);return EC(e)?e.host:e}function QM(t){const e=ro(t);return Ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zs(e)&&Pf(e)?e:QM(e)}function Jd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=br(s);if(i){const u=Db(o);return e.concat(o,o.visualViewport||[],Pf(s)?s:[],u&&n?Jd(u):[])}return e.concat(s,Jd(s,[],n))}function Db(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function XM(t){const e=fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,u=Ug(n)!==i||Ug(r)!==o;return u&&(n=i,r=o),{width:n,height:r,$:u}}function q1(t){return ds(t)?t:t.contextElement}function cc(t){const e=q1(t);if(!Zs(e))return Hs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=XM(e);let o=(i?Ug(n.width):n.width)/r,u=(i?Ug(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const QH=Hs(0);function YM(t){const e=br(t);return!$1()||!e.visualViewport?QH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function Rl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=q1(t);let o=Hs(1);e&&(r?ds(r)&&(o=cc(r)):o=cc(t));const u=XH(i,n,r)?YM(i):Hs(0);let c=(s.left+u.x)/o.x,d=(s.top+u.y)/o.y,p=s.width/o.x,g=s.height/o.y;if(i){const v=br(i),S=r&&ds(r)?br(r):r;let I=v,T=Db(I);for(;T&&r&&S!==I;){const _=cc(T),N=T.getBoundingClientRect(),D=fs(T),j=N.left+(T.clientLeft+parseFloat(D.paddingLeft))*_.x,V=N.top+(T.clientTop+parseFloat(D.paddingTop))*_.y;c*=_.x,d*=_.y,p*=_.x,g*=_.y,c+=j,d+=V,I=br(T),T=Db(I)}}return zg({width:p,height:g,x:c,y:d})}function qy(t,e){const n=$y(t).scrollLeft;return e?e.left+n:Rl(ri(t)).left+n}function JM(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-qy(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function YH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ri(r),u=e?By(e.floating):!1;if(r===o||u&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Hs(1);const p=Hs(0),g=Zs(r);if((g||!g&&!i)&&((zc(r)!=="body"||Pf(o))&&(c=$y(r)),Zs(r))){const S=Rl(r);d=cc(r),p.x=S.x+r.clientLeft,p.y=S.y+r.clientTop}const v=o&&!g&&!i?JM(o,c):Hs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+p.x+v.x,y:n.y*d.y-c.scrollTop*d.y+p.y+v.y}}function JH(t){return Array.from(t.getClientRects())}function ZH(t){const e=ri(t),n=$y(t),r=t.ownerDocument.body,s=gr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=gr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+qy(t);const u=-n.scrollTop;return fs(r).direction==="rtl"&&(o+=gr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:u}}const SC=25;function eK(t,e){const n=br(t),r=ri(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,u=0,c=0;if(s){i=s.width,o=s.height;const p=$1();(!p||p&&e==="fixed")&&(u=s.offsetLeft,c=s.offsetTop)}const d=qy(r);if(d<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),S=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,I=Math.abs(r.clientWidth-g.clientWidth-S);I<=SC&&(i-=I)}else d<=SC&&(i+=d);return{width:i,height:o,x:u,y:c}}const tK=new Set(["absolute","fixed"]);function nK(t,e){const n=Rl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zs(t)?cc(t):Hs(1),o=t.clientWidth*i.x,u=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:u,x:c,y:d}}function kC(t,e,n){let r;if(e==="viewport")r=eK(t,n);else if(e==="document")r=ZH(ri(t));else if(ds(e))r=nK(e,n);else{const s=YM(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return zg(r)}function ZM(t,e){const n=ro(t);return n===e||!ds(n)||Ic(n)?!1:fs(n).position==="fixed"||ZM(n,e)}function rK(t,e){const n=e.get(t);if(n)return n;let r=Jd(t,[],!1).filter(u=>ds(u)&&zc(u)!=="body"),s=null;const i=fs(t).position==="fixed";let o=i?ro(t):t;for(;ds(o)&&!Ic(o);){const u=fs(o),c=B1(o);!c&&u.position==="fixed"&&(s=null),(i?!c&&!s:!c&&u.position==="static"&&s&&tK.has(s.position)||Pf(o)&&!c&&ZM(t,o))?r=r.filter(d=>d!==o):s=u,o=ro(o)}return e.set(t,r),r}function sK(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?By(e)?[]:rK(e,this._c):[].concat(n),r],o=i[0],u=i.reduce((c,d)=>{const p=kC(e,d,s);return c.top=gr(p.top,c.top),c.right=no(p.right,c.right),c.bottom=no(p.bottom,c.bottom),c.left=gr(p.left,c.left),c},kC(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function iK(t){const{width:e,height:n}=XM(t);return{width:e,height:n}}function aK(t,e,n){const r=Zs(e),s=ri(e),i=n==="fixed",o=Rl(t,!0,i,e);let u={scrollLeft:0,scrollTop:0};const c=Hs(0);function d(){c.x=qy(s)}if(r||!r&&!i)if((zc(e)!=="body"||Pf(s))&&(u=$y(e)),r){const S=Rl(e,!0,i,e);c.x=S.x+e.clientLeft,c.y=S.y+e.clientTop}else s&&d();i&&!r&&s&&d();const p=s&&!r&&!i?JM(s,u):Hs(0),g=o.left+u.scrollLeft-c.x-p.x,v=o.top+u.scrollTop-c.y-p.y;return{x:g,y:v,width:o.width,height:o.height}}function iw(t){return fs(t).position==="static"}function TC(t,e){if(!Zs(t)||fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ri(t)===n&&(n=n.ownerDocument.body),n}function eA(t,e){const n=br(t);if(By(t))return n;if(!Zs(t)){let s=ro(t);for(;s&&!Ic(s);){if(ds(s)&&!iw(s))return s;s=ro(s)}return n}let r=TC(t,e);for(;r&&BH(r)&&iw(r);)r=TC(r,e);return r&&Ic(r)&&iw(r)&&!B1(r)?n:r||KH(t)||n}const oK=async function(t){const e=this.getOffsetParent||eA,n=this.getDimensions,r=await n(t.floating);return{reference:aK(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lK(t){return fs(t).direction==="rtl"}const uK={convertOffsetParentRelativeRectToViewportRelativeRect:YH,getDocumentElement:ri,getClippingRect:sK,getOffsetParent:eA,getElementRects:oK,getClientRects:JH,getDimensions:iK,getScale:cc,isElement:ds,isRTL:lK};function tA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cK(t,e){let n=null,r;const s=ri(t);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:p,top:g,width:v,height:S}=d;if(u||e(),!v||!S)return;const I=vm(g),T=vm(s.clientWidth-(p+v)),_=vm(s.clientHeight-(g+S)),N=vm(p),D={rootMargin:-I+"px "+-T+"px "+-_+"px "+-N+"px",threshold:gr(0,no(1,c))||1};let j=!0;function V(B){const H=B[0].intersectionRatio;if(H!==c){if(!j)return o();H?o(!1,H):r=setTimeout(()=>{o(!1,1e-7)},1e3)}H===1&&!tA(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(V,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,D)}n.observe(t)}return o(!0),i}function hK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=q1(t),p=s||i?[...d?Jd(d):[],...Jd(e)]:[];p.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),i&&N.addEventListener("resize",n)});const g=d&&u?cK(d,n):null;let v=-1,S=null;o&&(S=new ResizeObserver(N=>{let[D]=N;D&&D.target===d&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=S)==null||j.observe(e)})),n()}),d&&!c&&S.observe(d),S.observe(e));let I,T=c?Rl(t):null;c&&_();function _(){const N=Rl(t);T&&!tA(T,N)&&n(),T=N,I=requestAnimationFrame(_)}return n(),()=>{var N;p.forEach(D=>{s&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),g==null||g(),(N=S)==null||N.disconnect(),S=null,c&&cancelAnimationFrame(I)}}const dK=OH,fK=LH,pK=MH,mK=UH,gK=AH,_C=DH,yK=FH,vK=(t,e,n)=>{const r=new Map,s={platform:uK,...n},i={...s.platform,_c:r};return RH(t,e,{...s,platform:i})};var wK=typeof document<"u",bK=function(){},Km=wK?E.useLayoutEffect:bK;function Bg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Bg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function nA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function IC(t,e){const n=nA(t);return Math.round(e*n)/n}function aw(t){const e=E.useRef(t);return Km(()=>{e.current=t}),e}function xK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:u=!0,whileElementsMounted:c,open:d}=t,[p,g]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=E.useState(r);Bg(v,r)||S(r);const[I,T]=E.useState(null),[_,N]=E.useState(null),D=E.useCallback(G=>{G!==H.current&&(H.current=G,T(G))},[]),j=E.useCallback(G=>{G!==M.current&&(M.current=G,N(G))},[]),V=i||I,B=o||_,H=E.useRef(null),M=E.useRef(null),C=E.useRef(p),R=c!=null,O=aw(c),U=aw(s),$=aw(d),L=E.useCallback(()=>{if(!H.current||!M.current)return;const G={placement:e,strategy:n,middleware:v};U.current&&(G.platform=U.current),vK(H.current,M.current,G).then(ne=>{const ae={...ne,isPositioned:$.current!==!1};ke.current&&!Bg(C.current,ae)&&(C.current=ae,N1.flushSync(()=>{g(ae)}))})},[v,e,n,U,$]);Km(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[d]);const ke=E.useRef(!1);Km(()=>(ke.current=!0,()=>{ke.current=!1}),[]),Km(()=>{if(V&&(H.current=V),B&&(M.current=B),V&&B){if(O.current)return O.current(V,B,L);L()}},[V,B,L,O,R]);const De=E.useMemo(()=>({reference:H,floating:M,setReference:D,setFloating:j}),[D,j]),ye=E.useMemo(()=>({reference:V,floating:B}),[V,B]),ve=E.useMemo(()=>{const G={position:n,left:0,top:0};if(!ye.floating)return G;const ne=IC(ye.floating,p.x),ae=IC(ye.floating,p.y);return u?{...G,transform:"translate("+ne+"px, "+ae+"px)",...nA(ye.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ae}},[n,u,ye.floating,p.x,p.y]);return E.useMemo(()=>({...p,update:L,refs:De,elements:ye,floatingStyles:ve}),[p,L,De,ye,ve])}const EK=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_C({element:r.current,padding:s}).fn(n):{}:r?_C({element:r,padding:s}).fn(n):{}}}},SK=(t,e)=>({...dK(t),options:[t,e]}),kK=(t,e)=>({...fK(t),options:[t,e]}),TK=(t,e)=>({...yK(t),options:[t,e]}),_K=(t,e)=>({...pK(t),options:[t,e]}),IK=(t,e)=>({...mK(t),options:[t,e]}),CK=(t,e)=>({...gK(t),options:[t,e]}),PK=(t,e)=>({...EK(t),options:[t,e]});var NK="Arrow",rA=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return x.jsx($n.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});rA.displayName=NK;var RK=rA;function DK(t){const[e,n]=E.useState(void 0);return to(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,u;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,u=d.blockSize}else o=t.offsetWidth,u=t.offsetHeight;n({width:o,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var W1="Popper",[sA,iA]=Cf(W1),[MK,aA]=sA(W1),oA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return x.jsx(MK,{scope:e,anchor:r,onAnchorChange:s,children:n})};oA.displayName=W1;var lA="PopperAnchor",uA=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=aA(lA,n),o=E.useRef(null),u=sr(e,o),c=E.useRef(null);return E.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:x.jsx($n.div,{...s,ref:u})});uA.displayName=lA;var H1="PopperContent",[AK,jK]=sA(H1),cA=E.forwardRef((t,e)=>{var n,r,s,i,o,u;const{__scopePopper:c,side:d="bottom",sideOffset:p=0,align:g="center",alignOffset:v=0,arrowPadding:S=0,avoidCollisions:I=!0,collisionBoundary:T=[],collisionPadding:_=0,sticky:N="partial",hideWhenDetached:D=!1,updatePositionStrategy:j="optimized",onPlaced:V,...B}=t,H=aA(H1,c),[M,C]=E.useState(null),R=sr(e,Wn=>C(Wn)),[O,U]=E.useState(null),$=DK(O),L=($==null?void 0:$.width)??0,ke=($==null?void 0:$.height)??0,De=d+(g!=="center"?"-"+g:""),ye=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ve=Array.isArray(T)?T:[T],G=ve.length>0,ne={padding:ye,boundary:ve.filter(LK),altBoundary:G},{refs:ae,floatingStyles:K,placement:re,isPositioned:pe,middlewareData:me}=xK({strategy:"fixed",placement:De,whileElementsMounted:(...Wn)=>hK(...Wn,{animationFrame:j==="always"}),elements:{reference:H.anchor},middleware:[SK({mainAxis:p+ke,alignmentAxis:v}),I&&kK({mainAxis:!0,crossAxis:!1,limiter:N==="partial"?TK():void 0,...ne}),I&&_K({...ne}),IK({...ne,apply:({elements:Wn,rects:Qi,availableWidth:Bl,availableHeight:Xi})=>{const{width:si,height:ho}=Qi.reference,mt=Wn.floating.style;mt.setProperty("--radix-popper-available-width",`${Bl}px`),mt.setProperty("--radix-popper-available-height",`${Xi}px`),mt.setProperty("--radix-popper-anchor-width",`${si}px`),mt.setProperty("--radix-popper-anchor-height",`${ho}px`)}}),O&&PK({element:O,padding:S}),FK({arrowWidth:L,arrowHeight:ke}),D&&CK({strategy:"referenceHidden",...ne})]}),[Me,ze]=fA(re),Ce=Fi(V);to(()=>{pe&&(Ce==null||Ce())},[pe,Ce]);const $e=(n=me.arrow)==null?void 0:n.x,Ve=(r=me.arrow)==null?void 0:r.y,pt=((s=me.arrow)==null?void 0:s.centerOffset)!==0,[Er,Sr]=E.useState();return to(()=>{M&&Sr(window.getComputedStyle(M).zIndex)},[M]),x.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:pe?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Er,"--radix-popper-transform-origin":[(i=me.transformOrigin)==null?void 0:i.x,(o=me.transformOrigin)==null?void 0:o.y].join(" "),...((u=me.hide)==null?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(AK,{scope:c,placedSide:Me,onArrowChange:U,arrowX:$e,arrowY:Ve,shouldHideArrow:pt,children:x.jsx($n.div,{"data-side":Me,"data-align":ze,...B,ref:R,style:{...B.style,animation:pe?void 0:"none"}})})})});cA.displayName=H1;var hA="PopperArrow",OK={top:"bottom",right:"left",bottom:"top",left:"right"},dA=E.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=jK(hA,n),i=OK[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(RK,{...r,ref:e,style:{...r.style,display:"block"}})})});dA.displayName=hA;function LK(t){return t!==null}var FK=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s;const{placement:i,rects:o,middlewareData:u}=e,c=((n=u.arrow)==null?void 0:n.centerOffset)!==0,d=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[g,v]=fA(i),S={start:"0%",center:"50%",end:"100%"}[v],I=(((r=u.arrow)==null?void 0:r.x)??0)+d/2,T=(((s=u.arrow)==null?void 0:s.y)??0)+p/2;let _="",N="";return g==="bottom"?(_=c?S:`${I}px`,N=`${-p}px`):g==="top"?(_=c?S:`${I}px`,N=`${o.floating.height+p}px`):g==="right"?(_=`${-p}px`,N=c?S:`${T}px`):g==="left"&&(_=`${o.floating.width+p}px`,N=c?S:`${T}px`),{data:{x:_,y:N}}}});function fA(t){const[e,n="center"]=t.split("-");return[e,n]}var UK=oA,VK=uA,zK=cA,BK=dA,$K="Portal",pA=E.forwardRef((t,e)=>{var n;const{container:r,...s}=t,[i,o]=E.useState(!1);to(()=>o(!0),[]);const u=r||i&&((n=globalThis==null?void 0:globalThis.document)==null?void 0:n.body);return u?GB.createPortal(x.jsx($n.div,{...s,ref:e}),u):null});pA.displayName=$K;function qK(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Nf=t=>{const{present:e,children:n}=t,r=WK(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=sr(r.ref,HK(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};Nf.displayName="Presence";function WK(t){const[e,n]=E.useState(),r=E.useRef(null),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[u,c]=qK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const d=wm(r.current);i.current=u==="mounted"?d:"none"},[u]),to(()=>{const d=r.current,p=s.current;if(p!==t){const g=i.current,v=wm(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),to(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,g=S=>{const I=wm(r.current).includes(CSS.escape(S.animationName));if(S.target===e&&I&&(c("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},v=S=>{S.target===e&&(i.current=wm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function wm(t){return(t==null?void 0:t.animationName)||"none"}function HK(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var ow="rovingFocusGroup.onEntryFocus",KK={bubbles:!1,cancelable:!0},Rf="RovingFocusGroup",[Mb,mA,GK]=UM(Rf),[QK,gA]=Cf(Rf,[GK]),[XK,YK]=QK(Rf),yA=E.forwardRef((t,e)=>x.jsx(Mb.Provider,{scope:t.__scopeRovingFocusGroup,children:x.jsx(Mb.Slot,{scope:t.__scopeRovingFocusGroup,children:x.jsx(JK,{...t,ref:e})})}));yA.displayName=Rf;var JK=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=t,v=E.useRef(null),S=sr(e,v),I=VM(i),[T,_]=LM({prop:o,defaultProp:u??null,onChange:c,caller:Rf}),[N,D]=E.useState(!1),j=Fi(d),V=mA(n),B=E.useRef(!1),[H,M]=E.useState(0);return E.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(ow,j),()=>C.removeEventListener(ow,j)},[j]),x.jsx(XK,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:T,onItemFocus:E.useCallback(C=>_(C),[_]),onItemShiftTab:E.useCallback(()=>D(!0),[]),onFocusableItemAdd:E.useCallback(()=>M(C=>C+1),[]),onFocusableItemRemove:E.useCallback(()=>M(C=>C-1),[]),children:x.jsx($n.div,{tabIndex:N||H===0?-1:0,"data-orientation":r,...g,ref:S,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{B.current=!0}),onFocus:et(t.onFocus,C=>{const R=!B.current;if(C.target===C.currentTarget&&R&&!N){const O=new CustomEvent(ow,KK);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const U=V().filter(De=>De.focusable),$=U.find(De=>De.active),L=U.find(De=>De.id===T),ke=[$,L,...U].filter(Boolean).map(De=>De.ref.current);bA(ke,p)}}B.current=!1}),onBlur:et(t.onBlur,()=>D(!1))})})}),vA="RovingFocusGroupItem",wA=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...u}=t,c=Pb(),d=i||c,p=YK(vA,n),g=p.currentTabStopId===d,v=mA(n),{onFocusableItemAdd:S,onFocusableItemRemove:I,currentTabStopId:T}=p;return E.useEffect(()=>{if(r)return S(),()=>I()},[r,S,I]),x.jsx(Mb.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:x.jsx($n.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:et(t.onMouseDown,_=>{r?p.onItemFocus(d):_.preventDefault()}),onFocus:et(t.onFocus,()=>p.onItemFocus(d)),onKeyDown:et(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=tG(_,p.orientation,p.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let D=v().filter(j=>j.focusable).map(j=>j.ref.current);if(N==="last")D.reverse();else if(N==="prev"||N==="next"){N==="prev"&&D.reverse();const j=D.indexOf(_.currentTarget);D=p.loop?nG(D,j+1):D.slice(j+1)}setTimeout(()=>bA(D))}}),children:typeof o=="function"?o({isCurrentTabStop:g,hasTabStop:T!=null}):o})})});wA.displayName=vA;var ZK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tG(t,e,n){const r=eG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZK[r]}function bA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function nG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rG=yA,sG=wA;function iG(t){const e=aG(t),n=E.forwardRef((r,s)=>{const{children:i,...o}=r,u=E.Children.toArray(i),c=u.find(lG);if(c){const d=c.props.children,p=u.map(g=>g===c?E.Children.count(d)>1?E.Children.only(null):E.isValidElement(d)?d.props.children:null:g);return x.jsx(e,{...o,ref:s,children:E.isValidElement(d)?E.cloneElement(d,void 0,p):null})}return x.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function aG(t){const e=E.forwardRef((n,r)=>{const{children:s,...i}=n;if(E.isValidElement(s)){const o=cG(s),u=uG(i,s.props);return s.type!==E.Fragment&&(u.ref=r?Ul(r,o):o),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oG=Symbol("radix.slottable");function lG(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oG}function uG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const u=i(...o);return s(...o),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function cG(t){var e,n;let r=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var hG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qu=new WeakMap,bm=new WeakMap,xm={},lw=0,xA=function(t){return t&&(t.host||xA(t.parentNode))},dG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fG=function(t,e,n,r){var s=dG(e,Array.isArray(t)?t:[t]);xm[n]||(xm[n]=new WeakMap);var i=xm[n],o=[],u=new Set,c=new Set(s),d=function(g){!g||u.has(g)||(u.add(g),d(g.parentNode))};s.forEach(d);var p=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var S=v.getAttribute(r),I=S!==null&&S!=="false",T=(qu.get(v)||0)+1,_=(i.get(v)||0)+1;qu.set(v,T),i.set(v,_),o.push(v),T===1&&I&&bm.set(v,!0),_===1&&v.setAttribute(n,"true"),I||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return p(e),u.clear(),lw++,function(){o.forEach(function(g){var v=qu.get(g)-1,S=i.get(g)-1;qu.set(g,v),i.set(g,S),v||(bm.has(g)||g.removeAttribute(r),bm.delete(g)),S||g.removeAttribute(n)}),lw--,lw||(qu=new WeakMap,qu=new WeakMap,bm=new WeakMap,xm={})}},pG=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=hG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),fG(r,s,n,"aria-hidden")):function(){return null}},Os=function(){return Os=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Os.apply(this,arguments)};function EA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function mG(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Gm="right-scroll-bar-position",Qm="width-before-scroll-bar",gG="with-scroll-bars-hidden",yG="--removed-body-scroll-bar-size";function uw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vG(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var wG=typeof window<"u"?E.useLayoutEffect:E.useEffect,CC=new WeakMap;function bG(t,e){var n=vG(null,function(r){return t.forEach(function(s){return uw(s,r)})});return wG(function(){var r=CC.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(u){i.has(u)||uw(u,null)}),i.forEach(function(u){s.has(u)||uw(u,o)})}CC.set(n,t)},[t]),n}function xG(t){return t}function EG(t,e){e===void 0&&(e=xG);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var c=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return s}function SG(t){t===void 0&&(t={});var e=EG(null);return e.options=Os({async:!0,ssr:!1},t),e}var SA=function(t){var e=t.sideCar,n=EA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Os({},n))};SA.isSideCarExport=!0;function kG(t,e){return t.useMedium(e),SA}var kA=SG(),cw=function(){},Wy=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:cw,onWheelCapture:cw,onTouchMoveCapture:cw}),s=r[0],i=r[1],o=t.forwardProps,u=t.children,c=t.className,d=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,S=t.noRelative,I=t.noIsolation,T=t.inert,_=t.allowPinchZoom,N=t.as,D=N===void 0?"div":N,j=t.gapMode,V=EA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,H=bG([n,e]),M=Os(Os({},V),s);return E.createElement(E.Fragment,null,p&&E.createElement(B,{sideCar:kA,removeScrollBar:d,shards:g,noRelative:S,noIsolation:I,inert:T,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:j}),o?E.cloneElement(E.Children.only(u),Os(Os({},M),{ref:H})):E.createElement(D,Os({},M,{className:c,ref:H}),u))});Wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wy.classNames={fullWidth:Qm,zeroRight:Gm};var TG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _G(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TG();return e&&t.setAttribute("nonce",e),t}function IG(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CG(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PG=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_G())&&(IG(e,n),CG(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},NG=function(){var t=PG();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TA=function(){var t=NG(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},RG={left:0,top:0,right:0,gap:0},hw=function(t){return parseInt(t||"",10)||0},DG=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[hw(n),hw(r),hw(s)]},MG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RG;var e=DG(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},AG=TA(),hc="data-scroll-locked",jG=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(gG,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(hc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Qm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qm," .").concat(Qm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hc,`] {
    `).concat(yG,": ").concat(u,`px;
  }
`)},PC=function(){var t=parseInt(document.body.getAttribute(hc)||"0",10);return isFinite(t)?t:0},OG=function(){E.useEffect(function(){return document.body.setAttribute(hc,(PC()+1).toString()),function(){var t=PC()-1;t<=0?document.body.removeAttribute(hc):document.body.setAttribute(hc,t.toString())}},[])},LG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;OG();var i=E.useMemo(function(){return MG(s)},[s]);return E.createElement(AG,{styles:jG(i,!e,s,n?"":"!important")})},Ab=!1;if(typeof window<"u")try{var Em=Object.defineProperty({},"passive",{get:function(){return Ab=!0,!0}});window.addEventListener("test",Em,Em),window.removeEventListener("test",Em,Em)}catch{Ab=!1}var Wu=Ab?{passive:!1}:!1,FG=function(t){return t.tagName==="TEXTAREA"},_A=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!FG(t)&&n[e]==="visible")},UG=function(t){return _A(t,"overflowY")},VG=function(t){return _A(t,"overflowX")},NC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=IA(t,r);if(s){var i=CA(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},BG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},IA=function(t,e){return t==="v"?UG(e):VG(e)},CA=function(t,e){return t==="v"?zG(e):BG(e)},$G=function(t,e){return t==="h"&&e==="rtl"?-1:1},qG=function(t,e,n,r,s){var i=$G(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,c=e.contains(u),d=!1,p=o>0,g=0,v=0;do{if(!u)break;var S=CA(t,u),I=S[0],T=S[1],_=S[2],N=T-_-i*I;(I||N)&&IA(t,u)&&(g+=N,v+=I);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(d=!0),d},Sm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RC=function(t){return[t.deltaX,t.deltaY]},DC=function(t){return t&&"current"in t?t.current:t},WG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KG=0,Hu=[];function GG(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(KG++)[0],i=E.useState(TA)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=mG([t.lockRef.current],(t.shards||[]).map(DC)).filter(Boolean);return T.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=E.useCallback(function(T,_){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var N=Sm(T),D=n.current,j="deltaX"in T?T.deltaX:D[0]-N[0],V="deltaY"in T?T.deltaY:D[1]-N[1],B,H=T.target,M=Math.abs(j)>Math.abs(V)?"h":"v";if("touches"in T&&M==="h"&&H.type==="range")return!1;var C=NC(M,H);if(!C)return!0;if(C?B=M:(B=M==="v"?"h":"v",C=NC(M,H)),!C)return!1;if(!r.current&&"changedTouches"in T&&(j||V)&&(r.current=B),!B)return!0;var R=r.current||B;return qG(R,_,T,R==="h"?j:V)},[]),c=E.useCallback(function(T){var _=T;if(!(!Hu.length||Hu[Hu.length-1]!==i)){var N="deltaY"in _?RC(_):Sm(_),D=e.current.filter(function(B){return B.name===_.type&&(B.target===_.target||_.target===B.shadowParent)&&WG(B.delta,N)})[0];if(D&&D.should){_.cancelable&&_.preventDefault();return}if(!D){var j=(o.current.shards||[]).map(DC).filter(Boolean).filter(function(B){return B.contains(_.target)}),V=j.length>0?u(_,j[0]):!o.current.noIsolation;V&&_.cancelable&&_.preventDefault()}}},[]),d=E.useCallback(function(T,_,N,D){var j={name:T,delta:_,target:N,should:D,shadowParent:QG(N)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(V){return V!==j})},1)},[]),p=E.useCallback(function(T){n.current=Sm(T),r.current=void 0},[]),g=E.useCallback(function(T){d(T.type,RC(T),T.target,u(T,t.lockRef.current))},[]),v=E.useCallback(function(T){d(T.type,Sm(T),T.target,u(T,t.lockRef.current))},[]);E.useEffect(function(){return Hu.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Wu),document.addEventListener("touchmove",c,Wu),document.addEventListener("touchstart",p,Wu),function(){Hu=Hu.filter(function(T){return T!==i}),document.removeEventListener("wheel",c,Wu),document.removeEventListener("touchmove",c,Wu),document.removeEventListener("touchstart",p,Wu)}},[]);var S=t.removeScrollBar,I=t.inert;return E.createElement(E.Fragment,null,I?E.createElement(i,{styles:HG(s)}):null,S?E.createElement(LG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XG=kG(kA,GG);var PA=E.forwardRef(function(t,e){return E.createElement(Wy,Os({},t,{ref:e,sideCar:XG}))});PA.classNames=Wy.classNames;var jb=["Enter"," "],YG=["ArrowDown","PageUp","Home"],NA=["ArrowUp","PageDown","End"],JG=[...YG,...NA],ZG={ltr:[...jb,"ArrowRight"],rtl:[...jb,"ArrowLeft"]},eQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Df="Menu",[Zd,tQ,nQ]=UM(Df),[Vl,RA]=Cf(Df,[nQ,iA,gA]),Hy=iA(),DA=gA(),[rQ,zl]=Vl(Df),[sQ,Mf]=Vl(Df),MA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,u=Hy(e),[c,d]=E.useState(null),p=E.useRef(!1),g=Fi(i),v=VM(s);return E.useEffect(()=>{const S=()=>{p.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>p.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),x.jsx(UK,{...u,children:x.jsx(rQ,{scope:e,open:n,onOpenChange:g,content:c,onContentChange:d,children:x.jsx(sQ,{scope:e,onClose:E.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:o,children:r})})})};MA.displayName=Df;var iQ="MenuAnchor",K1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hy(n);return x.jsx(VK,{...s,...r,ref:e})});K1.displayName=iQ;var G1="MenuPortal",[aQ,AA]=Vl(G1,{forceMount:void 0}),jA=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=zl(G1,e);return x.jsx(aQ,{scope:e,forceMount:n,children:x.jsx(Nf,{present:n||i.open,children:x.jsx(pA,{asChild:!0,container:s,children:r})})})};jA.displayName=G1;var Br="MenuContent",[oQ,Q1]=Vl(Br),OA=E.forwardRef((t,e)=>{const n=AA(Br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=zl(Br,t.__scopeMenu),o=Mf(Br,t.__scopeMenu);return x.jsx(Zd.Provider,{scope:t.__scopeMenu,children:x.jsx(Nf,{present:r||i.open,children:x.jsx(Zd.Slot,{scope:t.__scopeMenu,children:o.modal?x.jsx(lQ,{...s,ref:e}):x.jsx(uQ,{...s,ref:e})})})})}),lQ=E.forwardRef((t,e)=>{const n=zl(Br,t.__scopeMenu),r=E.useRef(null),s=sr(e,r);return E.useEffect(()=>{const i=r.current;if(i)return pG(i)},[]),x.jsx(X1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),uQ=E.forwardRef((t,e)=>{const n=zl(Br,t.__scopeMenu);return x.jsx(X1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),cQ=iG("MenuContent.ScrollLock"),X1=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:S,disableOutsideScroll:I,...T}=t,_=zl(Br,n),N=Mf(Br,n),D=Hy(n),j=DA(n),V=tQ(n),[B,H]=E.useState(null),M=E.useRef(null),C=sr(e,M,_.onContentChange),R=E.useRef(0),O=E.useRef(""),U=E.useRef(0),$=E.useRef(null),L=E.useRef("right"),ke=E.useRef(0),De=I?PA:E.Fragment,ye=I?{as:cQ,allowPinchZoom:!0}:void 0,ve=ne=>{var ae,K;const re=O.current+ne,pe=V().filter(Ve=>!Ve.disabled),me=document.activeElement,Me=(ae=pe.find(Ve=>Ve.ref.current===me))==null?void 0:ae.textValue,ze=pe.map(Ve=>Ve.textValue),Ce=EQ(ze,re,Me),$e=(K=pe.find(Ve=>Ve.textValue===Ce))==null?void 0:K.ref.current;(function Ve(pt){O.current=pt,window.clearTimeout(R.current),pt!==""&&(R.current=window.setTimeout(()=>Ve(""),1e3))})(re),$e&&setTimeout(()=>$e.focus())};E.useEffect(()=>()=>window.clearTimeout(R.current),[]),cH();const G=E.useCallback(ne=>{var ae,K;return L.current===((ae=$.current)==null?void 0:ae.side)&&kQ(ne,(K=$.current)==null?void 0:K.area)},[]);return x.jsx(oQ,{scope:n,searchRef:O,onItemEnter:E.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),onItemLeave:E.useCallback(ne=>{var ae;G(ne)||((ae=M.current)==null||ae.focus(),H(null))},[G]),onTriggerLeave:E.useCallback(ne=>{G(ne)&&ne.preventDefault()},[G]),pointerGraceTimerRef:U,onPointerGraceIntentChange:E.useCallback(ne=>{$.current=ne},[]),children:x.jsx(De,{...ye,children:x.jsx(qM,{asChild:!0,trapped:s,onMountAutoFocus:et(i,ne=>{var ae;ne.preventDefault(),(ae=M.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:x.jsx(BM,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:S,children:x.jsx(rG,{asChild:!0,...j,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:H,onEntryFocus:et(c,ne=>{N.isUsingKeyboardRef.current||ne.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(zK,{role:"menu","aria-orientation":"vertical","data-state":JA(_.open),"data-radix-menu-content":"",dir:N.dir,...D,...T,ref:C,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,ne=>{const ae=ne.target.closest("[data-radix-menu-content]")===ne.currentTarget,K=ne.ctrlKey||ne.altKey||ne.metaKey,re=ne.key.length===1;ae&&(ne.key==="Tab"&&ne.preventDefault(),!K&&re&&ve(ne.key));const pe=M.current;if(ne.target!==pe||!JG.includes(ne.key))return;ne.preventDefault();const me=V().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);NA.includes(ne.key)&&me.reverse(),bQ(me)}),onBlur:et(t.onBlur,ne=>{ne.currentTarget.contains(ne.target)||(window.clearTimeout(R.current),O.current="")}),onPointerMove:et(t.onPointerMove,ef(ne=>{const ae=ne.target,K=ke.current!==ne.clientX;if(ne.currentTarget.contains(ae)&&K){const re=ne.clientX>ke.current?"right":"left";L.current=re,ke.current=ne.clientX}}))})})})})})})});OA.displayName=Br;var hQ="MenuGroup",Y1=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx($n.div,{role:"group",...r,ref:e})});Y1.displayName=hQ;var dQ="MenuLabel",LA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx($n.div,{...r,ref:e})});LA.displayName=dQ;var $g="MenuItem",MC="menu.itemSelect",Ky=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=E.useRef(null),o=Mf($g,t.__scopeMenu),u=Q1($g,t.__scopeMenu),c=sr(e,i),d=E.useRef(!1),p=()=>{const g=i.current;if(!n&&g){const v=new CustomEvent(MC,{bubbles:!0,cancelable:!0});g.addEventListener(MC,S=>r==null?void 0:r(S),{once:!0}),FM(g,v),v.defaultPrevented?d.current=!1:o.onClose()}};return x.jsx(FA,{...s,ref:c,disabled:n,onClick:et(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),d.current=!0},onPointerUp:et(t.onPointerUp,g=>{var v;d.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:et(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||jb.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Ky.displayName=$g;var FA=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Q1($g,n),u=DA(n),c=E.useRef(null),d=sr(e,c),[p,g]=E.useState(!1),[v,S]=E.useState("");return E.useEffect(()=>{const I=c.current;I&&S((I.textContent??"").trim())},[i.children]),x.jsx(Zd.ItemSlot,{scope:n,disabled:r,textValue:s??v,children:x.jsx(sG,{asChild:!0,...u,focusable:!r,children:x.jsx($n.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:et(t.onPointerMove,ef(I=>{r?o.onItemLeave(I):(o.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,ef(I=>o.onItemLeave(I))),onFocus:et(t.onFocus,()=>g(!0)),onBlur:et(t.onBlur,()=>g(!1))})})})}),fQ="MenuCheckboxItem",UA=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return x.jsx(qA,{scope:t.__scopeMenu,checked:n,children:x.jsx(Ky,{role:"menuitemcheckbox","aria-checked":qg(n)?"mixed":n,...s,ref:e,"data-state":Z1(n),onSelect:et(s.onSelect,()=>r==null?void 0:r(qg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UA.displayName=fQ;var VA="MenuRadioGroup",[pQ,mQ]=Vl(VA,{value:void 0,onValueChange:()=>{}}),zA=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Fi(r);return x.jsx(pQ,{scope:t.__scopeMenu,value:n,onValueChange:i,children:x.jsx(Y1,{...s,ref:e})})});zA.displayName=VA;var BA="MenuRadioItem",$A=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=mQ(BA,t.__scopeMenu),i=n===s.value;return x.jsx(qA,{scope:t.__scopeMenu,checked:i,children:x.jsx(Ky,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Z1(i),onSelect:et(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});$A.displayName=BA;var J1="MenuItemIndicator",[qA,gQ]=Vl(J1,{checked:!1}),WA=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=gQ(J1,n);return x.jsx(Nf,{present:r||qg(i.checked)||i.checked===!0,children:x.jsx($n.span,{...s,ref:e,"data-state":Z1(i.checked)})})});WA.displayName=J1;var yQ="MenuSeparator",HA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return x.jsx($n.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});HA.displayName=yQ;var vQ="MenuArrow",KA=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hy(n);return x.jsx(BK,{...s,...r,ref:e})});KA.displayName=vQ;var wQ="MenuSub",[Une,GA]=Vl(wQ),pd="MenuSubTrigger",QA=E.forwardRef((t,e)=>{const n=zl(pd,t.__scopeMenu),r=Mf(pd,t.__scopeMenu),s=GA(pd,t.__scopeMenu),i=Q1(pd,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},p=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>p,[p]),E.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),c(null)}},[u,c]),x.jsx(K1,{asChild:!0,...d,children:x.jsx(FA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":JA(n.open),...t,ref:Ul(e,s.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,ef(g=>{i.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:et(t.onPointerLeave,ef(g=>{var v,S;p();const I=(v=n.content)==null?void 0:v.getBoundingClientRect();if(I){const T=(S=n.content)==null?void 0:S.dataset.side,_=T==="right",N=_?-5:5,D=I[_?"left":"right"],j=I[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+N,y:g.clientY},{x:D,y:I.top},{x:j,y:I.top},{x:j,y:I.bottom},{x:D,y:I.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,g=>{var v;const S=i.searchRef.current!=="";t.disabled||S&&g.key===" "||ZG[r.dir].includes(g.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),g.preventDefault())})})})});QA.displayName=pd;var XA="MenuSubContent",YA=E.forwardRef((t,e)=>{const n=AA(Br,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=zl(Br,t.__scopeMenu),o=Mf(Br,t.__scopeMenu),u=GA(XA,t.__scopeMenu),c=E.useRef(null),d=sr(e,c);return x.jsx(Zd.Provider,{scope:t.__scopeMenu,children:x.jsx(Nf,{present:r||i.open,children:x.jsx(Zd.Slot,{scope:t.__scopeMenu,children:x.jsx(X1,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;o.isUsingKeyboardRef.current&&((g=c.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:et(t.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,p=>{o.onClose(),p.preventDefault()}),onKeyDown:et(t.onKeyDown,p=>{var g;const v=p.currentTarget.contains(p.target),S=eQ[o.dir].includes(p.key);v&&S&&(i.onOpenChange(!1),(g=u.trigger)==null||g.focus(),p.preventDefault())})})})})})});YA.displayName=XA;function JA(t){return t?"open":"closed"}function qg(t){return t==="indeterminate"}function Z1(t){return qg(t)?"indeterminate":t?"checked":"unchecked"}function bQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function xQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function EQ(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=xQ(t,Math.max(s,0));r.length===1&&(i=i.filter(u=>u!==n));const o=i.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return o!==n?o:void 0}function SQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const u=e[i],c=e[o],d=u.x,p=u.y,g=c.x,v=c.y;p>r!=v>r&&n<(g-d)*(r-p)/(v-p)+d&&(s=!s)}return s}function kQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return SQ(n,e)}function ef(t){return e=>e.pointerType==="mouse"?t(e):void 0}var TQ=MA,_Q=K1,IQ=jA,CQ=OA,PQ=Y1,NQ=LA,RQ=Ky,DQ=UA,MQ=zA,AQ=$A,jQ=WA,OQ=HA,LQ=KA,FQ=QA,UQ=YA,Gy="DropdownMenu",[VQ]=Cf(Gy,[RA]),qn=RA(),[zQ,ZA]=VQ(Gy),ej=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:u=!0}=t,c=qn(e),d=E.useRef(null),[p,g]=LM({prop:s,defaultProp:i??!1,onChange:o,caller:Gy});return x.jsx(zQ,{scope:e,triggerId:Pb(),triggerRef:d,contentId:Pb(),open:p,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(v=>!v),[g]),modal:u,children:x.jsx(TQ,{...c,open:p,onOpenChange:g,dir:r,modal:u,children:n})})};ej.displayName=Gy;var tj="DropdownMenuTrigger",nj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=ZA(tj,n),o=qn(n);return x.jsx(_Q,{asChild:!0,...o,children:x.jsx($n.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ul(e,i.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});nj.displayName=tj;var BQ="DropdownMenuPortal",rj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qn(e);return x.jsx(IQ,{...r,...n})};rj.displayName=BQ;var sj="DropdownMenuContent",ij=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ZA(sj,n),i=qn(n),o=E.useRef(!1);return x.jsx(CQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const c=u.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,p=c.button===2||d;(!s.modal||p)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ij.displayName=sj;var $Q="DropdownMenuGroup",qQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(PQ,{...s,...r,ref:e})});qQ.displayName=$Q;var WQ="DropdownMenuLabel",aj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(NQ,{...s,...r,ref:e})});aj.displayName=WQ;var HQ="DropdownMenuItem",oj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(RQ,{...s,...r,ref:e})});oj.displayName=HQ;var KQ="DropdownMenuCheckboxItem",lj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(DQ,{...s,...r,ref:e})});lj.displayName=KQ;var GQ="DropdownMenuRadioGroup",QQ=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(MQ,{...s,...r,ref:e})});QQ.displayName=GQ;var XQ="DropdownMenuRadioItem",uj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(AQ,{...s,...r,ref:e})});uj.displayName=XQ;var YQ="DropdownMenuItemIndicator",cj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(jQ,{...s,...r,ref:e})});cj.displayName=YQ;var JQ="DropdownMenuSeparator",hj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(OQ,{...s,...r,ref:e})});hj.displayName=JQ;var ZQ="DropdownMenuArrow",eX=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(LQ,{...s,...r,ref:e})});eX.displayName=ZQ;var tX="DropdownMenuSubTrigger",dj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(FQ,{...s,...r,ref:e})});dj.displayName=tX;var nX="DropdownMenuSubContent",fj=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qn(n);return x.jsx(UQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fj.displayName=nX;var rX=ej,sX=nj,iX=rj,pj=ij,mj=aj,gj=oj,yj=lj,vj=uj,wj=cj,bj=hj,xj=dj,Ej=fj;const aX=rX,oX=sX,lX=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>x.jsxs(xj,{ref:s,className:wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,x.jsx(Q$,{className:"ml-auto"})]}));lX.displayName=xj.displayName;const uX=E.forwardRef(({className:t,...e},n)=>x.jsx(Ej,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));uX.displayName=Ej.displayName;const Sj=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>x.jsx(iX,{children:x.jsx(pj,{ref:r,sideOffset:e,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Sj.displayName=pj.displayName;const Mr=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(gj,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Mr.displayName=gj.displayName;const cX=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>x.jsxs(yj,{ref:s,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(wj,{children:x.jsx(W$,{className:"h-4 w-4"})})}),e]}));cX.displayName=yj.displayName;const hX=E.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(vj,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(wj,{children:x.jsx(tq,{className:"h-2 w-2 fill-current"})})}),e]}));hX.displayName=vj.displayName;const kj=E.forwardRef(({className:t,inset:e,...n},r)=>x.jsx(mj,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));kj.displayName=mj.displayName;const Xm=E.forwardRef(({className:t,...e},n)=>x.jsx(bj,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",t),...e}));Xm.displayName=bj.displayName;function ps(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Dl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Tj=6048e5,dX=864e5;let fX={};function Qy(){return fX}function tf(t,e){var n,r,s,i;const o=Qy(),u=(e==null?void 0:e.weekStartsOn)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.weekStartsOn)??o.weekStartsOn??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.weekStartsOn)??0,c=ps(t),d=c.getDay(),p=(d<u?7:0)+d-u;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Wg(t){return tf(t,{weekStartsOn:1})}function _j(t){const e=ps(t),n=e.getFullYear(),r=Dl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Wg(r),i=Dl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Wg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ob(t){const e=ps(t);return e.setHours(0,0,0,0),e}function AC(t){const e=ps(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function pX(t,e){const n=Ob(t),r=Ob(e),s=+n-AC(n),i=+r-AC(r);return Math.round((s-i)/dX)}function mX(t){const e=_j(t),n=Dl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Wg(n)}function gX(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yX(t){if(!gX(t)&&typeof t!="number")return!1;const e=ps(t);return!isNaN(Number(e))}function vX(t){const e=ps(t),n=Dl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bX=(t,e,n)=>{let r;const s=wX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function dw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const xX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},EX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kX={date:dw({formats:xX,defaultWidth:"full"}),time:dw({formats:EX,defaultWidth:"full"}),dateTime:dw({formats:SX,defaultWidth:"full"})},TX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_X=(t,e,n,r)=>TX[t];function sd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):o;s=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[u]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const IX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AX={ordinalNumber:MX,era:sd({values:IX,defaultWidth:"wide"}),quarter:sd({values:CX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:sd({values:PX,defaultWidth:"wide"}),day:sd({values:NX,defaultWidth:"wide"}),dayPeriod:sd({values:RX,defaultWidth:"wide",formattingValues:DX,defaultFormattingWidth:"wide"})};function id(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?OX(u,g=>g.test(o)):jX(u,g=>g.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function jX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function OX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function LX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(s.length);return{value:o,rest:u}}}const FX=/^(\d+)(th|st|nd|rd)?/i,UX=/\d+/i,VX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zX={any:[/^b/i,/^(a|c)/i]},BX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$X={any:[/1/i,/2/i,/3/i,/4/i]},qX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},WX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},KX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XX={ordinalNumber:LX({matchPattern:FX,parsePattern:UX,valueCallback:t=>parseInt(t,10)}),era:id({matchPatterns:VX,defaultMatchWidth:"wide",parsePatterns:zX,defaultParseWidth:"any"}),quarter:id({matchPatterns:BX,defaultMatchWidth:"wide",parsePatterns:$X,defaultParseWidth:"any",valueCallback:t=>t+1}),month:id({matchPatterns:qX,defaultMatchWidth:"wide",parsePatterns:WX,defaultParseWidth:"any"}),day:id({matchPatterns:HX,defaultMatchWidth:"wide",parsePatterns:KX,defaultParseWidth:"any"}),dayPeriod:id({matchPatterns:GX,defaultMatchWidth:"any",parsePatterns:QX,defaultParseWidth:"any"})},YX={code:"en-US",formatDistance:bX,formatLong:kX,formatRelative:_X,localize:AX,match:XX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JX(t){const e=ps(t);return pX(e,vX(e))+1}function ZX(t){const e=ps(t),n=+Wg(e)-+mX(e);return Math.round(n/Tj)+1}function Ij(t,e){var n,r,s,i;const o=ps(t),u=o.getFullYear(),c=Qy(),d=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(s=c.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,p=Dl(t,0);p.setFullYear(u+1,0,d),p.setHours(0,0,0,0);const g=tf(p,e),v=Dl(t,0);v.setFullYear(u,0,d),v.setHours(0,0,0,0);const S=tf(v,e);return o.getTime()>=g.getTime()?u+1:o.getTime()>=S.getTime()?u:u-1}function eY(t,e){var n,r,s,i;const o=Qy(),u=(e==null?void 0:e.firstWeekContainsDate)??((r=(n=e==null?void 0:e.locale)==null?void 0:n.options)==null?void 0:r.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(s=o.locale)==null?void 0:s.options)==null?void 0:i.firstWeekContainsDate)??1,c=Ij(t,e),d=Dl(t,0);return d.setFullYear(c,0,u),d.setHours(0,0,0,0),tf(d,e)}function tY(t,e){const n=ps(t),r=+tf(n,e)-+eY(n,e);return Math.round(r/Tj)+1}function ot(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ja={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ot(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ot(n+1,2)},d(t,e){return ot(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ot(t.getHours()%12||12,e.length)},H(t,e){return ot(t.getHours(),e.length)},m(t,e){return ot(t.getMinutes(),e.length)},s(t,e){return ot(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ot(s,e.length)}},Ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ja.y(t,e)},Y:function(t,e,n,r){const s=Ij(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ot(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,e.length)},R:function(t,e){const n=_j(t);return ot(n,e.length)},u:function(t,e){const n=t.getFullYear();return ot(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ot(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ot(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ja.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ot(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=tY(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,e.length)},I:function(t,e,n){const r=ZX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ja.d(t,e)},D:function(t,e,n){const r=JX(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ot(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ot(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ot(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ku.noon:r===0?s=Ku.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ku.evening:r>=12?s=Ku.afternoon:r>=4?s=Ku.morning:s=Ku.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ja.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ja.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ot(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ja.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ja.s(t,e)},S:function(t,e){return ja.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LC(r);case"XXXX":case"XX":return Zo(r);case"XXXXX":case"XXX":default:return Zo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LC(r);case"xxxx":case"xx":return Zo(r);case"xxxxx":case"xxx":default:return Zo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OC(r,":");case"OOOO":default:return"GMT"+Zo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OC(r,":");case"zzzz":default:return"GMT"+Zo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ot(r,e.length)},T:function(t,e,n){const r=t.getTime();return ot(r,e.length)}};function OC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ot(i,2)}function LC(t,e){return t%60===0?(t>0?"-":"+")+ot(Math.abs(t)/60,2):Zo(t,e)}function Zo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ot(Math.trunc(r/60),2),i=ot(r%60,2);return n+s+e+i}const FC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Cj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return FC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",FC(r,e)).replace("{{time}}",Cj(s,e))},rY={p:Cj,P:nY},sY=/^D+$/,iY=/^Y+$/,aY=["D","DD","YY","YYYY"];function oY(t){return sY.test(t)}function lY(t){return iY.test(t)}function uY(t,e,n){const r=cY(t,e,n);if(console.warn(r),aY.includes(t))throw new RangeError(r)}function cY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fY=/^'([^]*?)'?$/,pY=/''/g,mY=/[a-zA-Z]/;function gY(t,e,n){var r,s,i,o;const u=Qy(),c=u.locale??YX,d=u.firstWeekContainsDate??((s=(r=u.locale)==null?void 0:r.options)==null?void 0:s.firstWeekContainsDate)??1,p=u.weekStartsOn??((o=(i=u.locale)==null?void 0:i.options)==null?void 0:o.weekStartsOn)??0,g=ps(t);if(!yX(g))throw new RangeError("Invalid time value");let v=e.match(dY).map(I=>{const T=I[0];if(T==="p"||T==="P"){const _=rY[T];return _(I,c.formatLong)}return I}).join("").match(hY).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const T=I[0];if(T==="'")return{isToken:!1,value:yY(I)};if(jC[T])return{isToken:!0,value:I};if(T.match(mY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:I}});c.localize.preprocessor&&(v=c.localize.preprocessor(g,v));const S={firstWeekContainsDate:d,weekStartsOn:p,locale:c};return v.map(I=>{if(!I.isToken)return I.value;const T=I.value;(lY(T)||oY(T))&&uY(T,e,String(t));const _=jC[T[0]];return _(g,T,c.localize,S)}).join("")}function yY(t){const e=t.match(fY);return e?e[1].replace(pY,"'"):t}class Ym extends an.Component{constructor(e){super(e),qk(this,"hardReload",()=>{window.location.reload(!0)}),qk(this,"clearCachesAndReload",async()=>{try{if("caches"in window){const n=await caches.keys();await Promise.all(n.map(r=>caches.delete(r)))}if("serviceWorker"in navigator){const n=await navigator.serviceWorker.getRegistrations();await Promise.all(n.map(r=>r.unregister()))}}catch(n){console.warn("Failed to clear caches or unregister SW",n)}finally{window.location.reload()}}),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ChunkErrorBoundary caught an error:",e,n)}render(){var e,n,r,s;if(this.state.hasError){const i=((e=this.state.error)==null?void 0:e.message)||"";return((n=this.state.error)==null?void 0:n.name)==="ChunkLoadError"||((r=this.state.error)==null?void 0:r.name)==="CSSChunkLoadError"||/Loading chunk|Failed to fetch dynamically imported module|Importing a module script failed/i.test(i)?x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Update available"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"The app was updated. Please refresh to load the latest version."}),x.jsxs("div",{className:"flex items-center justify-center gap-3",children:[x.jsx("button",{onClick:this.hardReload,className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"}),x.jsx("button",{onClick:this.clearCachesAndReload,className:"px-4 py-2 rounded-lg bg-gray-200",children:"Reset cache & reload"})]}),x.jsxs("details",{className:"mt-4 text-left text-xs text-gray-500",children:[x.jsx("summary",{children:"Details"}),x.jsx("pre",{className:"whitespace-pre-wrap break-words",children:((s=this.state.error)==null?void 0:s.stack)||i})]})]})}):x.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center max-w-md",children:[x.jsx("div",{className:"mb-4 text-3xl",children:""}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"Try refreshing the page."}),x.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-purple-600 text-white",children:"Refresh"})]})})}return this.props.children}}const fw=an.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./AvatarDisplay-BzkYfhqx-DhuaIq-T-B1MXxMhX-Dfi86nzO.js"),[]),[]),[]),[])),vY=an.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./PetDisplay-T8ztPqrq-CgXjoFIZ-CN-awV62-B0Vb4HvE.js"),__vite__mapDeps([0,1])),Lt([0,1])),Ut([0,1])),zt([0,1]))),wY=an.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./InstallPrompt-CYulZlIm-CLe6ZTMx-DmmrnoOb-A3GHfN9i.js"),__vite__mapDeps([2,3])),Lt([2,3])),Ut([2,3])),zt([2,3])));function bY({children:t,currentPageName:e}){var n;const r=Gi(),[s,i]=E.useState(!1),{user:o,loading:u}=F1(),[c,d]=E.useState(()=>localStorage.getItem("app.theme")==="dark");E.useEffect(()=>{const H=()=>{d(localStorage.getItem("app.theme")==="dark")};H(),window.addEventListener("storage",H);const M=setInterval(H,500);return()=>{window.removeEventListener("storage",H),clearInterval(M)}},[]),E.useEffect(()=>{const H=document.createElement("link");H.rel="manifest",H.href="/manifest.json",document.head.appendChild(H);const M=document.createElement("meta");M.name="theme-color",M.content=c?"#1e293b":"#9333ea",document.head.appendChild(M);const C=document.createElement("meta");C.name="apple-mobile-web-app-capable",C.content="yes",document.head.appendChild(C);const R=document.createElement("meta");R.name="apple-mobile-web-app-status-bar-style",R.content="default",document.head.appendChild(R);const O=document.createElement("meta");O.name="apple-mobile-web-app-title",O.content="Math Adventure",document.head.appendChild(O);const U=document.createElement("link");return U.rel="apple-touch-icon",document.head.appendChild(U),()=>{U.parentNode&&U.remove()}},[c]);const[p,g]=E.useState(0);E.useEffect(()=>{o!=null&&o.email&&g(0)},[o==null?void 0:o.email]);const v=gY(Ob(new Date),"yyyy-MM-dd"),{data:S=[]}=D$({queryKey:["dailyChallenges",v],initialData:[],enabled:!!o});if(e==="Landing")return x.jsx(x.Fragment,{children:t});if(e==="Home"&&!o)return x.jsx(x.Fragment,{children:t});if(!o)return u?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center max-w-md w-full",children:[x.jsx(iT,{size:"xl",variant:"circle",className:"mx-auto mb-6"}),x.jsx("h1",{className:"text-4xl font-extrabold text-white mb-3 drop-shadow-2xl",children:"Math Adventure"}),x.jsx("p",{className:"text-lg text-white mb-6 drop-shadow-lg",children:"Sign in or create an account to start."}),x.jsx(DM,{})]})});const I=S.some(H=>H.created_by===(o==null?void 0:o.email)),T=o?{avatar_skin_tone:o.avatar_skin_tone||"medium",avatar_hair_style:o.avatar_hair_style||"short",avatar_hair_color:o.avatar_hair_color||"brown",avatar_eyes:o.avatar_eyes||"normal",avatar_outfit:o.avatar_outfit||"casual",avatar_accessory:o.avatar_accessory||"none"}:null,_=o==null?void 0:o.active_pet,N=_?{id:_,name:"Pet",emoji:_==="dragon"?"":_==="owl"?"":_==="fox"?"":"",gradient:_==="dragon"?"from-red-400 to-orange-500":_==="owl"?"from-indigo-400 to-purple-500":_==="fox"?"from-orange-400 to-red-500":"from-pink-400 to-purple-500",evolveLevel:5}:null,D=(o==null?void 0:o.subscription_tier)||"free",j=D!=="free",V=async()=>{const H=sy(hs);await V6(H),localStorage.clear(),window.location.href="/"},B=({to:H,icon:M,label:C,badge:R,badgeColor:O="red",isDarkMode:U})=>{const $=r.pathname===nt(H);return x.jsxs(ft,{to:nt(H),onClick:()=>i(!1),className:`relative flex items-center gap-2 px-4 py-2 rounded-xl transition-all ${$?"bg-purple-500 text-white shadow-lg":U?"text-gray-300 hover:bg-slate-700":"text-gray-600 hover:bg-purple-50"}`,children:[x.jsx(M,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:C}),R&&x.jsx(jr,{className:`absolute -top-1 -right-1 bg-${O}-500 text-white text-xs px-1.5 py-0.5 ${O==="red"?"animate-pulse":""}`,children:R})]})};return x.jsxs("div",{className:`min-h-screen ${c?"bg-gradient-to-br from-gray-900 via-slate-800 to-gray-900":"bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50"}`,children:[x.jsx(FW,{}),x.jsx("style",{children:`
        :root {
          --primary: 168 85% 55%;
          --secondary: 280 65% 60%;
          --accent: 45 95% 55%;
          --success: 142 76% 45%;
        }

        @media all and (display-mode: standalone) {
          body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
          }
        }

        ${c?`
          * {
            scrollbar-width: thin;
            scrollbar-color: #475569 #1e293b;
          }

          *::-webkit-scrollbar {
            width: 8px;
          }

          *::-webkit-scrollbar-track {
            background: #1e293b;
          }

          *::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
          }

          *::-webkit-scrollbar-thumb:hover {
            background: #64748b;
          }
        `:""}
      `}),x.jsx("header",{className:`${c?"bg-slate-800/90":"bg-white/80"} backdrop-blur-md shadow-sm sticky top-0 z-50`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-2 md:px-4 py-2 md:py-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs(ft,{to:nt("Home"),className:"flex items-center gap-3",children:[x.jsx(iT,{size:"md",variant:"circle"}),x.jsx("div",{children:x.jsx("h1",{className:`text-xl md:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent ${c&&"from-purple-400 to-pink-400"}`,children:"Math Adventure"})})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[o&&x.jsx(ft,{to:nt("Home"),className:"hidden md:inline-block",children:x.jsxs(Ws,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold shadow-lg",children:[x.jsx(gM,{className:"w-4 h-4 mr-2"}),"Play Now"]})}),o&&x.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-3 py-2 rounded-xl shadow-md",children:[x.jsx(KI,{className:"w-4 h-4"}),x.jsx("span",{className:"font-bold text-sm",children:o.coins||0})]}),D!=="free"?x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(jr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white border-0 px-3 py-1.5 cursor-pointer",children:[x.jsx(ll,{className:"w-3 h-3 mr-1"}),D==="family_teacher"?"Family":D==="premium_player"?"Premium":"Parent"]})}):x.jsx(ft,{to:nt("Subscription"),className:"hidden md:block",children:x.jsxs(jr,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0 px-3 py-1.5 cursor-pointer animate-pulse",children:[x.jsx(ll,{className:"w-3 h-3 mr-1"}),"Upgrade"]})}),o&&x.jsx("div",{className:"hidden lg:block",children:x.jsxs(aX,{children:[x.jsx(oX,{asChild:!0,children:x.jsx(Ws,{variant:"ghost",className:`${c?"hover:bg-slate-700 text-gray-50":"hover:bg-purple-50 text-gray-900"} h-auto p-2`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex items-center gap-1",children:x.jsx(Ym,{children:x.jsxs(an.Suspense,{fallback:x.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}),children:[T&&x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(fw,{avatarData:T,size:"small"})}),N&&x.jsx("div",{className:"scale-50 origin-center -ml-2",children:x.jsx(vY,{pet:N,experience:((n=o==null?void 0:o.pet_experience)==null?void 0:n[_])||0,size:"small"})})]})})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:`text-sm font-semibold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]}),x.jsx(K$,{className:`w-4 h-4 ${c?"text-gray-300":"text-gray-500"}`})]})})}),x.jsxs(Sj,{align:"end",className:`${c?"bg-slate-800 border-slate-700 text-gray-50":"bg-white"} w-56`,children:[x.jsx(kj,{children:x.jsxs("div",{className:"flex flex-col space-y-1",children:[x.jsx("p",{className:`text-sm font-medium ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-xs ${c?"text-gray-300":"text-gray-500"}`,children:o.email})]})}),x.jsx(Xm,{className:c?"bg-slate-700":""}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Avatar"),className:"cursor-pointer",children:[x.jsx(Z0,{className:"w-4 h-4 mr-2"}),"View Profile"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Messages"),className:"cursor-pointer",children:[x.jsx(eC,{className:"w-4 h-4 mr-2"}),"Messages",p>0&&x.jsx(jr,{className:"ml-auto bg-blue-500 text-white text-xs",children:p})]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("DailyChallenge"),className:"cursor-pointer",children:[x.jsx(X0,{className:"w-4 h-4 mr-2"}),"Daily Challenge",!I&&x.jsx(jr,{className:"ml-auto bg-red-500 text-white text-xs animate-pulse",children:"!"})]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("AITutor"),className:"cursor-pointer",children:[x.jsx(Wm,{className:"w-4 h-4 mr-2"}),"AI Tutor"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Progress"),className:"cursor-pointer",children:[x.jsx($$,{className:"w-4 h-4 mr-2"}),"Progress & Stats"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Shop"),className:"cursor-pointer",children:[x.jsx(Y0,{className:"w-4 h-4 mr-2"}),"Rewards Shop"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("ParentPortal"),className:"cursor-pointer",children:[x.jsx(XI,{className:"w-4 h-4 mr-2"}),"Parent Portal",(o==null?void 0:o.is_parent_mode)&&x.jsx(jr,{className:"ml-2 bg-blue-500 text-white text-xs",children:"ON"})]})}),x.jsx(Xm,{className:c?"bg-slate-700":""}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Settings"),className:"cursor-pointer",children:[x.jsx(tC,{className:"w-4 h-4 mr-2"}),"App Settings"]})}),x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer",children:[x.jsx(aq,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})}),j&&(o==null?void 0:o.subscription_auto_renew)!==!1&&x.jsx(Mr,{asChild:!0,className:c?"focus:bg-slate-700":"",children:x.jsxs(ft,{to:nt("Subscription"),className:"cursor-pointer text-orange-600 focus:text-orange-600",children:[x.jsx(Z$,{className:"w-4 h-4 mr-2"}),"Cancel Subscription"]})}),x.jsx(Xm,{className:c?"bg-slate-700":""}),x.jsxs(Mr,{onClick:V,className:`${c?"text-red-400 focus:bg-slate-700 focus:text-red-400":"text-red-600 focus:text-red-600"} cursor-pointer`,children:[x.jsx(ZI,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),x.jsx(Ws,{variant:"ghost",size:"icon",onClick:()=>i(!s),className:`lg:hidden ${c?"text-gray-50 hover:bg-slate-700":""}`,children:s?x.jsx(j1,{className:"w-6 h-6"}):x.jsx(vq,{className:"w-6 h-6"})})]})]}),s&&x.jsxs("div",{className:`mt-4 pb-4 space-y-2 border-t pt-4 max-h-[calc(100vh-140px)] overflow-y-auto ${c?"border-slate-700":""}`,children:[o&&x.jsxs("div",{className:`${c?"bg-gradient-to-r from-slate-700 to-slate-600 text-gray-50":"bg-gradient-to-r from-purple-50 to-pink-50"} p-4 rounded-xl mb-4`,children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx(an.Suspense,{fallback:null,children:T&&x.jsx("div",{className:"scale-90 origin-center",children:x.jsx(fw,{avatarData:T,size:"small"})})}),x.jsxs("div",{children:[x.jsx("p",{className:`font-bold ${c?"text-gray-50":"text-gray-900"}`,children:o.full_name||"Player"}),x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:o.email})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(jr,{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white",children:[x.jsx(KI,{className:"w-3 h-3 mr-1"}),o.coins||0," Coins"]}),D!=="free"&&x.jsxs(jr,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white",children:[x.jsx(ll,{className:"w-3 h-3 mr-1"}),D==="family_teacher"?"Family":D==="premium_player"?"Premium":"Parent"]})]})]}),x.jsx(B,{to:"Home",icon:JI,label:"Home",isDarkMode:c}),x.jsx(B,{to:"DailyChallenge",icon:X0,label:"Daily Challenge",badge:I?null:"!",isDarkMode:c}),x.jsx(B,{to:"Progress",icon:xb,label:"Progress",isDarkMode:c}),x.jsx(B,{to:"AITutor",icon:Wm,label:"AI Tutor",isDarkMode:c}),x.jsx(B,{to:"Messages",icon:eC,label:"Messages",badge:p>0?p:null,badgeColor:"blue",isDarkMode:c}),x.jsx(B,{to:"Leaderboards",icon:U$,label:"Leaderboards",isDarkMode:c}),x.jsx(B,{to:"Shop",icon:Y0,label:"Shop",isDarkMode:c}),x.jsx(B,{to:"TeamChallenges",icon:Eb,label:"Team Challenges",isDarkMode:c}),x.jsx(B,{to:"ParentPortal",icon:XI,label:"Parent Portal",badge:o!=null&&o.is_parent_mode?"ON":null,badgeColor:"blue",isDarkMode:c}),x.jsx(B,{to:"Avatar",icon:Z0,label:"Profile",isDarkMode:c}),x.jsx("div",{className:`pt-2 mt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Settings"),onClick:()=>i(!1),children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-gradient-to-r from-gray-700 to-gray-800 text-gray-50 hover:bg-gray-700":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx(tC,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"App Settings"})]})})}),x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsx(ft,{to:nt("Subscription"),onClick:()=>i(!1),className:"w-full block",children:x.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 rounded-xl ${D!=="free"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white animate-pulse"}`,children:[x.jsx(ll,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:D!=="free"?"Manage Subscription":"Upgrade to Premium"})]})})}),o&&x.jsx("div",{className:`pt-2 border-t ${c?"border-slate-700":""}`,children:x.jsxs("button",{onClick:()=>{i(!1),V()},className:`w-full flex items-center gap-2 px-4 py-3 rounded-xl ${c?"bg-red-900/20 text-red-400 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[x.jsx(ZI,{className:"w-5 h-5"}),x.jsx("span",{className:"font-medium",children:"Logout"})]})})]})]})}),x.jsx("div",{className:`lg:hidden fixed bottom-0 left-0 right-0 ${c?"bg-slate-800/90 border-slate-700":"bg-white/90 border-t"} backdrop-blur-md shadow-lg z-40`,children:x.jsxs("div",{className:"grid grid-cols-5 gap-1 px-2 py-2",children:[x.jsxs(ft,{to:nt("Home"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Home")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(JI,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),x.jsxs(ft,{to:nt("DailyChallenge"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("DailyChallenge")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(X0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Daily"}),!I&&x.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),x.jsxs(ft,{to:nt("AITutor"),className:`relative flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("AITutor")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Wm,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Tutor"})]}),x.jsxs(ft,{to:nt("Shop"),className:`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Shop")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:[x.jsx(Y0,{className:"w-5 h-5"}),x.jsx("span",{className:"text-xs font-medium",children:"Shop"})]}),x.jsx(ft,{to:nt("Avatar"),className:`flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-all ${r.pathname===nt("Avatar")?"bg-purple-500 text-white":c?"text-gray-300 hover:bg-slate-700":"text-gray-600"}`,children:T?x.jsx("div",{className:"scale-75 origin-center",children:x.jsx(fw,{avatarData:T,size:"small"})}):x.jsx(Z0,{className:"w-6 h-6"})})]})}),x.jsx(Ym,{children:x.jsx(an.Suspense,{fallback:null,children:x.jsx(wY,{})})}),x.jsx("main",{className:"flex-1 pb-20 lg:pb-0",children:x.jsx(Ym,{children:x.jsx(an.Suspense,{fallback:x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center p-6",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}),children:t})})}),x.jsx("footer",{className:`${c?"bg-slate-800/60 border-slate-700":"bg-white/60 border-gray-200"} backdrop-blur-sm mt-12 py-8 border-t`,children:x.jsx("div",{className:"max-w-7xl mx-auto px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"Keep practicing and have fun! "}),x.jsx("p",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mt-1`,children:" 2025 Math Adventure. All rights reserved."})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[x.jsx(ft,{to:nt("PrivacyPolicy"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Privacy Policy"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx(ft,{to:nt("Subscription"),className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Pricing"}),x.jsx("span",{className:c?"text-gray-600":"text-gray-300",children:""}),x.jsx("a",{href:"mailto:support@math-adventure.com",className:`text-sm ${c?"text-gray-300 hover:text-purple-400":"text-gray-600 hover:text-purple-600"} transition-colors`,children:"Contact"})]})]})})})]})}const xY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));xY.displayName="Card";const EY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",t),...e}));EY.displayName="CardHeader";const SY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("font-semibold leading-none tracking-tight",t),...e}));SY.displayName="CardTitle";const kY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",t),...e}));kY.displayName="CardDescription";const TY=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("p-6 pt-0",t),...e}));TY.displayName="CardContent";const _Y=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",t),...e}));_Y.displayName="CardFooter";const Pj=E.createContext({});function IY(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const eE=typeof window<"u",CY=eE?E.useLayoutEffect:E.useEffect,tE=E.createContext(null);function nE(t,e){t.indexOf(e)===-1&&t.push(e)}function rE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const zi=(t,e,n)=>n>e?e:n<t?t:n;let sE=()=>{};const Bi={},Nj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Rj(t){return typeof t=="object"&&t!==null}const Dj=t=>/^0[^.\s]+$/u.test(t);function iE(t){let e;return()=>(e===void 0&&(e=t()),e)}const $r=t=>t,PY=(t,e)=>n=>e(t(n)),Af=(...t)=>t.reduce(PY),nf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aE{constructor(){this.subscriptions=[]}add(e){return nE(this.subscriptions,e),()=>rE(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ks=t=>t*1e3,Vr=t=>t/1e3;function Mj(t,e){return e?t*(1e3/e):0}const Aj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NY=1e-7,RY=12;function DY(t,e,n,r,s){let i,o,u=0;do o=e+(n-e)/2,i=Aj(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>NY&&++u<RY);return o}function jf(t,e,n,r){if(t===e&&n===r)return $r;const s=i=>DY(i,0,1,t,n);return i=>i===0||i===1?i:Aj(s(i),e,r)}const jj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Oj=t=>e=>1-t(1-e),Lj=jf(.33,1.53,.69,.99),oE=Oj(Lj),Fj=jj(oE),Uj=t=>(t*=2)<1?.5*oE(t):.5*(2-Math.pow(2,-10*(t-1))),lE=t=>1-Math.sin(Math.acos(t)),Vj=Oj(lE),zj=jj(lE),MY=jf(.42,0,1,1),AY=jf(0,0,.58,1),Bj=jf(.42,0,.58,1),jY=t=>Array.isArray(t)&&typeof t[0]!="number",$j=t=>Array.isArray(t)&&typeof t[0]=="number",OY={linear:$r,easeIn:MY,easeInOut:Bj,easeOut:AY,circIn:lE,circInOut:zj,circOut:Vj,backIn:oE,backInOut:Fj,backOut:Lj,anticipate:Uj},LY=t=>typeof t=="string",UC=t=>{if($j(t)){sE(t.length===4);const[e,n,r,s]=t;return jf(e,n,r,s)}else if(LY(t))return OY[t];return t},km=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(d.schedule(p),t()),p(u)}const d={schedule:(p,g=!1,v=!1)=>{const S=v&&s?n:r;return g&&o.add(p),S.has(p)||S.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,d.process(p))}};return d}const UY=40;function qj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=km.reduce((N,D)=>(N[D]=FY(i),N),{}),{setup:u,read:c,resolveKeyframes:d,preUpdate:p,update:g,preRender:v,render:S,postRender:I}=o,T=()=>{const N=Bi.useManualTiming?s.timestamp:performance.now();n=!1,Bi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,UY),1)),s.timestamp=N,s.isProcessing=!0,u.process(s),c.process(s),d.process(s),p.process(s),g.process(s),v.process(s),S.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},_=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:km.reduce((N,D)=>{const j=o[D];return N[D]=(V,B=!1,H=!1)=>(n||_(),j.schedule(V,B,H)),N},{}),cancel:N=>{for(let D=0;D<km.length;D++)o[km[D]].cancel(N)},state:s,steps:o}}const{schedule:Et,cancel:so,state:wn,steps:pw}=qj(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0);let Jm;function VY(){Jm=void 0}const nr={now:()=>(Jm===void 0&&nr.set(wn.isProcessing||Bi.useManualTiming?wn.timestamp:performance.now()),Jm),set:t=>{Jm=t,queueMicrotask(VY)}},Wj=t=>e=>typeof e=="string"&&e.startsWith(t),uE=Wj("--"),zY=Wj("var(--"),cE=t=>zY(t)?BY.test(t.split("/*")[0].trim()):!1,BY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rf={...Bc,transform:t=>zi(0,1,t)},Tm={...Bc,default:1},_d=t=>Math.round(t*1e5)/1e5,hE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $Y(t){return t==null}const qY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dE=(t,e)=>n=>!!(typeof n=="string"&&qY.test(n)&&n.startsWith(t)||e&&!$Y(n)&&Object.prototype.hasOwnProperty.call(n,e)),Hj=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,u]=r.match(hE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},WY=t=>zi(0,255,t),mw={...Bc,transform:t=>Math.round(WY(t))},ul={test:dE("rgb","red"),parse:Hj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+mw.transform(t)+", "+mw.transform(e)+", "+mw.transform(n)+", "+_d(rf.transform(r))+")"};function HY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Lb={test:dE("#"),parse:HY,transform:ul.transform},Of=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),La=Of("deg"),Gs=Of("%"),Oe=Of("px"),KY=Of("vh"),GY=Of("vw"),VC={...Gs,parse:t=>Gs.parse(t)/100,transform:t=>Gs.transform(t*100)},ec={test:dE("hsl","hue"),parse:Hj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gs.transform(_d(e))+", "+Gs.transform(_d(n))+", "+_d(rf.transform(r))+")"},Zt={test:t=>ul.test(t)||Lb.test(t)||ec.test(t),parse:t=>ul.test(t)?ul.parse(t):ec.test(t)?ec.parse(t):Lb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ul.transform(t):ec.transform(t),getAnimatableNone:t=>{const e=Zt.parse(t);return e.alpha=0,Zt.transform(e)}},QY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hE))==null?void 0:e.length)||0)+(((n=t.match(QY))==null?void 0:n.length)||0)>0}const Kj="number",Gj="color",YY="var",JY="var(",zC="${}",ZY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(ZY,u=>(Zt.test(u)?(r.color.push(i),s.push(Gj),n.push(Zt.parse(u))):u.startsWith(JY)?(r.var.push(i),s.push(YY),n.push(u)):(r.number.push(i),s.push(Kj),n.push(parseFloat(u))),++i,zC)).split(zC);return{values:n,split:o,indexes:r,types:s}}function Qj(t){return sf(t).values}function Xj(t){const{split:e,types:n}=sf(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const u=n[o];u===Kj?i+=_d(s[o]):u===Gj?i+=Zt.transform(s[o]):i+=s[o]}return i}}const eJ=t=>typeof t=="number"?0:Zt.test(t)?Zt.getAnimatableNone(t):t;function tJ(t){const e=Qj(t);return Xj(t)(e.map(eJ))}const io={test:XY,parse:Qj,createTransformer:Xj,getAnimatableNone:tJ};function gw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;s=gw(c,u,t+1/3),i=gw(c,u,t),o=gw(c,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Hg(t,e){return n=>n>0?e:t}const It=(t,e,n)=>t+(e-t)*n,yw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},rJ=[Lb,ul,ec],sJ=t=>rJ.find(e=>e.test(t));function BC(t){const e=sJ(t);if(!e)return!1;let n=e.parse(t);return e===ec&&(n=nJ(n)),n}const $C=(t,e)=>{const n=BC(t),r=BC(e);if(!n||!r)return Hg(t,e);const s={...n};return i=>(s.red=yw(n.red,r.red,i),s.green=yw(n.green,r.green,i),s.blue=yw(n.blue,r.blue,i),s.alpha=It(n.alpha,r.alpha,i),ul.transform(s))},Fb=new Set(["none","hidden"]);function iJ(t,e){return Fb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function aJ(t,e){return n=>It(t,e,n)}function fE(t){return typeof t=="number"?aJ:typeof t=="string"?cE(t)?Hg:Zt.test(t)?$C:uJ:Array.isArray(t)?Yj:typeof t=="object"?Zt.test(t)?$C:oJ:Hg}function Yj(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>fE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function oJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=fE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function lJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],u=t.values[o]??0;n[s]=u,r[i]++}return n}const uJ=(t,e)=>{const n=io.createTransformer(e),r=sf(t),s=sf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Fb.has(t)&&!s.values.length||Fb.has(e)&&!r.values.length?iJ(t,e):Af(Yj(lJ(r,s),s.values),n):Hg(t,e)};function Jj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?It(t,e,n):fE(t)(t,e)}const cJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>so(e),now:()=>wn.isProcessing?wn.timestamp:nr.now()}},Zj=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Kg=2e4;function pE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Kg;)e+=n,r=t.next(e);return e>=Kg?1/0:e}function hJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(pE(r),Kg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Vr(s)}}const dJ=5;function eO(t,e,n){const r=Math.max(e-dJ,0);return Mj(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vw=.001;function fJ({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let s,i,o=1-e;o=zi(Mt.minDamping,Mt.maxDamping,o),t=zi(Mt.minDuration,Mt.maxDuration,Vr(t)),o<1?(s=d=>{const p=d*o,g=p*t,v=p-n,S=Ub(d,o),I=Math.exp(-g);return vw-v/S*I},i=d=>{const p=d*o*t,g=p*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-p),I=Ub(Math.pow(d,2),o);return(-s(d)+vw>0?-1:1)*((g-v)*S)/I}):(s=d=>{const p=Math.exp(-d*t),g=(d-n)*t+1;return-vw+p*g},i=d=>{const p=Math.exp(-d*t),g=(n-d)*(t*t);return p*g});const u=5/t,c=mJ(s,i,u);if(t=Ks(t),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const pJ=12;function mJ(t,e,n){let r=n;for(let s=1;s<pJ;s++)r=r-t(r)/e(r);return r}function Ub(t,e){return t*Math.sqrt(1-e*e)}const gJ=["duration","bounce"],yJ=["stiffness","damping","mass"];function qC(t,e){return e.some(n=>t[n]!==void 0)}function vJ(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!qC(t,yJ)&&qC(t,gJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*zi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mt.mass,stiffness:s,damping:i}}else{const n=fJ(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Gg(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:d,mass:p,duration:g,velocity:v,isResolvedFromDuration:S}=vJ({...n,velocity:-Vr(n.velocity||0)}),I=v||0,T=d/(2*Math.sqrt(c*p)),_=o-i,N=Vr(Math.sqrt(c/p)),D=Math.abs(_)<5;r||(r=D?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=D?Mt.restDelta.granular:Mt.restDelta.default);let j;if(T<1){const B=Ub(N,T);j=H=>{const M=Math.exp(-T*N*H);return o-M*((I+T*N*_)/B*Math.sin(B*H)+_*Math.cos(B*H))}}else if(T===1)j=B=>o-Math.exp(-N*B)*(_+(I+N*_)*B);else{const B=N*Math.sqrt(T*T-1);j=H=>{const M=Math.exp(-T*N*H),C=Math.min(B*H,300);return o-M*((I+T*N*_)*Math.sinh(C)+B*_*Math.cosh(C))/B}}const V={calculatedDuration:S&&g||null,next:B=>{const H=j(B);if(S)u.done=B>=g;else{let M=B===0?I:0;T<1&&(M=B===0?Ks(I):eO(j,B,H));const C=Math.abs(M)<=r,R=Math.abs(o-H)<=s;u.done=C&&R}return u.value=u.done?o:H,u},toString:()=>{const B=Math.min(pE(V),Kg),H=Zj(M=>V.next(B*M).value,B,30);return B+"ms "+H},toTransition:()=>{}};return V}Gg.applyToOptions=t=>{const e=hJ(t,100,Gg);return t.ease=e.ease,t.duration=Ks(e.duration),t.type="keyframes",t};function Vb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:c,restDelta:d=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},S=C=>u!==void 0&&C<u||c!==void 0&&C>c,I=C=>u===void 0?c:c===void 0||Math.abs(u-C)<Math.abs(c-C)?u:c;let T=n*e;const _=g+T,N=o===void 0?_:o(_);N!==_&&(T=N-g);const D=C=>-T*Math.exp(-C/r),j=C=>N+D(C),V=C=>{const R=D(C),O=j(C);v.done=Math.abs(R)<=d,v.value=v.done?N:O};let B,H;const M=C=>{S(v.value)&&(B=C,H=Gg({keyframes:[v.value,I(v.value)],velocity:eO(j,C,v.value),damping:s,stiffness:i,restDelta:d,restSpeed:p}))};return M(0),{calculatedDuration:null,next:C=>{let R=!1;return!H&&B===void 0&&(R=!0,V(C),M(C)),B!==void 0&&C>=B?H.next(C-B):(!R&&V(C),v)}}}function wJ(t,e,n){const r=[],s=n||Bi.mix||Jj,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||$r:e;u=Af(c,u)}r.push(u)}return r}function bJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(sE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=wJ(e,r,s),c=u.length,d=p=>{if(o&&p<t[0])return e[0];let g=0;if(c>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=nf(t[g],t[g+1],p);return u[g](v)};return n?p=>d(zi(t[0],t[i-1],p)):d}function xJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=nf(0,e,r);t.push(It(n,1,s))}}function EJ(t){const e=[0];return xJ(e,t.length-1),e}function SJ(t,e){return t.map(n=>n*e)}function kJ(t,e){return t.map(()=>e||Bj).splice(0,t.length-1)}function Id({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=jY(r)?r.map(UC):UC(r),i={done:!1,value:e[0]},o=SJ(n&&n.length===e.length?n:EJ(e),t),u=bJ(o,e,{ease:Array.isArray(s)?s:kJ(e,s)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const TJ=t=>t!==null;function mE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(TJ),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const _J={decay:Vb,inertia:Vb,tween:Id,keyframes:Id,spring:Gg};function tO(t){typeof t.type=="string"&&(t.type=_J[t.type])}class gE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const IJ=t=>t/100;class yE extends gE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==nr.now()&&this.tick(nr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tO(e);const{type:n=Id,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const c=n||Id;c!==Id&&typeof u[0]!="number"&&(this.mixKeyframes=Af(IJ,Jj(u[0],u[1])),u=[0,100]);const d=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=pE(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:S,type:I,onUpdate:T,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,V=r;if(g){const C=Math.min(this.currentTime,s)/u;let R=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&R--,R=Math.min(R,g+1),R%2&&(v==="reverse"?(O=1-O,S&&(O-=S/u)):v==="mirror"&&(V=o)),j=zi(0,1,O)*u}const B=D?{done:!1,value:p[0]}:V.next(j);i&&(B.value=i(B.value));let{done:H}=B;!D&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return M&&I!==Vb&&(B.value=mE(p,this.options,_,this.speed)),T&&T(B.value),M&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Vr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vr(e)}get time(){return Vr(this.currentTime)}set time(e){var n;e=Ks(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){var e,n;if(this.isStopped)return;const{driver:r=cJ,startTime:s}=this.options;this.driver||(this.driver=r(o=>this.tick(o))),(n=(e=this.options).onPlay)==null||n.call(e);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function CJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cl=t=>t*180/Math.PI,zb=t=>{const e=cl(Math.atan2(t[1],t[0]));return Bb(e)},PJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zb,rotateZ:zb,skewX:t=>cl(Math.atan(t[1])),skewY:t=>cl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bb=t=>(t=t%360,t<0&&(t+=360),t),WC=zb,HC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),KC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:HC,scaleY:KC,scale:t=>(HC(t)+KC(t))/2,rotateX:t=>Bb(cl(Math.atan2(t[6],t[5]))),rotateY:t=>Bb(cl(Math.atan2(-t[2],t[0]))),rotateZ:WC,rotate:WC,skewX:t=>cl(Math.atan(t[4])),skewY:t=>cl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $b(t){return t.includes("scale")?1:0}function qb(t,e){if(!t||t==="none")return $b(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=NJ,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PJ,s=u}if(!s)return $b(e);const i=r[e],o=s[1].split(",").map(DJ);return typeof i=="function"?i(o):o[i]}const RJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qb(n,e)};function DJ(t){return parseFloat(t.trim())}const $c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qc=new Set($c),GC=t=>t===Bc||t===Oe,MJ=new Set(["x","y","z"]),AJ=$c.filter(t=>!MJ.has(t));function jJ(t){const e=[];return AJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qb(e,"x"),y:(t,{transform:e})=>qb(e,"y")};gl.translateX=gl.x;gl.translateY=gl.y;const yl=new Set;let Wb=!1,Hb=!1,Kb=!1;function nO(){if(Hb){const t=Array.from(yl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=jJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hb=!1,Wb=!1,yl.forEach(t=>t.complete(Kb)),yl.clear()}function rO(){yl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hb=!0)})}function OJ(){Kb=!0,rO(),nO(),Kb=!1}class vE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(yl.add(this),Wb||(Wb=!0,Et.read(rO),Et.resolveKeyframes(nO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}CJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yl.delete(this)}cancel(){this.state==="scheduled"&&(yl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LJ=t=>t.startsWith("--");function FJ(t,e,n){LJ(e)?t.style.setProperty(e,n):t.style[e]=n}const UJ=iE(()=>window.ScrollTimeline!==void 0),VJ={};function zJ(t,e){const n=iE(t);return()=>VJ[e]??n()}const sO=zJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),md=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,QC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:md([0,.65,.55,1]),circOut:md([.55,0,1,.45]),backIn:md([.31,.01,.66,-.59]),backOut:md([.33,1.53,.69,.99])};function iO(t,e){if(t)return typeof t=="function"?sO()?Zj(t,e):"ease-out":$j(t)?md(t):Array.isArray(t)?t.map(n=>iO(n,e)||QC.easeOut):QC[t]}function BJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:c}={},d=void 0){const p={[e]:n};c&&(p.offset=c);const g=iO(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(p,v)}function aO(t){return typeof t=="function"&&"applyToOptions"in t}function $J({type:t,...e}){return aO(t)&&sO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qJ extends gE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,sE(typeof e.type!="string");const d=$J(e);this.animation=BJ(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=mE(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):FJ(n,r,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var e,n;const r=((n=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:n.call(e).duration)||0;return Vr(Number(r))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vr(e)}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ks(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UJ()?(this.animation.timeline=e,$r):n(this)}}const oO={anticipate:Uj,backInOut:Fj,circInOut:zj};function WJ(t){return t in oO}function HJ(t){typeof t.ease=="string"&&WJ(t.ease)&&(t.ease=oO[t.ease])}const XC=10;class KJ extends qJ{constructor(e){HJ(e),tO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new yE({...o,autoplay:!1}),c=Ks(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-XC).value,u.sample(c).value,XC),u.stop()}}const YC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function GJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=YC(s,e),u=YC(i,e);return!o||!u?!1:GJ(t)||(n==="spring"||aO(n))&&r}function Gb(t){t.duration=0,t.type="keyframes"}const XJ=new Set(["opacity","clipPath","filter","transform"]),YJ=iE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JJ(t){var e;const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:u}=t;if(!(((e=n==null?void 0:n.owner)==null?void 0:e.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return YJ()&&r&&XJ.has(r)&&(r!=="transform"||!d)&&!c&&!s&&i!=="mirror"&&o!==0&&u!=="inertia"}const ZJ=40;class eZ extends gE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:c,motionValue:d,element:p,...g}){var v;super(),this.stop=()=>{var T,_;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=nr.now();const S={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:p,...g},I=(p==null?void 0:p.KeyframeResolver)||vE;this.keyframeResolver=new I(u,(T,_,N)=>this.onKeyframesResolved(T,_,S,!N),c,d,p),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:c,isHandoff:d,onUpdate:p}=r;this.resolvedAt=nr.now(),QJ(e,i,o,u)||((Bi.instantAnimations||!c)&&(p==null||p(mE(e,r,n))),e[0]=e[e.length-1],Gb(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>ZJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!d&&JJ(g)?new KJ({...g,element:g.motionValue.owner.current}):new yE(g);v.finished.then(()=>this.notifyFinished()).catch($r),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),OJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const tZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nZ(t){const e=tZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function lO(t,e,n=1){const[r,s]=nZ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Nj(o)?parseFloat(o):o}return cE(s)?lO(s,e,n+1):s}function wE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uO=new Set(["width","height","top","left","right","bottom",...$c]),rZ={test:t=>t==="auto",parse:t=>t},cO=t=>e=>e.test(t),hO=[Bc,Oe,Gs,La,GY,KY,rZ],JC=t=>hO.find(cO(t));function sZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dj(t):!0}const iZ=new Set(["brightness","contrast","saturate","opacity"]);function aZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hE)||[];if(!r)return t;const s=n.replace(r,"");let i=iZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oZ=/\b([a-z-]*)\(.*?\)/gu,Qb={...io,getAnimatableNone:t=>{const e=t.match(oZ);return e?e.map(aZ).join(" "):t}},ZC={...Bc,transform:Math.round},lZ={rotate:La,rotateX:La,rotateY:La,rotateZ:La,scale:Tm,scaleX:Tm,scaleY:Tm,scaleZ:Tm,skew:La,skewX:La,skewY:La,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:rf,originX:VC,originY:VC,originZ:Oe},bE={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...lZ,zIndex:ZC,fillOpacity:rf,strokeOpacity:rf,numOctaves:ZC},uZ={...bE,color:Zt,backgroundColor:Zt,outlineColor:Zt,fill:Zt,stroke:Zt,borderColor:Zt,borderTopColor:Zt,borderRightColor:Zt,borderBottomColor:Zt,borderLeftColor:Zt,filter:Qb,WebkitFilter:Qb},dO=t=>uZ[t];function fO(t,e){let n=dO(t);return n!==Qb&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cZ=new Set(["auto","none","0"]);function hZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!cZ.has(i)&&sf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=fO(n,s)}class dZ extends vE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),cE(d))){const p=lO(d,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!uO.has(r)||e.length!==2)return;const[s,i]=e,o=JC(s),u=JC(i);if(o!==u)if(GC(o)&&GC(u))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else gl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||sZ(e[s]))&&r.push(s);r.length&&hZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,u=s[o];s[o]=gl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(e=this.removedTransforms)!=null&&e.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function fZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const pO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pZ(t){return Rj(t)&&"offsetHeight"in t}const e2=30,mZ=t=>!isNaN(parseFloat(t));class gZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=nr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>e2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e2);return Mj(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new gZ(t,e)}const{schedule:xE}=qj(queueMicrotask,!1),rs={x:!1,y:!1};function mO(){return rs.x||rs.y}function yZ(t){return t==="x"||t==="y"?rs[t]?null:(rs[t]=!0,()=>{rs[t]=!1}):rs.x||rs.y?null:(rs.x=rs.y=!0,()=>{rs.x=rs.y=!1})}function gO(t,e){const n=fZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function t2(t){return!(t.pointerType==="touch"||mO())}function vZ(t,e,n={}){const[r,s,i]=gO(t,n),o=u=>{if(!t2(u))return;const{target:c}=u,d=e(c,u);if(typeof d!="function"||!c)return;const p=g=>{t2(g)&&(d(g),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,s)};return r.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const yO=(t,e)=>e?t===e?!0:yO(t,e.parentElement):!1,EE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bZ(t){return wZ.has(t.tagName)||t.tabIndex!==-1}const Zm=new WeakSet;function n2(t){return e=>{e.key==="Enter"&&t(e)}}function ww(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=n2(()=>{if(Zm.has(n))return;ww(n,"down");const s=n2(()=>{ww(n,"up")}),i=()=>ww(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function r2(t){return EE(t)&&!mO()}function EZ(t,e,n={}){const[r,s,i]=gO(t,n),o=u=>{const c=u.currentTarget;if(!r2(u))return;Zm.add(c);const d=e(c,u),p=(S,I)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Zm.has(c)&&Zm.delete(c),r2(S)&&typeof d=="function"&&d(S,{success:I})},g=S=>{p(S,c===window||c===document||n.useGlobalTarget||yO(c,S.target))},v=S=>{p(S,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),pZ(u)&&(u.addEventListener("focus",c=>xZ(c,s)),!bZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function vO(t){return Rj(t)&&"ownerSVGElement"in t}function SZ(t){return vO(t)&&t.tagName==="svg"}const Dn=t=>!!(t&&t.getVelocity),kZ=[...hO,Zt,io],TZ=t=>kZ.find(cO(t)),wO=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _Z(t=!0){const e=E.useContext(tE);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=E.useId();E.useEffect(()=>{if(t)return s(i)},[t]);const o=E.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const bO=E.createContext({strict:!1}),s2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pc={};for(const t in s2)Pc[t]={isEnabled:e=>s2[t].some(n=>!!e[n])};function IZ(t){for(const e in t)Pc[e]={...Pc[e],...t[e]}}const CZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||CZ.has(t)}let xO=t=>!Qg(t);function PZ(t){typeof t=="function"&&(xO=e=>e.startsWith("on")?!Qg(e):t(e))}try{PZ(require("@emotion/is-prop-valid").default)}catch{}function NZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(xO(s)||n===!0&&Qg(s)||!e&&!Qg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Xy=E.createContext({});function Yy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function af(t){return typeof t=="string"||Array.isArray(t)}const SE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kE=["initial",...SE];function Jy(t){return Yy(t.animate)||kE.some(e=>af(t[e]))}function EO(t){return!!(Jy(t)||t.variants)}function RZ(t,e){if(Jy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||af(n)?n:void 0,animate:af(r)?r:void 0}}return t.inherit!==!1?e:{}}function DZ(t){const{initial:e,animate:n}=RZ(t,E.useContext(Xy));return E.useMemo(()=>({initial:e,animate:n}),[i2(e),i2(n)])}function i2(t){return Array.isArray(t)?t.join(" "):t}const of={};function MZ(t){for(const e in t)of[e]=t[e],uE(e)&&(of[e].isCSSVariable=!0)}function SO(t,{layout:e,layoutId:n}){return qc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!of[t]||t==="opacity")}const AZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jZ=$c.length;function OZ(t,e,n){let r="",s=!0;for(let i=0;i<jZ;i++){const o=$c[i],u=t[o];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(o.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const d=pO(u,bE[o]);if(!c){s=!1;const p=AZ[o]||o;r+=`${p}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function TE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const c in e){const d=e[c];if(qc.has(c)){o=!0;continue}else if(uE(c)){s[c]=d;continue}else{const p=pO(d,bE[c]);c.startsWith("origin")?(u=!0,i[c]=p):r[c]=p}}if(e.transform||(o||n?r.transform=OZ(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:d="50%",originZ:p=0}=i;r.transformOrigin=`${c} ${d} ${p}`}}const _E=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kO(t,e,n){for(const r in e)!Dn(e[r])&&!SO(r,n)&&(t[r]=e[r])}function LZ({transformTemplate:t},e){return E.useMemo(()=>{const n=_E();return TE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FZ(t,e){const n=t.style||{},r={};return kO(r,n,t),Object.assign(r,LZ(t,e)),r}function UZ(t,e){const n={},r=FZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const VZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},zZ={offset:"strokeDashoffset",array:"strokeDasharray"};function BZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?VZ:zZ;t[i.offset]=Oe.transform(-r);const o=Oe.transform(e),u=Oe.transform(n);t[i.array]=`${o} ${u}`}function TO(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},c,d,p){if(TE(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&BZ(g,s,i,o,!1)}const _O=()=>({..._E(),attrs:{}}),IO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $Z(t,e,n,r){const s=E.useMemo(()=>{const i=_O();return TO(i,e,IO(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};kO(i,t.style,t),s.style={...i,...s.style}}return s}const qZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IE(t){return typeof t!="string"||t.includes("-")?!1:!!(qZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function WZ(t,e,n,{latestValues:r},s,i=!1){const o=(IE(t)?$Z:UZ)(e,r,s,t),u=NZ(e,typeof t=="string",i),c=t!==E.Fragment?{...u,...o,ref:n}:{},{children:d}=e,p=E.useMemo(()=>Dn(d)?d.get():d,[d]);return E.createElement(t,{...c,children:p})}function a2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function CE(t,e,n,r){if(typeof e=="function"){const[s,i]=a2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=a2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function eg(t){return Dn(t)?t.get():t}function HZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:KZ(n,r,s,t),renderState:e()}}function KZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=eg(i[v]);let{initial:o,animate:u}=t;const c=Jy(t),d=EO(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const g=p?u:o;if(g&&typeof g!="boolean"&&!Yy(g)){const v=Array.isArray(g)?g:[g];for(let S=0;S<v.length;S++){const I=CE(t,v[S]);if(I){const{transitionEnd:T,transition:_,...N}=I;for(const D in N){let j=N[D];if(Array.isArray(j)){const V=p?j.length-1:0;j=j[V]}j!==null&&(s[D]=j)}for(const D in T)s[D]=T[D]}}}return s}const CO=t=>(e,n)=>{const r=E.useContext(Xy),s=E.useContext(tE),i=()=>HZ(t,e,r,s);return n?i():IY(i)};function PE(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Dn(s[o])||e.style&&Dn(e.style[o])||SO(o,t)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const GZ=CO({scrapeMotionValuesFromProps:PE,createRenderState:_E});function PO(t,e,n){const r=PE(t,e,n);for(const s in t)if(Dn(t[s])||Dn(e[s])){const i=$c.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const QZ=CO({scrapeMotionValuesFromProps:PO,createRenderState:_O}),XZ=Symbol.for("motionComponentSymbol");function tc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YZ(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tc(n)&&(n.current=r))},[e])}const NE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JZ="framerAppearId",NO="data-"+NE(JZ),RO=E.createContext({});function ZZ(t,e,n,r,s){var i,o;const{visualElement:u}=E.useContext(Xy),c=E.useContext(bO),d=E.useContext(tE),p=E.useContext(wO).reducedMotion,g=E.useRef(null);r=r||c.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,S=E.useContext(RO);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&eee(g.current,n,s,S);const I=E.useRef(!1);E.useInsertionEffect(()=>{v&&I.current&&v.update(n,d)});const T=n[NO],_=E.useRef(!!T&&!((i=window.MotionHandoffIsComplete)!=null&&i.call(window,T))&&((o=window.MotionHasOptimisedAnimation)==null?void 0:o.call(window,T)));return CY(()=>{v&&(I.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),_.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!_.current&&v.animationState&&v.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,T)}),_.current=!1),v.enteringChildren=void 0)}),v}function eee(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:c,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&tc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:d})}function DO(t){if(t)return t.options.allowProjection!==!1?t.projection:DO(t.parent)}function bw(t,{forwardMotionProps:e=!1}={},n,r){n&&IZ(n);const s=IE(t)?QZ:GZ;function i(u,c){let d;const p={...E.useContext(wO),...u,layoutId:tee(u)},{isStatic:g}=p,v=DZ(u),S=s(u,g);if(!g&&eE){nee();const I=ree(p);d=I.MeasureLayout,v.visualElement=ZZ(t,S,p,r,I.ProjectionNode)}return x.jsxs(Xy.Provider,{value:v,children:[d&&v.visualElement?x.jsx(d,{visualElement:v.visualElement,...p}):null,WZ(t,u,YZ(S,v.visualElement,c),S,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=E.forwardRef(i);return o[XZ]=t,o}function tee({layoutId:t}){const e=E.useContext(Pj).id;return e&&t!==void 0?e+"-"+t:t}function nee(t,e){E.useContext(bO).strict}function ree(t){const{drag:e,layout:n}=Pc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function see(t,e){if(typeof Proxy>"u")return bw;const n=new Map,r=(i,o)=>bw(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,bw(o,void 0,t,e)),n.get(o))})}function MO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function iee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xw(t){return t===void 0||t===1}function Xb({scale:t,scaleX:e,scaleY:n}){return!xw(t)||!xw(e)||!xw(n)}function el(t){return Xb(t)||AO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AO(t){return o2(t.x)||o2(t.y)}function o2(t){return t&&t!=="0%"}function Xg(t,e,n){const r=t-n,s=e*r;return n+s}function l2(t,e,n,r,s){return s!==void 0&&(t=Xg(t,s,r)),Xg(t,n,r)+e}function Yb(t,e=0,n=1,r,s){t.min=l2(t.min,e,n,r,s),t.max=l2(t.max,e,n,r,s)}function jO(t,{x:e,y:n}){Yb(t.x,e.translate,e.scale,e.originPoint),Yb(t.y,n.translate,n.scale,n.originPoint)}const u2=.999999999999,c2=1.0000000000001;function oee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=n[u],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jO(t,o)),r&&el(i.latestValues)&&rc(t,i.latestValues))}e.x<c2&&e.x>u2&&(e.x=1),e.y<c2&&e.y>u2&&(e.y=1)}function nc(t,e){t.min=t.min+e,t.max=t.max+e}function h2(t,e,n,r,s=.5){const i=It(t.min,t.max,s);Yb(t,e,n,i,r)}function rc(t,e){h2(t.x,e.x,e.scaleX,e.scale,e.originX),h2(t.y,e.y,e.scaleY,e.scale,e.originY)}function OO(t,e){return MO(aee(t.getBoundingClientRect(),e))}function lee(t,e,n){const r=OO(t,n),{scroll:s}=e;return s&&(nc(r.x,s.offset.x),nc(r.y,s.offset.y)),r}const d2=()=>({translate:0,scale:1,origin:0,originPoint:0}),sc=()=>({x:d2(),y:d2()}),f2=()=>({min:0,max:0}),Qt=()=>({x:f2(),y:f2()}),Jb={current:null},LO={current:!1};function uee(){if(LO.current=!0,!!eE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jb.current=t.matches;t.addEventListener("change",e),e()}else Jb.current=!1}const cee=new WeakMap;function hee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Dn(s))t.addValue(r,s);else if(Dn(i))t.addValue(r,Cc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Cc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const p2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=nr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Et.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=Jy(n),this.isVariantNode=EO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const S=g[v];c[v]!==void 0&&Dn(S)&&S.set(c[v])}}mount(e){var n;this.current=e,cee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),LO.current||uee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=qc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pc){const n=Pc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<p2.length;r++){const s=p2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=hee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Nj(r)||Dj(r))?r=parseFloat(r):!TZ(r)&&io.test(n)&&(r=fO(e,n)),this.setBaseTarget(e,Dn(r)?r.get():r)),Dn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=CE(this.props,r,(n=this.presenceContext)==null?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Dn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xE.render(this.render)}}class FO extends dee{constructor(){super(...arguments),this.KeyframeResolver=dZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UO(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function fee(t){return window.getComputedStyle(t)}class pee extends FO{constructor(){super(...arguments),this.type="html",this.renderInstance=UO}readValueFromInstance(e,n){var r;if(qc.has(n))return(r=this.projection)!=null&&r.isProjecting?$b(n):RJ(e,n);{const s=fee(e),i=(uE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OO(e,n)}build(e,n,r){TE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return PE(e,n,r)}}const VO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mee(t,e,n,r){UO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(VO.has(s)?s:NE(s),e.attrs[s])}class gee extends FO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qc.has(n)){const r=dO(n);return r&&r.default||0}return n=VO.has(n)?n:NE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PO(e,n,r)}build(e,n,r){TO(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){mee(e,n,r,s)}mount(e){this.isSVGTag=IO(e.tagName),super.mount(e)}}const yee=(t,e)=>IE(t)?new gee(e):new pee(e,{allowProjection:t!==E.Fragment});function dc(t,e,n){const r=t.getProps();return CE(r,e,n!==void 0?n:r.custom,t)}const Zb=t=>Array.isArray(t);function vee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function wee(t){return Zb(t)?t[t.length-1]||0:t}function bee(t,e){const n=dc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const u=wee(i[o]);vee(t,o,u)}}function xee(t){return!!(Dn(t)&&t.add)}function ex(t,e){const n=t.getValue("willChange");if(xee(n))return n.add(e);if(!n&&Bi.WillChange){const r=new Bi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function zO(t){return t.props[NO]}const Eee=t=>t!==null;function See(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Eee),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const kee={type:"spring",stiffness:500,damping:25,restSpeed:10},Tee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_ee={type:"keyframes",duration:.8},Iee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cee=(t,{keyframes:e})=>e.length>2?_ee:qc.has(t)?t.startsWith("scale")?Tee(e[1]):kee:Iee;function Pee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:c,elapsed:d,...p}){return!!Object.keys(p).length}const RE=(t,e,n,r={},s,i)=>o=>{const u=wE(r,t)||{},c=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ks(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};Pee(u)||Object.assign(p,Cee(t,p)),p.duration&&(p.duration=Ks(p.duration)),p.repeatDelay&&(p.repeatDelay=Ks(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Gb(p),p.delay===0&&(g=!0)),(Bi.instantAnimations||Bi.skipAnimations)&&(g=!0,Gb(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const v=See(p.keyframes,u);if(v!==void 0){Et.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new yE(p):new eZ(p)};function Nee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||d&&Nee(d,p))continue;const S={delay:n,...wE(i||{},p)},I=g.get();if(I!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===I&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const N=zO(t);if(N){const D=window.MotionHandoffAnimation(N,p,Et);D!==null&&(S.startTime=D,T=!0)}}ex(t,p),g.start(RE(p,g,v,t.shouldReduceMotion&&uO.has(p)?{type:!1}:S,t,T));const _=g.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{Et.update(()=>{o&&bee(t,o)})}),c}function $O(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:u-i*r}function tx(t,e,n={}){var r;const s=dc(t,e,n.type==="exit"?(r=t.presenceContext)==null?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(BO(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return Ree(t,e,d,p,g,v,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,p]=c==="beforeChildren"?[o,u]:[u,o];return d().then(()=>p())}else return Promise.all([o(),u(n.delay)])}function Ree(t,e,n=0,r=0,s=0,i=1,o){const u=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),u.push(tx(c,e,{...o,delay:n+(typeof r=="function"?0:r)+$O(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(u)}function Dee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>tx(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=tx(t,e,n);else{const s=typeof e=="function"?dc(t,e,n.custom):e;r=Promise.all(BO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function qO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Mee=kE.length;function WO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Mee;n++){const r=kE[n],s=t.props[r];(af(s)||s===!1)&&(e[r]=s)}return e}const Aee=[...SE].reverse(),jee=SE.length;function Oee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Dee(t,n,r)))}function Lee(t){let e=Oee(t),n=m2(),r=!0;const s=c=>(d,p)=>{var g;const v=dc(t,p,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(v){const{transition:S,transitionEnd:I,...T}=v;d={...d,...T,...I}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,p=WO(t.parent)||{},g=[],v=new Set;let S={},I=1/0;for(let _=0;_<jee;_++){const N=Aee[_],D=n[N],j=d[N]!==void 0?d[N]:p[N],V=af(j),B=N===c?D.isActive:null;B===!1&&(I=_);let H=j===p[N]&&j!==d[N]&&V;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),D.protectedKeys={...S},!D.isActive&&B===null||!j&&!D.prevProp||Yy(j)||typeof j=="boolean")continue;const M=Fee(D.prevProp,j);let C=M||N===c&&D.isActive&&!H&&V||_>I&&V,R=!1;const O=Array.isArray(j)?j:[j];let U=O.reduce(s(N),{});B===!1&&(U={});const{prevResolvedValues:$={}}=D,L={...$,...U},ke=ye=>{C=!0,v.has(ye)&&(R=!0,v.delete(ye)),D.needsAnimating[ye]=!0;const ve=t.getValue(ye);ve&&(ve.liveStyle=!1)};for(const ye in L){const ve=U[ye],G=$[ye];if(S.hasOwnProperty(ye))continue;let ne=!1;Zb(ve)&&Zb(G)?ne=!qO(ve,G):ne=ve!==G,ne?ve!=null?ke(ye):v.add(ye):ve!==void 0&&v.has(ye)?ke(ye):D.protectedKeys[ye]=!0}D.prevProp=j,D.prevResolvedValues=U,D.isActive&&(S={...S,...U}),r&&t.blockInitialAnimation&&(C=!1);const De=H&&M;C&&(!De||R)&&g.push(...O.map(ye=>{const ve={type:N};if(typeof ye=="string"&&r&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,ne=dc(G,ye);if(G.enteringChildren&&ne){const{delayChildren:ae}=ne.transition||{};ve.delay=$O(G.enteringChildren,t,ae)}}return{animation:ye,options:ve}}))}if(v.size){const _={};if(typeof d.initial!="boolean"){const N=dc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(_.transition=N.transition)}v.forEach(N=>{const D=t.getBaseTarget(N),j=t.getValue(N);j&&(j.liveStyle=!0),_[N]=D??null}),g.push({animation:_})}let T=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function u(c,d){var p;if(n[c].isActive===d)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(v=>{var S;return(S=v.animationState)==null?void 0:S.setActive(c,d)}),n[c].isActive=d;const g=o(c);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=m2()}}}function Fee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qO(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m2(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class co{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Uee extends co{constructor(e){super(e),e.animationState||(e.animationState=Lee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Vee=0;class zee extends co{constructor(){super(...arguments),this.id=Vee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Bee={animation:{Feature:Uee},exit:{Feature:zee}};function lf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Lf(t){return{point:{x:t.pageX,y:t.pageY}}}const $ee=t=>e=>EE(e)&&t(e,Lf(e));function Cd(t,e,n,r){return lf(t,e,$ee(n),r)}const HO=1e-4,qee=1-HO,Wee=1+HO,KO=.01,Hee=0-KO,Kee=0+KO;function Un(t){return t.max-t.min}function Gee(t,e,n){return Math.abs(t-e)<=n}function g2(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qee&&t.scale<=Wee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Hee&&t.translate<=Kee||isNaN(t.translate))&&(t.translate=0)}function Pd(t,e,n,r){g2(t.x,e.x,n.x,r?r.originX:void 0),g2(t.y,e.y,n.y,r?r.originY:void 0)}function y2(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function Qee(t,e,n){y2(t.x,e.x,n.x),y2(t.y,e.y,n.y)}function v2(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Nd(t,e,n){v2(t.x,e.x,n.x),v2(t.y,e.y,n.y)}function Ar(t){return[t("x"),t("y")]}const GO=({current:t})=>t?t.ownerDocument.defaultView:null,w2=(t,e)=>Math.abs(t-e);function Xee(t,e){const n=w2(t.x,e.x),r=w2(t.y,e.y);return Math.sqrt(n**2+r**2)}class QO{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Sw(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,I=Xee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!I)return;const{point:T}=v,{timestamp:_}=wn;this.history.push({...T,timestamp:_});const{onStart:N,onMove:D}=this.handlers;S||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,S)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ew(S,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(v,S)=>{this.end();const{onEnd:I,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Sw(v.type==="pointercancel"?this.lastMoveEventInfo:Ew(S,this.transformPagePoint),this.history);this.startEvent&&I&&I(v,N),T&&T(v,N)},!EE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const u=Lf(e),c=Ew(u,this.transformPagePoint),{point:d}=c,{timestamp:p}=wn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Sw(c,this.history)),this.removeListeners=Af(Cd(this.contextWindow,"pointermove",this.handlePointerMove),Cd(this.contextWindow,"pointerup",this.handlePointerUp),Cd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function Ew(t,e){return e?{point:e(t.point)}:t}function b2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sw({point:t},e){return{point:t,delta:b2(t,XO(e)),offset:b2(t,Yee(e)),velocity:Jee(e,.1)}}function Yee(t){return t[0]}function XO(t){return t[t.length-1]}function Jee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=XO(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ks(e)));)n--;if(!r)return{x:0,y:0};const i=Vr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function x2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ete(t,{top:e,left:n,bottom:r,right:s}){return{x:x2(t.x,n,s),y:x2(t.y,e,r)}}function E2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tte(t,e){return{x:E2(t.x,e.x),y:E2(t.y,e.y)}}function nte(t,e){let n=.5;const r=Un(t),s=Un(e);return s>r?n=nf(e.min,e.max-r,t.min):r>s&&(n=nf(t.min,t.max-s,e.min)),zi(0,1,n)}function rte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const nx=.35;function ste(t=nx){return t===!1?t=0:t===!0&&(t=nx),{x:S2(t,"left","right"),y:S2(t,"top","bottom")}}function S2(t,e,n){return{min:k2(t,e),max:k2(t,n)}}function k2(t,e){return typeof t=="number"?t:t[e]||0}const ite=new WeakMap;class ate{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lf(g).point)},o=(g,v)=>{const{drag:S,dragPropagation:I,onDragStart:T}=this.getProps();if(S&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yZ(S),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ar(N=>{let D=this.getAxisMotionValue(N).get()||0;if(Gs.test(D)){const{projection:j}=this.visualElement;if(j&&j.layout){const V=j.layout.layoutBox[N];V&&(D=Un(V)*(parseFloat(D)/100))}}this.originPoint[N]=D}),T&&Et.postRender(()=>T(g,v)),ex(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:S,dragDirectionLock:I,onDirectionLock:T,onDrag:_}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:N}=v;if(I&&this.currentDirection===null){this.currentDirection=ote(N),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),_&&_(g,v)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ar(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new QO(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:GO(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Et.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_m(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Zee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)==null?void 0:e.layout,i=this.constraints;n&&tc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=ete(s.layoutBox,n):this.constraints=!1,this.elastic=ste(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ar(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rte(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=lee(r,s.root,this.visualElement.getTransformPagePoint());let o=tte(s.layout.layoutBox,i);if(n){const u=n(iee(o));this.hasMutatedConstraints=!!u,u&&(o=MO(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},d=Ar(p=>{if(!_m(p,n,this.currentDirection))return;let g=c&&c[p]||{};o&&(g={min:0,max:0});const v=s?200:1e6,S=s?40:1e7,I={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,I)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ex(this.visualElement,e),r.start(RE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ar(n=>{const{drag:r}=this.getProps();if(!_m(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[n];i.set(e[n]-It(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ar(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const c=u.get();s[o]=nte({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ar(o=>{if(!_m(o,e,null))return;const u=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];u.set(It(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;ite.set(this.visualElement,this);const e=this.visualElement.current,n=Cd(e,"pointerdown",c=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();tc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Et.read(r);const o=lf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ar(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=c[p].translate,g.set(g.get()+c[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=nx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function _m(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ote(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lte extends co{constructor(e){super(e),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new ate(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const T2=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class ute extends co{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(e){this.session=new QO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:T2(e),onStart:T2(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Et.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Cd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ad={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=_2(t,e.target.x),r=_2(t,e.target.y);return`${n}% ${r}%`}},cte={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=io.parse(t);if(s.length>5)return r;const i=io.createTransformer(t),o=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=u,s[1+o]/=c;const d=It(u,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let kw=!1;class hte extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;MZ(dte),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),kw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),tg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,kw=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Et.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;kw=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YO(t){const[e,n]=_Z(),r=E.useContext(Pj);return x.jsx(hte,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(RO),isPresent:e,safeToRemove:n})}const dte={borderRadius:{...ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ad,borderTopRightRadius:ad,borderBottomLeftRadius:ad,borderBottomRightRadius:ad,boxShadow:cte};function fte(t,e,n){const r=Dn(t)?t:Cc(t);return r.start(RE("",r,e,n)),r.animation}const pte=(t,e)=>t.depth-e.depth;class mte{constructor(){this.children=[],this.isDirty=!1}add(e){nE(this.children,e),this.isDirty=!0}remove(e){rE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pte),this.isDirty=!1,this.children.forEach(e)}}function gte(t,e){const n=nr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(so(r),t(i-e))};return Et.setup(r,!0),()=>so(r)}const JO=["TopLeft","TopRight","BottomLeft","BottomRight"],yte=JO.length,I2=t=>typeof t=="string"?parseFloat(t):t,C2=t=>typeof t=="number"||Oe.test(t);function vte(t,e,n,r,s,i){s?(t.opacity=It(0,n.opacity??1,wte(r)),t.opacityExit=It(e.opacity??1,0,bte(r))):i&&(t.opacity=It(e.opacity??1,n.opacity??1,r));for(let o=0;o<yte;o++){const u=`border${JO[o]}Radius`;let c=P2(e,u),d=P2(n,u);c===void 0&&d===void 0||(c||(c=0),d||(d=0),c===0||d===0||C2(c)===C2(d)?(t[u]=Math.max(It(I2(c),I2(d),r),0),(Gs.test(d)||Gs.test(c))&&(t[u]+="%")):t[u]=d)}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function P2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wte=ZO(0,.5,Vj),bte=ZO(.5,.95,$r);function ZO(t,e,n){return r=>r<t?0:r>e?1:n(nf(t,e,r))}function N2(t,e){t.min=e.min,t.max=e.max}function Dr(t,e){N2(t.x,e.x),N2(t.y,e.y)}function R2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function D2(t,e,n,r,s){return t-=e,t=Xg(t,1/n,r),s!==void 0&&(t=Xg(t,1/s,r)),t}function xte(t,e=0,n=1,r=.5,s,i=t,o=t){if(Gs.test(e)&&(e=parseFloat(e),e=It(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=It(i.min,i.max,r);t===i&&(u-=e),t.min=D2(t.min,e,n,u,s),t.max=D2(t.max,e,n,u,s)}function M2(t,e,[n,r,s],i,o){xte(t,e[n],e[r],e[s],e.scale,i,o)}const Ete=["x","scaleX","originX"],Ste=["y","scaleY","originY"];function A2(t,e,n,r){M2(t.x,e,Ete,n?n.x:void 0,r?r.x:void 0),M2(t.y,e,Ste,n?n.y:void 0,r?r.y:void 0)}function j2(t){return t.translate===0&&t.scale===1}function e4(t){return j2(t.x)&&j2(t.y)}function O2(t,e){return t.min===e.min&&t.max===e.max}function kte(t,e){return O2(t.x,e.x)&&O2(t.y,e.y)}function L2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function t4(t,e){return L2(t.x,e.x)&&L2(t.y,e.y)}function F2(t){return Un(t.x)/Un(t.y)}function U2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tte{constructor(){this.members=[]}add(e){nE(this.members,e),e.scheduleRender()}remove(e){if(rE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _te(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:g,rotateY:v,skewX:S,skewY:I}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),S&&(r+=`skewX(${S}deg) `),I&&(r+=`skewY(${I}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const Tw=["","X","Y","Z"],Ite=1e3;let Cte=0;function _w(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function n4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&n4(r)}function r4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=e==null?void 0:e()){this.id=Cte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rte),this.nodes.forEach(jte),this.nodes.forEach(Ote),this.nodes.forEach(Dte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mte)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new aE),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const u=this.eventHandlers.get(i);u&&u.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=vO(i)&&!SZ(i),this.instance=i;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;Et.read(()=>{p=window.innerWidth}),t(i,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,d&&d(),d=gte(g,250),tg.hasAnimatedSinceResize&&(tg.hasAnimatedSinceResize=!1,this.nodes.forEach(B2)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||c.getDefaultTransition()||zte,{onLayoutAnimationStart:I,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!t4(this.targetLayout,v),N=!p&&g;if(this.options.layoutRoot||this.resumeFrom||N||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...wE(S,"layout"),onPlay:I,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(d,N)}else p||B2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lte),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&n4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(z2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ate),this.nodes.forEach(Pte),this.nodes.forEach(Nte)):this.nodes.forEach(z2),this.clearAllSnapshots();const i=nr.now();wn.delta=zi(0,1e3/60,i-wn.timestamp),wn.timestamp=i,wn.isProcessing=!0,pw.update.process(wn),pw.preRender.process(wn),pw.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Mte),this.sharedNodes.forEach(Fte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!e4(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||el(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return i&&(u=this.removeTransform(u)),Bte(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return Qt();const u=o.measureViewportBox();if(!((i=this.scroll)!=null&&i.wasRoot||this.path.some($te))){const{scroll:c}=this.root;c&&(nc(u.x,c.offset.x),nc(u.y,c.offset.y))}return u}removeElementScroll(i){var o;const u=Qt();if(Dr(u,i),(o=this.scroll)!=null&&o.wasRoot)return u;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Dr(u,i),nc(u.x,p.offset.x),nc(u.y,p.offset.y))}return u}applyTransform(i,o=!1){const u=Qt();Dr(u,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&rc(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),el(d.latestValues)&&rc(u,d.latestValues)}return el(this.latestValues)&&rc(u,this.latestValues),u}removeTransform(i){const o=Qt();Dr(o,i);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!el(c.latestValues))continue;Xb(c.latestValues)&&c.updateSnapshot();const d=Qt(),p=c.measurePageBox();Dr(d,p),A2(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return el(this.latestValues)&&A2(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(o=this.parent)!=null&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Nd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dr(this.target,this.layout.layoutBox),jO(this.target,this.targetDelta)):Dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Nd(this.relativeTargetOrigin,this.target,g.target),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xb(this.parent.latestValues)||AO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(i=this.parent)!=null&&i.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Dr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;oee(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qt());const{target:S}=o;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R2(this.prevProjectionDelta.x,this.projectionDelta.x),R2(this.prevProjectionDelta.y,this.projectionDelta.y)),Pd(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!U2(this.projectionDelta.x,this.prevProjectionDelta.x)||!U2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sc(),this.projectionDelta=sc(),this.projectionDeltaWithTransform=sc()}setAnimationOrigin(i,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},p=sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Qt(),v=u?u.source:void 0,S=this.layout?this.layout.source:void 0,I=v!==S,T=this.getStack(),_=!T||T.members.length<=1,N=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(Vte));this.animationProgress=0;let D;this.mixTargetDelta=j=>{const V=j/1e3;$2(p.x,i.x,V),$2(p.y,i.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ute(this.relativeTarget,this.relativeTargetOrigin,g,V),D&&kte(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Qt()),Dr(D,this.relativeTarget)),I&&(this.animationValues=d,vte(d,c,this.latestValues,V,N,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{tg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cc(0)),this.currentAnimation=fte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ite),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=i;if(!(!o||!u||!c)){if(this!==i&&this.layout&&c&&s4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Qt();const p=Un(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+p;const g=Un(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+g}Dr(o,u),rc(o,d),Pd(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Tte),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())==null?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())==null?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&_w("z",i,c,this.animationValues);for(let d=0;d<Tw.length;d++)_w(`rotate${Tw[d]}`,i,c,this.animationValues),_w(`skew${Tw[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=eg(o==null?void 0:o.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=eg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!el(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=_te(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),i.transform=p;const{x:g,y:v}=this.projectionDelta;i.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?i.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const S in of){if(d[S]===void 0)continue;const{correct:I,applyTo:T,isCSSVariable:_}=of[S],N=p==="none"?d[S]:I(d[S],c);if(T){const D=T.length;for(let j=0;j<D;j++)i[T[j]]=N}else _?this.options.visualElement.renderState.vars[S]=N:i[S]=N}this.options.layoutId&&(i.pointerEvents=c===this?eg(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(V2),this.root.sharedNodes.clear()}}}function Pte(t){t.updateLayout()}function Nte(t){var e;const n=((e=t.resumeFrom)==null?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Ar(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=Un(v);v.min=r[g].min,v.max=v.min+S}):s4(i,n.layoutBox,r)&&Ar(g=>{const v=o?n.measuredBox[g]:n.layoutBox[g],S=Un(r[g]);v.max=v.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+S)});const u=sc();Pd(u,r,n.layoutBox);const c=sc();o?Pd(c,t.applyTransform(s,!0),n.measuredBox):Pd(c,r,n.layoutBox);const d=!e4(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:S}=g;if(v&&S){const I=Qt();Nd(I,n.layoutBox,v.layoutBox);const T=Qt();Nd(T,r,S.layoutBox),t4(I,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=I,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Rte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Dte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Mte(t){t.clearSnapshot()}function V2(t){t.clearMeasurements()}function z2(t){t.isLayoutDirty=!1}function Ate(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jte(t){t.resolveTargetDelta()}function Ote(t){t.calcProjection()}function Lte(t){t.resetSkewAndRotation()}function Fte(t){t.removeLeadSnapshot()}function $2(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function q2(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function Ute(t,e,n,r){q2(t.x,e.x,n.x,r),q2(t.y,e.y,n.y,r)}function Vte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zte={duration:.45,ease:[.4,0,.1,1]},W2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),H2=W2("applewebkit/")&&!W2("chrome/")?Math.round:$r;function K2(t){t.min=H2(t.min),t.max=H2(t.max)}function Bte(t){K2(t.x),K2(t.y)}function s4(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gee(F2(e),F2(n),.2)}function $te(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qte=r4({attachResizeListener:(t,e)=>lf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iw={current:void 0},i4=r4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Iw.current){const t=new qte({});t.mount(window),t.setOptions({layoutScroll:!0}),Iw.current=t}return Iw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wte={pan:{Feature:ute},drag:{Feature:lte,ProjectionNode:i4,MeasureLayout:YO}};function G2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Et.postRender(()=>i(e,Lf(e)))}class Hte extends co{mount(){const{current:e}=this.node;e&&(this.unmount=vZ(e,(n,r)=>(G2(this.node,r,"Start"),s=>G2(this.node,s,"End"))))}unmount(){}}class Kte extends co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Af(lf(this.node.current,"focus",()=>this.onFocus()),lf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Et.postRender(()=>i(e,Lf(e)))}class Gte extends co{mount(){const{current:e}=this.node;e&&(this.unmount=EZ(e,(n,r)=>(Q2(this.node,r,"Start"),(s,{success:i})=>Q2(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rx=new WeakMap,Cw=new WeakMap,Qte=t=>{const e=rx.get(t.target);e&&e(t)},Xte=t=>{t.forEach(Qte)};function Yte({root:t,...e}){const n=t||document;Cw.has(n)||Cw.set(n,{});const r=Cw.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Xte,{root:t,...e})),r[s]}function Jte(t,e,n){const r=Yte(e);return rx.set(t,n),r.observe(t),()=>{rx.delete(t),r.unobserve(t)}}const Zte={some:0,all:1};class ene extends co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Zte[s]},u=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=d?p:g;v&&v(c)};return Jte(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tne(e,n))&&this.startObserver()}unmount(){}}function tne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nne={inView:{Feature:ene},tap:{Feature:Gte},focus:{Feature:Kte},hover:{Feature:Hte}},rne={layout:{ProjectionNode:i4,MeasureLayout:YO}},sne={...Bee,...nne,...Wte,...rne},Gt=see(sne,yee);function sx(){const t=T1(),{user:e,loading:n}=F1(),[r,s]=an.useState(!1);E.useEffect(()=>{!n&&e&&t(nt("Home"))},[e,n,t]);const i=()=>{e?t(nt("Home")):s(!0)};if(n)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-white",children:"Loading..."})]})});const o=[{icon:hq,title:"12 Math Concepts",description:"Addition, subtraction, multiplication, division, fractions, decimals, percentages, geometry & more!",gradient:"from-blue-400 to-cyan-500",emoji:""},{icon:Wm,title:"AI Math Tutor",description:"Stuck on a problem? Get instant help with step-by-step explanations!",gradient:"from-purple-400 to-pink-500",emoji:""},{icon:xb,title:"Daily Challenges",description:"New challenges every day! Compete for bonus stars and climb the leaderboard!",gradient:"from-yellow-400 to-orange-500",emoji:""},{icon:J0,title:"Earn Rewards",description:"Collect stars and coins to unlock cool avatar items, pets, badges, and power-ups!",gradient:"from-green-400 to-emerald-500",emoji:""},{icon:Eb,title:"Team Challenges",description:"Team up with friends and family to complete challenges together!",gradient:"from-indigo-400 to-purple-500",emoji:""},{icon:Tq,title:"Safe & Secure",description:"Advanced parental controls, time limits, and content filtering for peace of mind",gradient:"from-red-400 to-pink-500",emoji:""}],u=[{emoji:"",name:"Addition",grade:"K-4"},{emoji:"",name:"Subtraction",grade:"K-4"},{emoji:"",name:"Multiplication",grade:"2-5"},{emoji:"",name:"Division",grade:"3-6"},{emoji:"",name:"Fractions",grade:"3-6"},{emoji:"0.5",name:"Decimals",grade:"4-7"},{emoji:"%",name:"Percentages",grade:"5-8"},{emoji:"",name:"Word Problems",grade:"2-6"},{emoji:"",name:"Money Math",grade:"1-5"},{emoji:"",name:"Time",grade:"1-4"},{emoji:"",name:"Geometry",grade:"3-7"},{emoji:"",name:"Mixed",grade:"3-8"}],c=[{text:"My kids actually BEG to practice math now! They love earning stars and unlocking new pets. Best $1 we've ever spent!",author:"Sarah M.",role:"Parent of 2 (Ages 7 & 9)",rating:5,emoji:""},{text:"The AI tutor is incredible! It explains things in a way my students actually understand. My whole class is hooked!",author:"Mr. Johnson",role:"3rd Grade Teacher",rating:5,emoji:""},{text:"I used to hate math but now it's FUN! I got the dragon pet and I'm on a 12-day streak! ",author:"Emma, Age 9",role:"Student & Math Champion",rating:5,emoji:""}],d=[{icon:xb,value:"10,000+",label:"Games Played Daily",color:"text-yellow-600"},{icon:J0,value:"50,000+",label:"Stars Earned",color:"text-purple-600"},{icon:Eb,value:"1,000+",label:"Happy Learners",color:"text-blue-600"},{icon:YI,value:"100%",label:"Fun Guaranteed",color:"text-pink-600"}],p=[{emoji:"",name:"Dragon Pet",desc:"Levels up with you!"},{emoji:"",name:"Crown",desc:"Show you're a champion!"},{emoji:"",name:"Custom Avatar",desc:"100+ items to unlock!"},{emoji:"",name:"Power-Ups",desc:"Time freeze, hints & more!"}];return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-blue-500 relative overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[x.jsx(Gt.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-10 left-10 text-6xl opacity-20",children:""}),x.jsx(Gt.div,{animate:{rotate:-360,scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute top-40 right-20 text-7xl opacity-20",children:""}),x.jsx(Gt.div,{animate:{y:[0,-20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-40 text-5xl opacity-20",children:""}),x.jsx(Gt.div,{animate:{x:[0,20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/2 right-10 text-6xl opacity-20",children:""})]}),x.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-12 md:py-20",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Gt.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1},className:"inline-block mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-gradient-to-br from-yellow-300 to-orange-400 rounded-full flex items-center justify-center shadow-2xl transform rotate-12 animate-pulse overflow-hidden",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-24 h-24 object-contain transform -rotate-12"})}),x.jsx(Gt.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 text-4xl",children:""}),x.jsx(Gt.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"absolute -bottom-2 -left-2 text-4xl",children:""})]})}),x.jsx(Gt.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-5xl md:text-7xl lg:text-8xl font-black mb-6 text-white drop-shadow-2xl",children:"Math is FUN Now! "}),x.jsx(Gt.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl text-white mb-4 max-w-3xl mx-auto font-bold drop-shadow-lg",children:"Learn  Play  Earn Rewards  Level Up!"}),x.jsxs(Gt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"flex flex-wrap items-center justify-center gap-3 mb-8",children:[x.jsxs(jr,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 text-lg font-bold shadow-xl border-0 animate-pulse",children:[x.jsx(Y$,{className:"w-5 h-5 mr-2"}),"7-Day FREE Trial - All Features!"]}),x.jsxs(jr,{className:"bg-white text-pink-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(YI,{className:"w-5 h-5 mr-2"}),"Kids LOVE It!"]}),x.jsxs(jr,{className:"bg-white text-blue-600 px-6 py-3 text-lg font-bold shadow-xl border-0",children:[x.jsx(gM,{className:"w-5 h-5 mr-2"}),"AI-Powered"]})]}),x.jsxs(Gt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[x.jsxs(Ws,{onClick:i,className:"h-20 px-12 text-2xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-105 transition-all",children:[x.jsx(Eq,{className:"w-8 h-8 mr-3"}),"START FREE NOW! "]}),x.jsxs(Ws,{onClick:()=>{var g;return(g=document.getElementById("features"))==null?void 0:g.scrollIntoView({behavior:"smooth"})},className:"h-20 px-10 text-xl font-bold border-4 border-white text-white bg-transparent hover:bg-white hover:text-purple-600 shadow-xl transition-all",children:["See What's Inside",x.jsx(L$,{className:"w-6 h-6 ml-2"})]})]}),x.jsx(Gt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto",children:d.map((g,v)=>{const S=g.icon;return x.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl border-4 border-yellow-300",children:[x.jsx(S,{className:`w-10 h-10 mx-auto mb-3 ${g.color}`}),x.jsx("div",{className:"text-3xl font-black text-gray-800",children:g.value}),x.jsx("div",{className:"text-sm font-bold text-gray-600 mt-1",children:g.label})]},v)})})]})}),x.jsxs("div",{style:{background:"linear-gradient(90deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",padding:"14px 0 12px 0",textAlign:"center",fontWeight:"bold",fontSize:"1.1rem",letterSpacing:"0.01em",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.08)",borderBottom:"2px solid #fff",borderRadius:8,margin:"0 auto 24px auto",maxWidth:900},className:"mx-auto mb-8",children:[x.jsx("span",{role:"img","aria-label":"lightbulb",style:{marginRight:8},children:""}),"Best Experience: ",x.jsx("span",{style:{fontWeight:700},children:"Math Adventure"})," works best on ",x.jsx("span",{style:{textDecoration:"underline"},children:"tablets"})," and ",x.jsx("span",{style:{textDecoration:"underline"},children:"desktop computers"})," for optimal gameplay and features."]}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"What's Inside? Everything! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Your kids will love these amazing features!"})]}),x.jsx("div",{className:"grid md:grid-cols-4 gap-6 mb-16",children:p.map((g,v)=>x.jsxs(Gt.div,{whileHover:{y:-10,scale:1.05},className:"bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-8 text-center border-4 border-purple-300 shadow-xl",children:[x.jsx("div",{className:"text-7xl mb-4",children:g.emoji}),x.jsx("h3",{className:"font-black text-xl mb-2 text-purple-800",children:g.name}),x.jsx("p",{className:"text-gray-700 font-semibold",children:g.desc})]},v))}),x.jsxs("div",{className:"mb-16",children:[x.jsx("h3",{className:"text-3xl md:text-4xl font-black text-center mb-8 text-gray-800",children:"12 Math Skills to Master! "}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:u.map((g,v)=>x.jsxs(Gt.div,{whileHover:{scale:1.1,rotate:5},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6 text-center border-3 border-blue-200 shadow-lg hover:shadow-2xl transition-all",children:[x.jsx("div",{className:"text-5xl mb-3",children:g.emoji}),x.jsx("div",{className:"font-bold text-sm text-gray-800",children:g.name}),x.jsx(jr,{className:"mt-2 bg-purple-500 text-white text-xs",children:g.grade})]},v))})]})]})}),x.jsx("div",{id:"features",className:"bg-gradient-to-br from-yellow-50 to-orange-50 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Why Kids Are OBSESSED! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Learning has never been this fun!"})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((g,v)=>{const S=g.icon;return x.jsxs(Gt.div,{whileHover:{y:-10},className:"bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-yellow-300",children:[x.jsxs("div",{className:`h-32 bg-gradient-to-br ${g.gradient} flex items-center justify-center relative`,children:[x.jsx("div",{className:"text-7xl",children:g.emoji}),x.jsx("div",{className:"absolute top-3 right-3",children:x.jsx(S,{className:"w-10 h-10 text-white opacity-50"})})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("h3",{className:"text-2xl font-black mb-3 text-gray-800",children:g.title}),x.jsx("p",{className:"text-gray-600 font-semibold text-lg",children:g.description})]})]},v)})})]})}),x.jsx("div",{className:"bg-white py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"So Easy, Even Parents Can Do It! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Three simple steps to math mastery"})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-green-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-green-500",children:"1"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Pick & Play! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Choose a math topic and difficulty. Start playing in seconds!"})]}),x.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-blue-400 to-cyan-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-blue-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-blue-500",children:"2"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Learn & Win! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Solve problems, get AI help when stuck, earn stars & coins!"})]}),x.jsxs(Gt.div,{whileHover:{scale:1.05},className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-3xl p-8 text-white shadow-2xl border-4 border-purple-600",children:[x.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:x.jsx("span",{className:"text-5xl font-black text-purple-500",children:"3"})}),x.jsx("h3",{className:"text-3xl font-black mb-4 text-center",children:"Unlock Rewards! "}),x.jsx("p",{className:"text-xl font-bold text-center",children:"Buy avatars, pets, badges, power-ups and MORE!"})]})]})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-pink-100 py-16",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-gray-800",children:"Parents & Kids LOVE Us! "}),x.jsx("p",{className:"text-2xl text-gray-700 font-bold",children:"Don't just take our word for it..."})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:c.map((g,v)=>x.jsxs(Gt.div,{whileHover:{y:-10,scale:1.02},className:"bg-white rounded-3xl p-8 shadow-2xl border-4 border-purple-300",children:[x.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(g.rating)].map((S,I)=>x.jsx(J0,{className:"w-6 h-6 fill-yellow-400 text-yellow-400"},I))}),x.jsx("div",{className:"text-6xl mb-4",children:g.emoji}),x.jsxs("p",{className:"text-gray-700 mb-6 italic font-semibold text-lg",children:['"',g.text,'"']}),x.jsxs("div",{children:[x.jsx("p",{className:"font-black text-lg text-gray-800",children:g.author}),x.jsx("p",{className:"text-sm text-gray-600 font-bold",children:g.role})]})]},v))})]})}),x.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 py-20",children:x.jsxs("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[x.jsx(Gt.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-8xl mb-8",children:""}),x.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 text-white drop-shadow-2xl",children:"Ready for Math Adventure?"}),x.jsx("p",{className:"text-3xl text-white mb-12 font-bold drop-shadow-lg",children:"Join 1,000+ kids having FUN with math!"}),x.jsxs(Ws,{onClick:i,className:"h-24 px-16 text-3xl font-black bg-white text-purple-600 hover:bg-yellow-300 hover:text-purple-700 shadow-2xl transform hover:scale-110 transition-all animate-pulse",children:[x.jsx(bq,{className:"w-10 h-10 mr-4"}),"LET'S GO! IT'S FREE! "]}),x.jsx("p",{className:"text-white mt-6 text-lg font-bold drop-shadow",children:" No credit card   Start in 30 seconds   100% kid-safe"})]})}),x.jsx("div",{className:"bg-gray-900 text-white py-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[x.jsx("div",{className:"mb-4 flex items-center justify-center",children:x.jsx("img",{src:"/icons/New Logo.png",alt:"App icon",className:"w-16 h-16 object-contain"})}),x.jsx("h3",{className:"text-3xl font-black mb-2",children:"Math Adventure"}),x.jsx("p",{className:"text-gray-400 mb-4 text-lg",children:"Making math fun, one game at a time! "}),x.jsx("p",{className:"text-sm text-gray-500",children:" 2025 Math Adventure. Built with  for learners everywhere."})]})}),r&&x.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[x.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:""}),x.jsx(DM,{onSuccess:()=>t(nt("Home"))})]})})]})}const a4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Home-B1e5oU6L-BnLx-1kh-B_y-JVsf-CWKmYmxg.js"),__vite__mapDeps([4,5,6,7,8,9,10,11,12,13,14,15,16])),Lt([4,5,6,7,8,9,10,11,12,13,14,15,16])),Ut([4,5,6,7,8,9,10,11,12,13,14,15,16])),zt([4,5,6,7,8,9,10,11,12,13,14,15,16]))),o4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Game-BSxN8OV2-DCbKaoIo-CoKI_H68-C2oEzMsS.js"),__vite__mapDeps([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Lt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),Ut([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7])),zt([17,18,1,19,20,10,21,15,11,9,22,14,23,24,25,26,7]))),l4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Progress-CJyc2nxx-CCph28do-Dvk4WEI3-DYVf7cb7.js"),__vite__mapDeps([27,7,5,9,28,10,29])),Lt([27,7,5,9,28,10,29])),Ut([27,7,5,9,28,10,29])),zt([27,7,5,9,28,10,29]))),u4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Avatar-DWsPiGGF-BsRh6I0m-CiAfZFZ2-VMcDuMlH.js"),__vite__mapDeps([30,18,31,32,33,34,14,0,1,35,23])),Lt([30,18,31,32,33,34,14,0,1,35,23])),Ut([30,18,31,32,33,34,14,0,1,35,23])),zt([30,18,31,32,33,34,14,0,1,35,23]))),c4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./DailyChallenge-Bdw758IQ-B_O2g2VE-DvsoFZjm-BVl3-dV-.js"),__vite__mapDeps([36,18,1,19,20,10,37,24,26,5,7])),Lt([36,18,1,19,20,10,37,24,26,5,7])),Ut([36,18,1,19,20,10,37,24,26,5,7])),zt([36,18,1,19,20,10,37,24,26,5,7]))),h4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./ParentPortal-ujdsGIsq-B8zz3Rxm-ecBaI858-V18MDA2n.js"),__vite__mapDeps([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Lt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),Ut([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25])),zt([38,18,32,33,39,9,15,22,28,31,40,41,34,1,10,12,42,35,14,23,11,43,3,44,25]))),d4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Shop-CVZgRxJn-CVz_4LS0-DQ5wSQPu-B3V0P-CH.js"),__vite__mapDeps([45,18,32,0,1,14,29,25,16,7])),Lt([45,18,32,0,1,14,29,25,16,7])),Ut([45,18,32,0,1,14,29,25,16,7])),zt([45,18,32,0,1,14,29,25,16,7]))),f4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Leaderboards-Bm79OtXC-B_odZ22w--BqRs9Md-C1aEMGSG.js"),__vite__mapDeps([46,18,32,47,9,7,12,10,37,44])),Lt([46,18,32,47,9,7,12,10,37,44])),Ut([46,18,32,47,9,7,12,10,37,44])),zt([46,18,32,47,9,7,12,10,37,44]))),p4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./TeamChallenges-YLDuyulC-UWmKqbgB-B_kKw956-BCaByBat.js"),__vite__mapDeps([48,18,1,9,10])),Lt([48,18,1,9,10])),Ut([48,18,1,9,10])),zt([48,18,1,9,10]))),m4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Subscription-BXM5wPAK-Cm6w4Qsz-voFvxR1H-DVukh1Ul.js"),__vite__mapDeps([49,18,6,23])),Lt([49,18,6,23])),Ut([49,18,6,23])),zt([49,18,6,23]))),g4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./GenerateIcons-irEsrbiy-D96HRozy-lDKd6HTa-BXcwyhV1.js"),__vite__mapDeps([50,51,23,3,8])),Lt([50,51,23,3,8])),Ut([50,51,23,3,8])),zt([50,51,23,3,8]))),y4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./TestIconGeneration-oHdXBYrX-Ci09WhjD-B1SIY6dW-Db-AZvX4.js"),__vite__mapDeps([52,51])),Lt([52,51])),Ut([52,51])),zt([52,51]))),v4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Messages-BRMZI1jn-BJW4UB3P-Bp9hI9-q-CMaVBDaV.js"),__vite__mapDeps([53,18,39,43,15,42])),Lt([53,18,39,43,15,42])),Ut([53,18,39,43,15,42])),zt([53,18,39,43,15,42]))),w4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./ColorByNumbers-JzUc735X-263wB9fx-JFki7FuT-21PC5gXP.js"),__vite__mapDeps([54,18,40,41,34,26,16,12,13,43,21,3,55])),Lt([54,18,40,41,34,26,16,12,13,43,21,3,55])),Ut([54,18,40,41,34,26,16,12,13,43,21,3,55])),zt([54,18,40,41,34,26,16,12,13,43,21,3,55]))),b4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Settings-DBhk2Jxw-eoqk1yaj-CaU4638V-CEJN_te2.js"),__vite__mapDeps([56,41,20,16,43,10,12,13,55,21,23,42])),Lt([56,41,20,16,43,10,12,13,55,21,23,42])),Ut([56,41,20,16,43,10,12,13,55,21,23,42])),zt([56,41,20,16,43,10,12,13,55,21,23,42]))),x4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./PrivacyPolicy-CiiZkyoZ-BGAqDCmQ-CwWqPFkn-BFwrBWMj.js"),__vite__mapDeps([57,23,14])),Lt([57,23,14])),Ut([57,23,14])),zt([57,23,14]))),E4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./AITutor-CiJvOfzv-b-ne1DOj-DdTMYpSq-FjZIlbkn.js"),__vite__mapDeps([58,32,10,22,15,7,24,1,9,28,25,14,11])),Lt([58,32,10,22,15,7,24,1,9,28,25,14,11])),Ut([58,32,10,22,15,7,24,1,9,28,25,14,11])),zt([58,32,10,22,15,7,24,1,9,28,25,14,11]))),S4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./AdminTestAccount-DOgC3vLm-CviO_HwC-C3lNKOJf-Dm2a8U2H.js"),__vite__mapDeps([59,31,47,23])),Lt([59,31,47,23])),Ut([59,31,47,23])),zt([59,31,47,23]))),k4=E.lazy(()=>Bt(()=>Vt(()=>Ft(()=>Ot(()=>import("./Subscribe-D5mtZK-4-DoW00_oc-CqFzd4vf-Rv16M3XI.js"),__vite__mapDeps([60,51])),Lt([60,51])),Ut([60,51])),zt([60,51]))),X2={Home:a4,Game:o4,Progress:l4,Avatar:u4,DailyChallenge:c4,ParentPortal:h4,Shop:d4,Leaderboards:f4,TeamChallenges:p4,Subscription:m4,GenerateIcons:g4,TestIconGeneration:y4,Landing:sx,Messages:v4,ColorByNumbers:w4,Settings:b4,PrivacyPolicy:x4,AITutor:E4,AdminTestAccount:S4,Subscribe:k4};function ine(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(X2).find(n=>n.toLowerCase()===e.toLowerCase())||Object.keys(X2)[0]}const ane=()=>x.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-4"}),x.jsx("p",{className:"text-xl text-gray-600",children:"Loading..."})]})});function one(){const t=Gi(),e=ine(t.pathname);return x.jsx(bY,{currentPageName:e,children:x.jsx(Ym,{children:x.jsx(E.Suspense,{fallback:x.jsx(ane,{}),children:x.jsxs(mB,{children:[x.jsx(Dt,{path:"/",element:x.jsx(sx,{})}),x.jsx(Dt,{path:"/Home",element:x.jsx(a4,{})}),x.jsx(Dt,{path:"/Game",element:x.jsx(o4,{})}),x.jsx(Dt,{path:"/Progress",element:x.jsx(l4,{})}),x.jsx(Dt,{path:"/Avatar",element:x.jsx(u4,{})}),x.jsx(Dt,{path:"/DailyChallenge",element:x.jsx(c4,{})}),x.jsx(Dt,{path:"/ParentPortal",element:x.jsx(h4,{})}),x.jsx(Dt,{path:"/Shop",element:x.jsx(d4,{})}),x.jsx(Dt,{path:"/Leaderboards",element:x.jsx(f4,{})}),x.jsx(Dt,{path:"/TeamChallenges",element:x.jsx(p4,{})}),x.jsx(Dt,{path:"/Subscription",element:x.jsx(m4,{})}),x.jsx(Dt,{path:"/GenerateIcons",element:x.jsx(g4,{})}),x.jsx(Dt,{path:"/TestIconGeneration",element:x.jsx(y4,{})}),x.jsx(Dt,{path:"/Landing",element:x.jsx(sx,{})}),x.jsx(Dt,{path:"/Messages",element:x.jsx(v4,{})}),x.jsx(Dt,{path:"/ColorByNumbers",element:x.jsx(w4,{})}),x.jsx(Dt,{path:"/Settings",element:x.jsx(b4,{})}),x.jsx(Dt,{path:"/PrivacyPolicy",element:x.jsx(x4,{})}),x.jsx(Dt,{path:"/AITutor",element:x.jsx(E4,{})}),x.jsx(Dt,{path:"/AdminTestAccount",element:x.jsx(S4,{})}),x.jsx(Dt,{path:"/Subscribe",element:x.jsx(k4,{})})]})})})})}function lne(){return x.jsx(FB,{children:x.jsx(one,{})})}const une=20,cne=1e6,Ni={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Pw=0;function hne(){return Pw=(Pw+1)%Number.MAX_VALUE,Pw.toString()}const Nw=new Map,Y2=t=>{if(Nw.has(t))return;const e=setTimeout(()=>{Nw.delete(t),Rd({type:Ni.REMOVE_TOAST,toastId:t})},cne);Nw.set(t,e)},dne=(t,e)=>{switch(e.type){case Ni.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,une)};case Ni.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ni.DISMISS_TOAST:{const{toastId:n}=e;return n?Y2(n):t.toasts.forEach(r=>{Y2(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Ni.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ng=[];let rg={toasts:[]};function Rd(t){rg=dne(rg,t),ng.forEach(e=>{e(rg)})}function fne({...t}){const e=hne(),n=s=>Rd({type:Ni.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>Rd({type:Ni.DISMISS_TOAST,toastId:e});return Rd({type:Ni.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pne(){const[t,e]=E.useState(rg);return E.useEffect(()=>(ng.push(e),()=>{const n=ng.indexOf(e);n>-1&&ng.splice(n,1)}),[t]),{...t,toast:fne,dismiss:n=>Rd({type:Ni.DISMISS_TOAST,toastId:n})}}const T4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));T4.displayName="ToastProvider";const _4=E.forwardRef(({...t},e)=>x.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));_4.displayName="ToastViewport";const mne=Uy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),I4=E.forwardRef(({className:t,variant:e,...n},r)=>x.jsx("div",{ref:r,className:wt(mne({variant:e}),t),...n}));I4.displayName="Toast";const gne=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gne.displayName="ToastAction";const C4=E.forwardRef(({className:t,...e},n)=>x.jsx("button",{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(j1,{className:"h-4 w-4"})}));C4.displayName="ToastClose";const P4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm font-semibold",t),...e}));P4.displayName="ToastTitle";const N4=E.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:wt("text-sm opacity-90",t),...e}));N4.displayName="ToastDescription";function yne(){const{toasts:t}=pne();return x.jsxs(T4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return x.jsxs(I4,{...i,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(P4,{children:n}),r&&x.jsx(N4,{children:r})]}),s,x.jsx(C4,{})]},e)}),x.jsx(_4,{})]})}function vne(){return x.jsxs(x.Fragment,{children:[x.jsx(lne,{}),x.jsx(yne,{})]})}const wne=new v$({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});e3.createRoot(document.getElementById("root")).render(x.jsx(b$,{client:wne,children:x.jsx(jW,{children:x.jsx(vne,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});export{Ws as $,DM as A,Tq as B,Ob as C,j1 as D,CY as E,$$ as F,Y$ as G,Gt as H,D$ as I,rq as J,wt as K,XI as L,W$ as M,ky as N,U$ as O,jM as P,hs as Q,us as R,E as S,Ur as T,An as U,cs as V,X0 as W,Tne as X,Xe as Y,tE as Z,Pj as _,_Z as a,Ul as a$,Rne as a0,T1 as a1,AW as a2,Ene as a3,KI as a4,JI as a5,L$ as a6,Z$ as a7,Q$ as a8,kne as a9,y1 as aA,xne as aB,My as aC,YI as aD,eC as aE,ps as aF,Dl as aG,vM as aH,DK as aI,ax as aJ,fD as aK,pne as aL,pX as aM,tY as aN,Lne as aO,Ane as aP,Sne as aQ,Ine as aR,Nne as aS,jne as aT,One as aU,Dne as aV,pG as aW,PA as aX,cH as aY,qM as aZ,Fne as a_,ym as aa,Y0 as ab,En as ac,Pne as ad,Mne as ae,Z0 as af,Hm as ag,Dy as ah,ei as ai,Cf as aj,iA as ak,Pb as al,LM as am,UK as an,sr as ao,VK as ap,$n as aq,et as ar,Nf as as,pA as at,BM as au,zK as av,BK as aw,Cne as ax,tC as ay,tf as az,TY as b,VM as b0,UM as b1,K$ as b2,to as b3,N1 as b4,Fi as b5,er as b6,r$ as b7,If as b8,mb as b9,Qd as ba,m$ as bb,QI as bc,bne as bd,gA as be,rG as bf,sG as bg,gW as bh,Uy as bi,IY as c,wO as d,_ne as e,Eb as f,xY as g,Wm as h,J0 as i,F1 as j,jr as k,gY as l,ft as m,nt as n,ll as o,w$ as p,OM as q,gM as r,iT as s,aq as t,pZ as u,SY as v,xb as w,x,EY as y,an as z};
